/* BO Wed Jul 31 11:22:09 CEST 2013 */
(function(a,b){function c(a,f,l){if(l===b&&1===a.nodeType)if(l="data-"+f.replace(C,"-$1").toLowerCase(),l=a.getAttribute(l),"string"===typeof l){try{l="true"===l?!0:"false"===l?!1:"null"===l?null:!d.isNaN(l)?parseFloat(l):ga.test(l)?d.parseJSON(l):l}catch(h){}d.data(a,f,l)}else l=b;return l}function e(a){for(var f in a)if("toJSON"!==f)return!1;return!0}function g(a,f,l){var h=f+"defer",t=f+"queue",c=f+"mark",e=d.data(a,h,b,!0);e&&("queue"===l||!d.data(a,t,b,!0))&&("mark"===l||!d.data(a,c,b,!0))&&
setTimeout(function(){!d.data(a,t,b,!0)&&!d.data(a,c,b,!0)&&(d.removeData(a,h,!0),e.resolve())},0)}function j(){return!1}function n(){return!0}function A(a,f,l){var h=d.extend({},l[0]);h.type=a;h.originalEvent={};h.liveFired=b;d.event.handle.call(f,h);h.isDefaultPrevented()&&l[0].preventDefault()}function z(a){var f,b,h,t,c,e,y,g,k,j,q,m=[];t=[];c=d._data(this,"events");if(!(a.liveFired===this||!c||!c.live||a.target.disabled||a.button&&"click"===a.type)){a.namespace&&(q=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+
"(\\.|$)"));a.liveFired=this;var p=c.live.slice(0);for(y=0;y<p.length;y++)c=p[y],c.origType.replace(Ia,"")===a.type?t.push(c.selector):p.splice(y--,1);t=d(a.target).closest(t,a.currentTarget);for(g=0,k=t.length;g<k;g++){j=t[g];for(y=0;y<p.length;y++)if(c=p[y],j.selector===c.selector&&(!q||q.test(c.namespace))&&!j.elem.disabled){e=j.elem;h=null;if("mouseenter"===c.preType||"mouseleave"===c.preType)a.type=c.preType,(h=d(a.relatedTarget).closest(c.selector)[0])&&d.contains(e,h)&&(h=e);(!h||h!==e)&&m.push({elem:e,
handleObj:c,level:j.level})}}for(g=0,k=m.length;g<k;g++){t=m[g];if(b&&t.level>b)break;a.currentTarget=t.elem;a.data=t.handleObj.data;a.handleObj=t.handleObj;q=t.handleObj.origHandler.apply(t.elem,arguments);if(!1===q||a.isPropagationStopped())if(b=t.level,!1===q&&(f=!1),a.isImmediatePropagationStopped())break}return f}}function G(a,f){return(a&&"*"!==a?a+".":"")+f.replace(cb,"`").replace(db,"&")}function Y(a,f,b){f=f||0;if(d.isFunction(f))return d.grep(a,function(a,i){return!!f.call(a,i,a)===b});
if(f.nodeType)return d.grep(a,function(a){return a===f===b});if("string"===typeof f){var h=d.grep(a,function(a){return 1===a.nodeType});if(E.test(f))return d.filter(f,h,!b);f=d.filter(f,h)}return d.grep(a,function(a){return 0<=d.inArray(a,f)===b})}function I(a,f){if(1===f.nodeType&&d.hasData(a)){var b=d.expando,h=d.data(a),t=d.data(f,h);if(h=h[b]){var c=h.events,t=t[b]=d.extend({},h);if(c){delete t.handle;t.events={};for(var e in c){b=0;for(h=c[e].length;b<h;b++)d.event.add(f,e+(c[e][b].namespace?
".":"")+c[e][b].namespace,c[e][b],c[e][b].data)}}}}}function J(a,f){var b;if(1===f.nodeType){f.clearAttributes&&f.clearAttributes();f.mergeAttributes&&f.mergeAttributes(a);b=f.nodeName.toLowerCase();if("object"===b)f.outerHTML=a.outerHTML;else if("input"===b&&("checkbox"===a.type||"radio"===a.type))a.checked&&(f.defaultChecked=f.checked=a.checked),f.value!==a.value&&(f.value=a.value);else if("option"===b)f.selected=a.defaultSelected;else if("input"===b||"textarea"===b)f.defaultValue=a.defaultValue;
f.removeAttribute(d.expando)}}function D(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function sa(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function ha(a){d.nodeName(a,"input")?sa(a):"getElementsByTagName"in a&&d.grep(a.getElementsByTagName("input"),sa)}function F(a,f){f.src?d.ajax({url:f.src,async:!1,dataType:"script"}):d.globalEval((f.text||f.textContent||f.innerHTML||"").replace(m,"/*$0*/"));f.parentNode&&
f.parentNode.removeChild(f)}function B(a,f,b){var h="width"===f?a.offsetWidth:a.offsetHeight,t="width"===f?eb:fb;if(0<h)return"border"!==b&&d.each(t,function(){b||(h-=parseFloat(d.css(a,"padding"+this))||0);h="margin"===b?h+(parseFloat(d.css(a,b+this))||0):h-(parseFloat(d.css(a,"border"+this+"Width"))||0)}),h+"px";h=wa(a,f,f);if(0>h||null==h)h=a.style[f]||0;h=parseFloat(h)||0;b&&d.each(t,function(){h+=parseFloat(d.css(a,"padding"+this))||0;"padding"!==b&&(h+=parseFloat(d.css(a,"border"+this+"Width"))||
0);"margin"===b&&(h+=parseFloat(d.css(a,b+this))||0)});return h+"px"}function ja(a){return function(f,b){"string"!==typeof f&&(b=f,f="*");if(d.isFunction(b))for(var h=f.toLowerCase().split(Pa),t=0,c=h.length,e,g;t<c;t++)e=h[t],(g=/^\+/.test(e))&&(e=e.substr(1)||"*"),e=a[e]=a[e]||[],e[g?"unshift":"push"](b)}}function ba(a,f,d,h,t,c){t=t||f.dataTypes[0];c=c||{};c[t]=!0;for(var t=a[t],e=0,g=t?t.length:0,k=a===Ja,K;e<g&&(k||!K);e++)K=t[e](f,d,h),"string"===typeof K&&(!k||c[K]?K=b:(f.dataTypes.unshift(K),
K=ba(a,f,d,h,K,c)));if((k||!K)&&!c["*"])K=ba(a,f,d,h,"*",c);return K}function T(a,f){var l,h,c=d.ajaxSettings.flatOptions||{};for(l in f)f[l]!==b&&((c[l]?a:h||(h={}))[l]=f[l]);h&&d.extend(!0,a,h)}function O(a,f,b,h){if(d.isArray(f))d.each(f,function(f,c){b||gb.test(a)?h(a,c):O(a+"["+("object"===typeof c||d.isArray(c)?f:"")+"]",c,b,h)});else if(!b&&null!=f&&"object"===typeof f)for(var c in f)O(a+"["+c+"]",f[c],b,h);else h(a,f)}function ma(){try{return new a.XMLHttpRequest}catch(i){}}function U(){setTimeout(na,
0);return Ea=d.now()}function na(){Ea=b}function v(a,f){var b={};d.each(Qa.concat.apply([],Qa.slice(0,f)),function(){b[this]=a});return b}function s(a){if(!Ka[a]){var f=o.body,b=d("<"+a+">").appendTo(f),h=b.css("display");b.remove();if("none"===h||""===h){ka||(ka=o.createElement("iframe"),ka.frameBorder=ka.width=ka.height=0);f.appendChild(ka);if(!xa||!ka.createElement)xa=(ka.contentWindow||ka.contentDocument).document,xa.write(("CSS1Compat"===o.compatMode?"<!doctype html>":"")+"<html><body>"),xa.close();
b=xa.createElement(a);xa.body.appendChild(b);h=d.css(b,"display");f.removeChild(ka)}Ka[a]=h}return Ka[a]}function Q(a){return d.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var o=a.document,V=a.navigator,ca=a.location,d=function(){function i(){if(!f.isReady){try{o.documentElement.doScroll("left")}catch(a){setTimeout(i,1);return}f.ready()}}var f=function(a,i){return new f.fn.init(a,i,c)},d=a.jQuery,h=a.$,c,e=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=/\S/,g=/^\s+/,k=/\s+$/,K=/\d/,
j=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,q=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,x=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,n=/(opera)(?:.*version)?[ \/]([\w.]+)/,N=/(msie) ([\w.]+)/,r=/(mozilla)(?:.*? rv:([\w.]+))?/,hb=/-([a-z]|[0-9])/ig,ib=/^-ms-/,jb=function(a,i){return(i+"").toUpperCase()},Ca=V.userAgent,Fa,ya,kb=Object.prototype.toString,La=Object.prototype.hasOwnProperty,s=Array.prototype.push,W=Array.prototype.slice,
P=String.prototype.trim,S=Array.prototype.indexOf,v={};f.fn=f.prototype={constructor:f,init:function(a,i,d){var l;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!i&&o.body)return this.context=o,this[0]=o.body,this.selector=a,this.length=1,this;if("string"===typeof a){if((l="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:e.exec(a))&&(l[1]||!i)){if(l[1])return d=(i=i instanceof f?i[0]:i)?i.ownerDocument||i:o,(a=j.exec(a))?f.isPlainObject(i)?
(a=[o.createElement(a[1])],f.fn.attr.call(a,i,!0)):a=[d.createElement(a[1])]:(a=f.buildFragment([l[1]],[d]),a=(a.cacheable?f.clone(a.fragment):a.fragment).childNodes),f.merge(this,a);if((i=o.getElementById(l[2]))&&i.parentNode){if(i.id!==l[2])return d.find(a);this.length=1;this[0]=i}this.context=o;this.selector=a;return this}return!i||i.jquery?(i||d).find(a):this.constructor(i).find(a)}if(f.isFunction(a))return d.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return f.makeArray(a,
this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return W.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,i,b){var d=this.constructor();f.isArray(a)?s.apply(d,a):f.merge(d,a);d.prevObject=this;d.context=this.context;"find"===i?d.selector=this.selector+(this.selector?" ":"")+b:i&&(d.selector=this.selector+"."+i+"("+b+")");return d},each:function(a,i){return f.each(this,a,i)},ready:function(a){f.bindReady();
Fa.done(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(W.apply(this,arguments),"slice",W.call(arguments).join(","))},map:function(a){return this.pushStack(f.map(this,function(i,f){return a.call(i,f,i)}))},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var a,
i,d,l,h,c=arguments[0]||{},t=1,e=arguments.length,L=!1;"boolean"===typeof c&&(L=c,c=arguments[1]||{},t=2);"object"!==typeof c&&!f.isFunction(c)&&(c={});e===t&&(c=this,--t);for(;t<e;t++)if(null!=(a=arguments[t]))for(i in a)d=c[i],l=a[i],c!==l&&(L&&l&&(f.isPlainObject(l)||(h=f.isArray(l)))?(h?(h=!1,d=d&&f.isArray(d)?d:[]):d=d&&f.isPlainObject(d)?d:{},c[i]=f.extend(L,d,l)):l!==b&&(c[i]=l));return c};f.extend({noConflict:function(i){a.$===f&&(a.$=h);i&&a.jQuery===f&&(a.jQuery=d);return f},isReady:!1,
readyWait:1,holdReady:function(a){a?f.readyWait++:f.ready(!0)},ready:function(a){if(!0===a&&!--f.readyWait||!0!==a&&!f.isReady){if(!o.body)return setTimeout(f.ready,1);f.isReady=!0;!0!==a&&0<--f.readyWait||(Fa.resolveWith(o,[f]),f.fn.trigger&&f(o).trigger("ready").unbind("ready"))}},bindReady:function(){if(!Fa){Fa=f._Deferred();if("complete"===o.readyState)return setTimeout(f.ready,1);if(o.addEventListener)o.addEventListener("DOMContentLoaded",ya,!1),a.addEventListener("load",f.ready,!1);else if(o.attachEvent){o.attachEvent("onreadystatechange",
ya);a.attachEvent("onload",f.ready);var b=!1;try{b=null==a.frameElement}catch(d){}o.documentElement.doScroll&&b&&i()}}},isFunction:function(a){return"function"===f.type(a)},isArray:Array.isArray||function(a){return"array"===f.type(a)},isWindow:function(a){return a&&"object"===typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!K.test(a)||isNaN(a)},type:function(a){return null==a?""+a:v[kb.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==f.type(a)||a.nodeType||f.isWindow(a))return!1;
try{if(a.constructor&&!La.call(a,"constructor")&&!La.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(var d in a);return d===b||La.call(a,d)},isEmptyObject:function(a){for(var i in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(i){if("string"!==typeof i||!i)return null;i=f.trim(i);if(a.JSON&&a.JSON.parse)return a.JSON.parse(i);if(q.test(i.replace(m,"@").replace(p,"]").replace(x,"")))return(new Function("return "+i))();f.error("Invalid JSON: "+i)},parseXML:function(i){var d,
l;try{a.DOMParser?(l=new DOMParser,d=l.parseFromString(i,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(i))}catch(h){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+i);return d},noop:function(){},globalEval:function(i){i&&u.test(i)&&(a.execScript||function(i){a.eval.call(a,i)})(i)},camelCase:function(a){return a.replace(ib,"ms-").replace(hb,jb)},nodeName:function(a,i){return a.nodeName&&a.nodeName.toUpperCase()===
i.toUpperCase()},each:function(a,i,d){var l,h=0,c=a.length,t=c===b||f.isFunction(a);if(d)if(t)for(l in a){if(!1===i.apply(a[l],d))break}else for(;h<c&&!(!1===i.apply(a[h++],d)););else if(t)for(l in a){if(!1===i.call(a[l],l,a[l]))break}else for(;h<c&&!(!1===i.call(a[h],h,a[h++])););return a},trim:P?function(a){return null==a?"":P.call(a)}:function(a){return null==a?"":a.toString().replace(g,"").replace(k,"")},makeArray:function(a,i){var b=i||[];if(null!=a){var d=f.type(a);null==a.length||"string"===
d||"function"===d||"regexp"===d||f.isWindow(a)?s.call(b,a):f.merge(b,a)}return b},inArray:function(a,i){if(!i)return-1;if(S)return S.call(i,a);for(var f=0,b=i.length;f<b;f++)if(i[f]===a)return f;return-1},merge:function(a,i){var f=a.length,d=0;if("number"===typeof i.length)for(var l=i.length;d<l;d++)a[f++]=i[d];else for(;i[d]!==b;)a[f++]=i[d++];a.length=f;return a},grep:function(a,i,f){for(var b=[],d,f=!!f,l=0,h=a.length;l<h;l++)d=!!i(a[l],l),f!==d&&b.push(a[l]);return b},map:function(a,i,d){var l,
h,c=[],t=0,e=a.length;if(a instanceof f||e!==b&&"number"===typeof e&&(0<e&&a[0]&&a[e-1]||0===e||f.isArray(a)))for(;t<e;t++)l=i(a[t],t,d),null!=l&&(c[c.length]=l);else for(h in a)l=i(a[h],h,d),null!=l&&(c[c.length]=l);return c.concat.apply([],c)},guid:1,proxy:function(a,i){if("string"===typeof i)var d=a[i],i=a,a=d;if(!f.isFunction(a))return b;var l=W.call(arguments,2),d=function(){return a.apply(i,l.concat(W.call(arguments)))};d.guid=a.guid=a.guid||d.guid||f.guid++;return d},access:function(a,i,d,
l,h,c){var t=a.length;if("object"===typeof i){for(var e in i)f.access(a,e,i[e],l,h,d);return a}if(d!==b){l=!c&&l&&f.isFunction(d);for(e=0;e<t;e++)h(a[e],i,l?d.call(a[e],e,h(a[e],i)):d,c);return a}return t?h(a[0],i):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=w.exec(a)||n.exec(a)||N.exec(a)||0>a.indexOf("compatible")&&r.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(i,f){return new a.fn.init(i,f)}f.extend(!0,a,this);a.superclass=
this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(b,d){d&&d instanceof f&&!(d instanceof a)&&(d=a(d));return f.fn.init.call(this,b,d,i)};a.fn.init.prototype=a.fn;var i=a(o);return a},browser:{}});f.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,i){v["[object "+i+"]"]=i.toLowerCase()});Ca=f.uaMatch(Ca);Ca.browser&&(f.browser[Ca.browser]=!0,f.browser.version=Ca.version);f.browser.webkit&&(f.browser.safari=!0);u.test("\u00a0")&&(g=
/^[\s\xA0]+/,k=/[\s\xA0]+$/);c=f(o);o.addEventListener?ya=function(){o.removeEventListener("DOMContentLoaded",ya,!1);f.ready()}:o.attachEvent&&(ya=function(){"complete"===o.readyState&&(o.detachEvent("onreadystatechange",ya),f.ready())});return f}(),Z="done,fail,isResolved,isRejected,promise,then,always,pipe".split(","),R=[].slice;d.extend({_Deferred:function(){var a=[],f,b,h,c={done:function(){if(!h){var b=arguments,l,e,g,k,j;f&&(j=f,f=0);for(l=0,e=b.length;l<e;l++)g=b[l],k=d.type(g),"array"===k?
c.done.apply(c,g):"function"===k&&a.push(g);j&&c.resolveWith(j[0],j[1])}return this},resolveWith:function(d,c){if(!h&&!f&&!b){c=c||[];b=1;try{for(;a[0];)a.shift().apply(d,c)}finally{f=[d,c],b=0}}return this},resolve:function(){c.resolveWith(this,arguments);return this},isResolved:function(){return!(!b&&!f)},cancel:function(){h=1;a=[];return this}};return c},Deferred:function(a){var f=d._Deferred(),b=d._Deferred(),h;d.extend(f,{then:function(a,i){f.done(a).fail(i);return this},always:function(){return f.done.apply(f,
arguments).fail.apply(this,arguments)},fail:b.done,rejectWith:b.resolveWith,reject:b.resolve,isRejected:b.isResolved,pipe:function(a,i){return d.Deferred(function(b){d.each({done:[a,"resolve"],fail:[i,"reject"]},function(a,i){var l=i[0],h=i[1],c;if(d.isFunction(l))f[a](function(){if((c=l.apply(this,arguments))&&d.isFunction(c.promise))c.promise().then(b.resolve,b.reject);else b[h+"With"](this===f?b:this,[c])});else f[a](b[h])})}).promise()},promise:function(a){if(null==a){if(h)return h;h=a={}}for(var i=
Z.length;i--;)a[Z[i]]=f[Z[i]];return a}});f.done(b.cancel).fail(f.cancel);delete f.cancel;a&&a.call(f,f);return f},when:function(a){function f(a){return function(i){b[a]=1<arguments.length?R.call(arguments,0):i;--e||u.resolveWith(u,R.call(b,0))}}var b=arguments,h=0,c=b.length,e=c,u=1>=c&&a&&d.isFunction(a.promise)?a:d.Deferred();if(1<c){for(;h<c;h++)b[h]&&d.isFunction(b[h].promise)?b[h].promise().then(f(h),u.reject):--e;e||u.resolveWith(u,b)}else u!==a&&u.resolveWith(u,c?[a]:[]);return u.promise()}});
d.support=function(){var a=o.createElement("div"),f=o.documentElement,b,h,c,e,u,g;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";b=a.getElementsByTagName("*");h=a.getElementsByTagName("a")[0];if(!b||!b.length||!h)return{};c=o.createElement("select");e=c.appendChild(o.createElement("option"));b=a.getElementsByTagName("input")[0];u={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,
htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(h.getAttribute("style")),hrefNormalized:"/a"===h.getAttribute("href"),opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,checkOn:"on"===b.value,optSelected:e.selected,getSetAttribute:"t"!==a.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};b.checked=!0;u.noCloneChecked=b.cloneNode(!0).checked;c.disabled=
!0;u.optDisabled=!e.disabled;try{delete a.test}catch(k){u.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){u.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));b=o.createElement("input");b.value="t";b.setAttribute("type","radio");u.radioValue="t"===b.value;b.setAttribute("checked","checked");a.appendChild(b);h=o.createDocumentFragment();h.appendChild(a.firstChild);u.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";
a.style.width=a.style.paddingLeft="1px";c=o.getElementsByTagName("body")[0];h=o.createElement(c?"div":"body");e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};c&&d.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in e)h.style[g]=e[g];h.appendChild(a);f=c||f;f.insertBefore(h,f.firstChild);u.appendChecked=b.checked;u.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,u.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display=
"",a.innerHTML="<div style='width:4px;'></div>",u.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";c=a.getElementsByTagName("td");b=0===c[0].offsetHeight;c[0].style.display="";c[1].style.display="none";u.reliableHiddenOffsets=b&&0===c[0].offsetHeight;a.innerHTML="";o.defaultView&&o.defaultView.getComputedStyle&&(b=o.createElement("div"),b.style.width="0",b.style.marginRight="0",a.appendChild(b),u.reliableMarginRight=
0===(parseInt((o.defaultView.getComputedStyle(b,null)||{marginRight:0}).marginRight,10)||0));h.innerHTML="";f.removeChild(h);if(a.attachEvent)for(g in{submit:1,change:1,focusin:1})f="on"+g,b=f in a,b||(a.setAttribute(f,"return;"),b="function"===typeof a[f]),u[g+"Bubbles"]=b;h=h=c=e=c=b=a=b=null;return u}();d.boxModel=d.support.boxModel;var ga=/^(?:\{.*\}|\[.*\])$/,C=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!e(a)},data:function(a,f,l,h){if(d.acceptData(a)){var c=d.expando,e="string"===typeof f,u=a.nodeType,g=u?d.cache:a,k=u?a[d.expando]:a[d.expando]&&d.expando;if(k&&(!h||!k||!g[k]||g[k][c])||!(e&&l===b)){k||(u?a[d.expando]=k=++d.uuid:k=d.expando);g[k]||(g[k]={},u||(g[k].toJSON=d.noop));if("object"===typeof f||"function"===typeof f)h?g[k][c]=d.extend(g[k][c],f):g[k]=d.extend(g[k],f);a=g[k];h&&(a[c]||(a[c]={}),a=
a[c]);l!==b&&(a[d.camelCase(f)]=l);if("events"===f&&!a[f])return a[c]&&a[c].events;e?(l=a[f],null==l&&(l=a[d.camelCase(f)])):l=a;return l}}},removeData:function(a,f,b){if(d.acceptData(a)){var h,c=d.expando,L=a.nodeType,u=L?d.cache:a,g=L?a[d.expando]:d.expando;if(u[g]){if(f&&(h=b?u[g][c]:u[g]))if(h[f]||(f=d.camelCase(f)),delete h[f],!e(h))return;if(b&&(delete u[g][c],!e(u[g])))return;f=u[g][c];d.support.deleteExpando||!u.setInterval?delete u[g]:u[g]=null;f?(u[g]={},L||(u[g].toJSON=d.noop),u[g][c]=
f):L&&(d.support.deleteExpando?delete a[d.expando]:a.removeAttribute?a.removeAttribute(d.expando):a[d.expando]=null)}}},_data:function(a,f,b){return d.data(a,f,b,!0)},acceptData:function(a){if(a.nodeName){var f=d.noData[a.nodeName.toLowerCase()];if(f)return!(!0===f||a.getAttribute("classid")!==f)}return!0}});d.fn.extend({data:function(a,f){var l=null;if("undefined"===typeof a){if(this.length&&(l=d.data(this[0]),1===this[0].nodeType))for(var h=this[0].attributes,t,e=0,u=h.length;e<u;e++)t=h[e].name,
0===t.indexOf("data-")&&(t=d.camelCase(t.substring(5)),c(this[0],t,l[t]));return l}if("object"===typeof a)return this.each(function(){d.data(this,a)});var g=a.split(".");g[1]=g[1]?"."+g[1]:"";return f===b?(l=this.triggerHandler("getData"+g[1]+"!",[g[0]]),l===b&&this.length&&(l=d.data(this[0],a),l=c(this[0],a,l)),l===b&&g[1]?this.data(g[0]):l):this.each(function(){var b=d(this),l=[g[0],f];b.triggerHandler("setData"+g[1]+"!",l);d.data(this,a,f);b.triggerHandler("changeData"+g[1]+"!",l)})},removeData:function(a){return this.each(function(){d.removeData(this,
a)})}});d.extend({_mark:function(a,f){a&&(f=(f||"fx")+"mark",d.data(a,f,(d.data(a,f,b,!0)||0)+1,!0))},_unmark:function(a,f,l){!0!==a&&(l=f,f=a,a=!1);if(f){var l=l||"fx",h=l+"mark";(a=a?0:(d.data(f,h,b,!0)||1)-1)?d.data(f,h,a,!0):(d.removeData(f,h,!0),g(f,l,"mark"))}},queue:function(a,f,l){if(a){var f=(f||"fx")+"queue",h=d.data(a,f,b,!0);l&&(!h||d.isArray(l)?h=d.data(a,f,d.makeArray(l),!0):h.push(l));return h||[]}},dequeue:function(a,f){var f=f||"fx",b=d.queue(a,f),h=b.shift();"inprogress"===h&&(h=
b.shift());h&&("fx"===f&&b.unshift("inprogress"),h.call(a,function(){d.dequeue(a,f)}));b.length||(d.removeData(a,f+"queue",!0),g(a,f,"queue"))}});d.fn.extend({queue:function(a,f){"string"!==typeof a&&(f=a,a="fx");return f===b?d.queue(this[0],a):this.each(function(){var b=d.queue(this,a,f);"fx"===a&&"inprogress"!==b[0]&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,f){a=d.fx?d.fx.speeds[a]||a:a;f=f||"fx";return this.queue(f,function(){var b=
this;setTimeout(function(){d.dequeue(b,f)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function f(){--e||l.resolveWith(h,[h])}"string"!==typeof a&&(a=b);for(var a=a||"fx",l=d.Deferred(),h=this,c=h.length,e=1,g=a+"defer",k=a+"queue",a=a+"mark",j;c--;)if(j=d.data(h[c],g,b,!0)||(d.data(h[c],k,b,!0)||d.data(h[c],a,b,!0))&&d.data(h[c],g,d._Deferred(),!0))e++,j.done(f);f();return l.promise()}});var aa=/[\n\t\r]/g,la=/\s+/,x=/\r/g,w=/^(?:button|input)$/i,P=/^(?:button|input|object|select|textarea)$/i,
W=/^a(?:rea)?$/i,za=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,oa,X;d.fn.extend({attr:function(a,f){return d.access(this,a,f,!0,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,f){return d.access(this,a,f,!0,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(f){}})},addClass:function(a){var f,b,h,c,e,g,k;
if(d.isFunction(a))return this.each(function(f){d(this).addClass(a.call(this,f,this.className))});if(a&&"string"===typeof a){f=a.split(la);for(b=0,h=this.length;b<h;b++)if(c=this[b],1===c.nodeType)if(!c.className&&1===f.length)c.className=a;else{e=" "+c.className+" ";for(g=0,k=f.length;g<k;g++)~e.indexOf(" "+f[g]+" ")||(e+=f[g]+" ");c.className=d.trim(e)}}return this},removeClass:function(a){var f,l,h,c,e,g,k;if(d.isFunction(a))return this.each(function(f){d(this).removeClass(a.call(this,f,this.className))});
if(a&&"string"===typeof a||a===b){f=(a||"").split(la);for(l=0,h=this.length;l<h;l++)if(c=this[l],1===c.nodeType&&c.className)if(a){e=(" "+c.className+" ").replace(aa," ");for(g=0,k=f.length;g<k;g++)e=e.replace(" "+f[g]+" "," ");c.className=d.trim(e)}else c.className=""}return this},toggleClass:function(a,f){var b=typeof a,h="boolean"===typeof f;return d.isFunction(a)?this.each(function(b){d(this).toggleClass(a.call(this,b,this.className,f),f)}):this.each(function(){if("string"===b)for(var c,e=0,g=
d(this),k=f,j=a.split(la);c=j[e++];)k=h?k:!g.hasClass(c),g[k?"addClass":"removeClass"](c);else if("undefined"===b||"boolean"===b)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===a?"":d._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",f=0,b=this.length;f<b;f++)if(1===this[f].nodeType&&-1<(" "+this[f].className+" ").replace(aa," ").indexOf(a))return!0;return!1},val:function(a){var f,l,h=this[0];if(!arguments.length){if(h){if((f=
d.valHooks[h.nodeName.toLowerCase()]||d.valHooks[h.type])&&"get"in f&&(l=f.get(h,"value"))!==b)return l;l=h.value;return"string"===typeof l?l.replace(x,""):null==l?"":l}return b}var c=d.isFunction(a);return this.each(function(l){var h=d(this);if(1===this.nodeType&&(l=c?a.call(this,l,h.val()):a,null==l?l="":"number"===typeof l?l+="":d.isArray(l)&&(l=d.map(l,function(a){return null==a?"":a+""})),f=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type],!f||!("set"in f)||f.set(this,l,"value")===
b))this.value=l})}});d.extend({valHooks:{option:{get:function(a){var f=a.attributes.value;return!f||f.specified?a.value:a.text}},select:{get:function(a){var f,b=a.selectedIndex,h=[],c=a.options,a="select-one"===a.type;if(0>b)return null;for(var e=a?b:0,g=a?b+1:c.length;e<g;e++)if(f=c[e],f.selected&&(d.support.optDisabled?!f.disabled:null===f.getAttribute("disabled"))&&(!f.parentNode.disabled||!d.nodeName(f.parentNode,"optgroup"))){f=d(f).val();if(a)return f;h.push(f)}return a&&!h.length&&c.length?
d(c[b]).val():h},set:function(a,f){var b=d.makeArray(f);d(a).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),b)});b.length||(a.selectedIndex=-1);return b}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,f,l,h){var c=a.nodeType;if(!a||3===c||8===c||2===c)return b;if(h&&f in d.attrFn)return d(a)[f](l);if(!("getAttribute"in a))return d.prop(a,f,l);var e,g;if(h=1!==c||!d.isXMLDoc(a))f=d.attrFix[f]||f,(g=
d.attrHooks[f])||(za.test(f)?g=X:oa&&(g=oa));if(l!==b){if(null===l)return d.removeAttr(a,f),b;if(g&&"set"in g&&h&&(e=g.set(a,l,f))!==b)return e;a.setAttribute(f,""+l);return l}if(g&&"get"in g&&h&&null!==(e=g.get(a,f)))return e;e=a.getAttribute(f);return null===e?b:e},removeAttr:function(a,f){var b;if(1===a.nodeType&&(f=d.attrFix[f]||f,d.attr(a,f,""),a.removeAttribute(f),za.test(f)&&(b=d.propFix[f]||f)in a))a[b]=!1},attrHooks:{type:{set:function(a,f){if(w.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");
else if(!d.support.radioValue&&"radio"===f&&d.nodeName(a,"input")){var b=a.value;a.setAttribute("type",f);b&&(a.value=b);return f}}},value:{get:function(a,f){return oa&&d.nodeName(a,"button")?oa.get(a,f):f in a?a.value:null},set:function(a,f,b){if(oa&&d.nodeName(a,"button"))return oa.set(a,f,b);a.value=f}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,f,l){var c=a.nodeType;if(!a||3===c||8===c||2===c)return b;var e,g;if(1!==c||!d.isXMLDoc(a))f=d.propFix[f]||f,g=d.propHooks[f];return l!==b?g&&"set"in g&&(e=g.set(a,l,f))!==b?e:a[f]=l:g&&"get"in g&&null!==(e=g.get(a,f))?e:a[f]},propHooks:{tabIndex:{get:function(a){var f=a.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):P.test(a.nodeName)||W.test(a.nodeName)&&a.href?0:b}}}});d.attrHooks.tabIndex=
d.propHooks.tabIndex;X={get:function(a,f){var l;return!0===d.prop(a,f)||(l=a.getAttributeNode(f))&&!1!==l.nodeValue?f.toLowerCase():b},set:function(a,f,b){!1===f?d.removeAttr(a,b):(f=d.propFix[b]||b,f in a&&(a[f]=!0),a.setAttribute(b,b.toLowerCase()));return b}};d.support.getSetAttribute||(oa=d.valHooks.button={get:function(a,f){var d;return(d=a.getAttributeNode(f))&&""!==d.nodeValue?d.nodeValue:b},set:function(a,f,b){var d=a.getAttributeNode(b);d||(d=o.createAttribute(b),a.setAttributeNode(d));return d.nodeValue=
f+""}},d.each(["width","height"],function(a,f){d.attrHooks[f]=d.extend(d.attrHooks[f],{set:function(a,b){if(""===b)return a.setAttribute(f,"auto"),b}})}));d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,f){d.attrHooks[f]=d.extend(d.attrHooks[f],{get:function(a){a=a.getAttribute(f,2);return null===a?b:a}})});d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}});d.support.optSelected||
(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,b){if(d.isArray(b))return a.checked=0<=d.inArray(d(a).val(),b)}})});var Ia=/\.(.*)$/,Ma=/^(?:textarea|input|select)$/i,
cb=/\./g,db=/ /g,lb=/[^\w\s.|`]/g,mb=function(a){return a.replace(lb,"\\$&")};d.event={add:function(a,f,c,h){if(!(3===a.nodeType||8===a.nodeType)){if(!1===c)c=j;else if(!c)return;var e,g;c.handler&&(e=c,c=e.handler);c.guid||(c.guid=d.guid++);if(g=d._data(a)){var k=g.events,y=g.handle;k||(g.events=k={});y||(g.handle=y=function(a){return"undefined"!==typeof d&&(!a||d.event.triggered!==a.type)?d.event.handle.apply(y.elem,arguments):b});y.elem=a;for(var f=f.split(" "),q,K=0,m;q=f[K++];){g=e?d.extend({},
e):{handler:c,data:h};-1<q.indexOf(".")?(m=q.split("."),q=m.shift(),g.namespace=m.slice(0).sort().join(".")):(m=[],g.namespace="");g.type=q;g.guid||(g.guid=c.guid);var p=k[q],o=d.event.special[q]||{};if(!p&&(p=k[q]=[],!o.setup||!1===o.setup.call(a,h,m,y)))a.addEventListener?a.addEventListener(q,y,!1):a.attachEvent&&a.attachEvent("on"+q,y);o.add&&(o.add.call(a,g),g.handler.guid||(g.handler.guid=c.guid));p.push(g);d.event.global[q]=!0}a=null}}},global:{},remove:function(a,f,c,h){if(!(3===a.nodeType||
8===a.nodeType)){!1===c&&(c=j);var e,g,k=0,q,m,K,p,o,x,w=d.hasData(a)&&d._data(a),n=w&&w.events;if(w&&n)if(f&&f.type&&(c=f.handler,f=f.type),!f||"string"===typeof f&&"."===f.charAt(0))for(e in f=f||"",n)d.event.remove(a,e+f);else{for(f=f.split(" ");e=f[k++];)if(p=e,q=0>e.indexOf("."),m=[],q||(m=e.split("."),e=m.shift(),K=RegExp("(^|\\.)"+d.map(m.slice(0).sort(),mb).join("\\.(?:.*\\.)?")+"(\\.|$)")),o=n[e])if(c){p=d.event.special[e]||{};for(g=h||0;g<o.length;g++)if(x=o[g],c.guid===x.guid){if(q||K.test(x.namespace))null==
h&&o.splice(g--,1),p.remove&&p.remove.call(a,x);if(null!=h)break}if(0===o.length||null!=h&&1===o.length)(!p.teardown||!1===p.teardown.call(a,m))&&d.removeEvent(a,e,w.handle),delete n[e]}else for(g=0;g<o.length;g++)if(x=o[g],q||K.test(x.namespace))d.event.remove(a,p,x.handler,g),o.splice(g--,1);if(d.isEmptyObject(n)){if(f=w.handle)f.elem=null;delete w.events;delete w.handle;d.isEmptyObject(w)&&d.removeData(a,b,!0)}}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,f,c,h){var e=
i.type||i,g=[],k;0<=e.indexOf("!")&&(e=e.slice(0,-1),k=!0);0<=e.indexOf(".")&&(g=e.split("."),e=g.shift(),g.sort());if(c&&!d.event.customEvent[e]||d.event.global[e]){i="object"===typeof i?i[d.expando]?i:new d.Event(e,i):new d.Event(e);i.type=e;i.exclusive=k;i.namespace=g.join(".");i.namespace_re=RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)");if(h||!c)i.preventDefault(),i.stopPropagation();if(c){if(!(3===c.nodeType||8===c.nodeType)){i.result=b;i.target=c;f=null!=f?d.makeArray(f):[];f.unshift(i);
g=c;h=0>e.indexOf(":")?"on"+e:"";do k=d._data(g,"handle"),i.currentTarget=g,k&&k.apply(g,f),h&&d.acceptData(g)&&g[h]&&!1===g[h].apply(g,f)&&(i.result=!1,i.preventDefault()),g=g.parentNode||g.ownerDocument||g===i.target.ownerDocument&&a;while(g&&!i.isPropagationStopped());if(!i.isDefaultPrevented()){var j,g=d.event.special[e]||{};if((!g._default||!1===g._default.call(c.ownerDocument,i))&&!("click"===e&&d.nodeName(c,"a"))&&d.acceptData(c)){try{h&&c[e]&&((j=c[h])&&(c[h]=null),d.event.triggered=e,c[e]())}catch(q){}j&&
(c[h]=j);d.event.triggered=b}}return i.result}}else d.each(d.cache,function(){var a=this[d.expando];a&&a.events&&a.events[e]&&d.event.trigger(i,f,a.handle.elem)})}},handle:function(i){var i=d.event.fix(i||a.event),f=((d._data(this,"events")||{})[i.type]||[]).slice(0),c=!i.exclusive&&!i.namespace,h=Array.prototype.slice.call(arguments,0);h[0]=i;i.currentTarget=this;for(var e=0,g=f.length;e<g;e++){var k=f[e];if(c||i.namespace_re.test(k.namespace))if(i.handler=k.handler,i.data=k.data,i.handleObj=k,k=
k.handler.apply(this,h),k!==b&&(i.result=k,!1===k&&(i.preventDefault(),i.stopPropagation())),i.isImmediatePropagationStopped())break}return i.result},props:"altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),fix:function(a){if(a[d.expando])return a;
for(var f=a,a=d.Event(f),c=this.props.length,h;c;)h=this.props[--c],a[h]=f[h];a.target||(a.target=a.srcElement||o);3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(c=a.target.ownerDocument||o,f=c.documentElement,c=c.body,a.pageX=a.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||c&&c.scrollTop||
0)-(f&&f.clientTop||c&&c.clientTop||0));if(null==a.which&&(null!=a.charCode||null!=a.keyCode))a.which=null!=a.charCode?a.charCode:a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,G(a.origType,a.selector),d.extend({},a,{handler:z,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,G(a.origType,
a.selector),a)}},beforeunload:{setup:function(a,b,c){d.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};d.removeEvent=o.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};d.Event=function(a,b){if(!this.preventDefault)return new d.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===
a.returnValue||a.getPreventDefault&&a.getPreventDefault()?n:j):this.type=a;b&&d.extend(this,b);this.timeStamp=d.now();this[d.expando]=!0};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=n;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
n;this.stopPropagation()},isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j};var Ra=function(a){var b=a.relatedTarget,c=!1,h=a.type;a.type=a.data;b!==this&&(b&&(c=d.contains(this,b)),c||(d.event.handle.apply(this,arguments),a.type=h))},Sa=function(a){a.type=a.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]={setup:function(c){d.event.add(this,b,c&&c.selector?Sa:Ra,a)},teardown:function(a){d.event.remove(this,
b,a&&a.selector?Sa:Ra)}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=d.nodeName(b,"input")||d.nodeName(b,"button")?b.type:"";("submit"===c||"image"===c)&&d(b).closest("form").length&&A("submit",this,arguments)});d.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=d.nodeName(b,"input")||d.nodeName(b,"button")?b.type:"";("text"===c||"password"===c)&&d(b).closest("form").length&&
13===a.keyCode&&A("submit",this,arguments)})},teardown:function(){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var Da,r=function(a){var b=d.nodeName(a,"input")?a.type:"",c=a.value;"radio"===b||"checkbox"===b?c=a.checked:"select-multiple"===b?c=-1<a.selectedIndex?d.map(a.options,function(a){return a.selected}).join("-"):"":d.nodeName(a,"select")&&(c=a.selectedIndex);return c},da=function(a,f){var c=a.target,h,e;if(Ma.test(c.nodeName)&&!c.readOnly&&(h=d._data(c,"_change_data"),
e=r(c),("focusout"!==a.type||"radio"!==c.type)&&d._data(c,"_change_data",e),!(h===b||e===h)))if(null!=h||e)a.type="change",a.liveFired=b,d.event.trigger(a,f,c)};d.event.special.change={filters:{focusout:da,beforedeactivate:da,click:function(a){var b=a.target,c=d.nodeName(b,"input")?b.type:"";("radio"===c||"checkbox"===c||d.nodeName(b,"select"))&&da.call(this,a)},keydown:function(a){var b=a.target,c=d.nodeName(b,"input")?b.type:"";(13===a.keyCode&&!d.nodeName(b,"textarea")||32===a.keyCode&&("checkbox"===
c||"radio"===c)||"select-multiple"===c)&&da.call(this,a)},beforeactivate:function(a){a=a.target;d._data(a,"_change_data",r(a))}},setup:function(){if("file"===this.type)return!1;for(var a in Da)d.event.add(this,a+".specialChange",Da[a]);return Ma.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return Ma.test(this.nodeName)}};Da=d.event.special.change.filters;Da.focus=Da.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){var i=
d.event.fix(a);i.type=b;i.originalEvent={};d.event.trigger(i,null,i.target);i.isDefaultPrevented()&&a.preventDefault()}var h=0;d.event.special[b]={setup:function(){0===h++&&o.addEventListener(a,c,!0)},teardown:function(){0===--h&&o.removeEventListener(a,c,!0)}}});d.each(["bind","one"],function(a,f){d.fn[f]=function(a,i,c){var e;if("object"===typeof a){for(var g in a)this[f](g,i,a[g],c);return this}if(2===arguments.length||!1===i)c=i,i=b;"one"===f?(e=function(a){d(this).unbind(a,e);return c.apply(this,
arguments)},e.guid=c.guid||d.guid++):e=c;if("unload"===a&&"one"!==f)this.one(a,i,c);else{g=0;for(var k=this.length;g<k;g++)d.event.add(this[g],a,e,i)}return this}});d.fn.extend({unbind:function(a,b){if("object"===typeof a&&!a.preventDefault)for(var c in a)this.unbind(c,a[c]);else{c=0;for(var h=this.length;c<h;c++)d.event.remove(this[c],a,b)}return this},delegate:function(a,b,d,c){return this.live(b,d,c,a)},undelegate:function(a,b,d){return 0===arguments.length?this.unbind("live"):this.die(b,null,
d,a)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return d.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||d.guid++,h=0,e=function(c){var e=(d.data(this,"lastToggle"+a.guid)||0)%h;d.data(this,"lastToggle"+a.guid,e+1);c.preventDefault();return b[e].apply(this,arguments)||!1};for(e.guid=c;h<b.length;)b[h++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});
var H={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,f){d.fn[f]=function(a,i,c,e){var g=0,k,q,K=e||this.selector,m=e?this:d(this.context);if("object"===typeof a&&!a.preventDefault){for(k in a)m[f](k,i,a[k],K);return this}if("die"===f&&!a&&e&&"."===e.charAt(0))return m.unbind(e),this;if(!1===i||d.isFunction(i))c=i||j,i=b;for(a=(a||"").split(" ");null!=(e=a[g++]);)if(k=Ia.exec(e),q="",k&&(q=k[0],e=e.replace(Ia,"")),"hover"===e)a.push("mouseenter"+
q,"mouseleave"+q);else if(k=e,H[e]?(a.push(H[e]+q),e+=q):e=(H[e]||e)+q,"live"===f){q=0;for(var p=m.length;q<p;q++)d.event.add(m[q],"live."+G(e,K),{data:i,selector:K,handler:c,origType:e,origHandler:c,preType:k})}else m.unbind("live."+G(e,K),c);return this}});d.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(a,b){d.fn[b]=function(a,d){null==
d&&(d=a,a=null);return 0<arguments.length?this.bind(b,a,d):this.trigger(b)};d.attrFn&&(d.attrFn[b]=!0)});(function(){function a(b,f,d,c,i,h){for(var i=0,e=c.length;i<e;i++){var l=c[i];if(l){for(var g=!1,l=l[b];l;){if(l.sizcache===d){g=c[l.sizset];break}1===l.nodeType&&!h&&(l.sizcache=d,l.sizset=i);if(l.nodeName.toLowerCase()===f){g=l;break}l=l[b]}c[i]=g}}}function f(a,b,f,d,c,i){for(var c=0,h=d.length;c<h;c++){var e=d[c];if(e){for(var l=!1,e=e[a];e;){if(e.sizcache===f){l=d[e.sizset];break}if(1===
e.nodeType)if(i||(e.sizcache=f,e.sizset=c),"string"!==typeof b){if(e===b){l=!0;break}}else if(0<m.filter(b,[e]).length){l=e;break}e=e[a]}d[c]=l}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,h=0,e=Object.prototype.toString,g=!1,k=!0,q=/\\/g,j=/\W/;[0,0].sort(function(){k=!1;return 0});var m=function(a,b,f,d){var f=f||[],i=b=b||o;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return f;
var h,g,k,u,L,q=!0,j=m.isXML(b),y=[],w=a;do if(c.exec(""),h=c.exec(w))if(w=h[3],y.push(h[1]),h[2]){u=h[3];break}while(h);if(1<y.length&&x.exec(a))if(2===y.length&&p.relative[y[0]])g=P(y[0]+y[1],b);else for(g=p.relative[y[0]]?[b]:m(y.shift(),b);y.length;)a=y.shift(),p.relative[a]&&(a+=y.shift()),g=P(a,g);else if(!d&&1<y.length&&9===b.nodeType&&!j&&p.match.ID.test(y[0])&&!p.match.ID.test(y[y.length-1])&&(h=m.find(y.shift(),b,j),b=h.expr?m.filter(h.expr,h.set)[0]:h.set[0]),b){h=d?{expr:y.pop(),set:N(d)}:
m.find(y.pop(),1===y.length&&("~"===y[0]||"+"===y[0])&&b.parentNode?b.parentNode:b,j);g=h.expr?m.filter(h.expr,h.set):h.set;for(0<y.length?k=N(g):q=!1;y.length;)h=L=y.pop(),p.relative[L]?h=y.pop():L="",null==h&&(h=b),p.relative[L](k,h,j)}else k=[];k||(k=g);k||m.error(L||a);if("[object Array]"===e.call(k))if(q)if(b&&1===b.nodeType)for(a=0;null!=k[a];a++)k[a]&&(!0===k[a]||1===k[a].nodeType&&m.contains(b,k[a]))&&f.push(g[a]);else for(a=0;null!=k[a];a++)k[a]&&1===k[a].nodeType&&f.push(g[a]);else f.push.apply(f,
k);else N(k,f);u&&(m(u,i,f,d),m.uniqueSort(f));return f};m.uniqueSort=function(a){if(W&&(g=k,a.sort(W),g))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};m.matches=function(a,b){return m(a,null,null,b)};m.matchesSelector=function(a,b){return 0<m(b,null,null,[a]).length};m.find=function(a,b,f){var d;if(!a)return[];for(var c=0,i=p.order.length;c<i;c++){var h,e=p.order[c];if(h=p.leftMatch[e].exec(a)){var l=h[1];h.splice(1,1);if("\\"!==l.substr(l.length-1)&&(h[1]=(h[1]||"").replace(q,
""),d=p.find[e](h,b,f),null!=d)){a=a.replace(p.match[e],"");break}}}d||(d="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:d,expr:a}};m.filter=function(a,f,d,c){for(var i,h,e=a,l=[],g=f,t=f&&f[0]&&m.isXML(f[0]);a&&f.length;){for(var k in p.filter)if(null!=(i=p.leftMatch[k].exec(a))&&i[2]){var u,L,q=p.filter[k];L=i[1];h=!1;i.splice(1,1);if("\\"!==L.substr(L.length-1)){g===l&&(l=[]);if(p.preFilter[k])if(i=p.preFilter[k](i,g,d,l,c,t)){if(!0===i)continue}else h=u=
!0;if(i)for(var j=0;null!=(L=g[j]);j++)if(L){u=q(L,i,j,g);var y=c^!!u;d&&null!=u?y?h=!0:g[j]=!1:y&&(l.push(L),h=!0)}if(u!==b){d||(g=l);a=a.replace(p.match[k],"");if(!h)return[];break}}}if(a===e)if(null==h)m.error(a);else break;e=a}return g};m.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var p=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var f=
"string"===typeof b,d=f&&!j.test(b),f=f&&!d;d&&(b=b.toLowerCase());for(var d=0,c=a.length,i;d<c;d++)if(i=a[d]){for(;(i=i.previousSibling)&&1!==i.nodeType;);a[d]=f||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}f&&m.filter(b,a,!0)},">":function(a,b){var f,d="string"===typeof b,i=0,c=a.length;if(d&&!j.test(b))for(b=b.toLowerCase();i<c;i++){if(f=a[i])f=f.parentNode,a[i]=f.nodeName.toLowerCase()===b?f:!1}else{for(;i<c;i++)(f=a[i])&&(a[i]=d?f.parentNode:f.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,
d,c){var e,l=h++,g=f;"string"===typeof d&&!j.test(d)&&(e=d=d.toLowerCase(),g=a);g("parentNode",d,l,b,e,c)},"~":function(b,d,c){var e,l=h++,g=f;"string"===typeof d&&!j.test(d)&&(e=d=d.toLowerCase(),g=a);g("previousSibling",d,l,b,e,c)}},find:{ID:function(a,b,f){if("undefined"!==typeof b.getElementById&&!f)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var f=[],d=b.getElementsByName(a[1]),i=0,c=d.length;i<c;i++)d[i].getAttribute("name")===
a[1]&&f.push(d[i]);return 0===f.length?null:f}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,f,d,i,c){a=" "+a[1].replace(q,"")+" ";if(c)return a;for(var c=0,h;null!=(h=b[c]);c++)h&&(i^(h.className&&0<=(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?f||d.push(h):f&&(b[c]=!1));return!1},ID:function(a){return a[1].replace(q,"")},TAG:function(a){return a[1].replace(q,"").toLowerCase()},CHILD:function(a){if("nth"===
a[1]){a[2]||m.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=h++;return a},ATTR:function(a,b,f,d,i,c){b=a[1]=a[1].replace(q,"");!c&&p.attrMap[b]&&(a[1]=p.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(q,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,f,d,i){if("not"===a[1])if(1<(c.exec(a[3])||"").length||
/^\w/.test(a[3]))a[3]=m(a[3],null,null,b);else return a=m.filter(a[3],b,f,1^i),f||d.push.apply(d,a),!1;else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},
empty:function(a){return!a.firstChild},has:function(a,b,f){return!!m(f[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),f=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===f&&(b===f||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},
password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},
focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,f,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,f){return b<f[3]-0},gt:function(a,b,f){return b>f[3]-0},nth:function(a,b,f){return f[3]-0===b},eq:function(a,b,f){return f[3]-0===b}},filter:{PSEUDO:function(a,b,f,d){var i=b[1],c=p.filters[i];if(c)return c(a,f,b,d);if("contains"===i)return 0<=(a.textContent||a.innerText||
m.getText([a])||"").indexOf(b[3]);if("not"===i){b=b[3];f=0;for(d=b.length;f<d;f++)if(b[f]===a)return!1;return!0}m.error(i)},CHILD:function(a,b){var f=b[1],d=a;switch(f){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===f)return!0;d=a;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case "nth":var f=b[2],i=b[3];if(1===f&&0===i)return!0;var c=b[0],h=a.parentNode;if(h&&(h.sizcache!==c||!a.nodeIndex)){for(var e=0,d=h.firstChild;d;d=d.nextSibling)1===
d.nodeType&&(d.nodeIndex=++e);h.sizcache=c}d=a.nodeIndex-i;return 0===f?0===d:0===d%f&&0<=d/f}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var f=b[1],f=p.attrHandle[f]?p.attrHandle[f](a):null!=a[f]?a[f]:a.getAttribute(f),d=f+"",i=b[2],c=b[4];return null==f?"!="===i:"="===i?d===c:"*="===i?0<=
d.indexOf(c):"~="===i?0<=(" "+d+" ").indexOf(c):!c?d&&!1!==f:"!="===i?d!==c:"^="===i?0===d.indexOf(c):"$="===i?d.substr(d.length-c.length)===c:"|="===i?d===c||d.substr(0,c.length+1)===c+"-":!1},POS:function(a,b,f,d){var i=p.setFilters[b[2]];if(i)return i(a,f,b,d)}}},x=p.match.POS,w=function(a,b){return"\\"+(b-0+1)},n;for(n in p.match)p.match[n]=RegExp(p.match[n].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[n]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[n].source.replace(/\\(\d+)/g,w));var N=
function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(o.documentElement.childNodes,0)[0].nodeType}catch(r){N=function(a,b){var f=0,d=b||[];if("[object Array]"===e.call(a))Array.prototype.push.apply(d,a);else if("number"===typeof a.length)for(var i=a.length;f<i;f++)d.push(a[f]);else for(;a[f];f++)d.push(a[f]);return d}}var W,s;o.documentElement.compareDocumentPosition?W=function(a,b){return a===b?(g=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?
a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(W=function(a,b){if(a===b)return g=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var f,d,i=[],c=[];f=a.parentNode;d=b.parentNode;var h=f;if(f===d)return s(a,b);if(f){if(!d)return 1}else return-1;for(;h;)i.unshift(h),h=h.parentNode;for(h=d;h;)c.unshift(h),h=h.parentNode;f=i.length;d=c.length;for(h=0;h<f&&h<d;h++)if(i[h]!==c[h])return s(i[h],c[h]);return h===f?s(a,c[h],-1):s(i[h],b,1)},s=function(a,b,f){if(a===
b)return f;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});m.getText=function(a){for(var b="",f,d=0;a[d];d++)f=a[d],3===f.nodeType||4===f.nodeType?b+=f.nodeValue:8!==f.nodeType&&(b+=m.getText(f.childNodes));return b};(function(){var a=o.createElement("div"),f="script"+(new Date).getTime(),d=o.documentElement;a.innerHTML="<a name='"+f+"'/>";d.insertBefore(a,d.firstChild);o.getElementById(f)&&(p.find.ID=function(a,f,d){if("undefined"!==typeof f.getElementById&&!d)return(f=f.getElementById(a[1]))?
f.id===a[1]||"undefined"!==typeof f.getAttributeNode&&f.getAttributeNode("id").nodeValue===a[1]?[f]:b:[]},p.filter.ID=function(a,b){var f="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&f&&f.nodeValue===b});d.removeChild(a);d=a=null})();(function(){var a=o.createElement("div");a.appendChild(o.createComment(""));0<a.getElementsByTagName("*").length&&(p.find.TAG=function(a,b){var f=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],i=0;f[i];i++)1===f[i].nodeType&&
d.push(f[i]);f=d}return f});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();o.querySelectorAll&&function(){var a=m,b=o.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){m=function(b,f,d,i){f=f||o;if(!i&&!m.isXML(f)){var c=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);
if(c&&(1===f.nodeType||9===f.nodeType)){if(c[1])return N(f.getElementsByTagName(b),d);if(c[2]&&p.find.CLASS&&f.getElementsByClassName)return N(f.getElementsByClassName(c[2]),d)}if(9===f.nodeType){if("body"===b&&f.body)return N([f.body],d);if(c&&c[3]){var h=f.getElementById(c[3]);if(h&&h.parentNode){if(h.id===c[3])return N([h],d)}else return N([],d)}try{return N(f.querySelectorAll(b),d)}catch(e){}}else if(1===f.nodeType&&"object"!==f.nodeName.toLowerCase()){var c=f,l=(h=f.getAttribute("id"))||"__sizzle__",
g=f.parentNode,t=/^\s*[+~]/.test(b);h?l=l.replace(/'/g,"\\$&"):f.setAttribute("id",l);t&&g&&(f=f.parentNode);try{if(!t||g)return N(f.querySelectorAll("[id='"+l+"'] "+b),d)}catch(k){}finally{h||c.removeAttribute("id")}}}return a(b,f,d,i)};for(var f in a)m[f]=a[f];b=null}}();(function(){var a=o.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var f=!b.call(o.createElement("div"),"div"),d=!1;try{b.call(o.documentElement,"[test!='']:sizzle")}catch(i){d=
!0}m.matchesSelector=function(a,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(d||!p.match.PSEUDO.test(i)&&!/!=/.test(i)){var c=b.call(a,i);if(c||!f||a.document&&11!==a.document.nodeType)return c}}catch(h){}return 0<m(i,null,null,[a]).length}}})();(function(){var a=o.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&
(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,f){if("undefined"!==typeof b.getElementsByClassName&&!f)return b.getElementsByClassName(a[1])},a=null))})();m.contains=o.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:o.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};m.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var P=function(a,b){for(var f,
d=[],i="",c=b.nodeType?[b]:b;f=p.match.PSEUDO.exec(a);)i+=f[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;f=0;for(var h=c.length;f<h;f++)m(a,c[f],d);return m.filter(i,d)};d.find=m;d.expr=m.selectors;d.expr[":"]=d.expr.filters;d.unique=m.uniqueSort;d.text=m.getText;d.isXMLDoc=m.isXML;d.contains=m.contains})();var nb=/Until$/,ob=/^(?:parents|prevUntil|prevAll)/,pb=/,/,E=/^.[^:#\[\.,]*$/,fa=Array.prototype.slice,ia=d.expr.match.POS,qb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var b=
this,c,h;if("string"!==typeof a)return d(a).filter(function(){for(c=0,h=b.length;c<h;c++)if(d.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,k,m;for(c=0,h=this.length;c<h;c++)if(g=e.length,d.find(a,this[c],e),0<c)for(k=g;k<e.length;k++)for(m=0;m<g;m++)if(e[m]===e[k]){e.splice(k--,1);break}return e},has:function(a){var b=d(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(d.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(Y(this,a,!1),"not",
a)},filter:function(a){return this.pushStack(Y(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?0<d.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var c=[],h,e,g=this[0];if(d.isArray(a)){var k,m={},j=1;if(g&&a.length){for(h=0,e=a.length;h<e;h++)k=a[h],m[k]||(m[k]=ia.test(k)?d(k,b||this.context):k);for(;g&&g.ownerDocument&&g!==b;){for(k in m)h=m[k],(h.jquery?-1<h.index(g):d(g).is(h))&&c.push({selector:k,elem:g,level:j});g=g.parentNode;j++}}return c}k=ia.test(a)||
"string"!==typeof a?d(a,b||this.context):0;for(h=0,e=this.length;h<e;h++)for(g=this[h];g;)if(k?-1<k.index(g):d.find.matchesSelector(g,a)){c.push(g);break}else if(g=g.parentNode,!g||!g.ownerDocument||g===b||11===g.nodeType)break;c=1<c.length?d.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"===typeof a?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c="string"===typeof a?d(a,b):
d.makeArray(a&&a.nodeType?[a]:a),h=d.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||11===c[0].parentNode.nodeType||!h[0]||!h[0].parentNode||11===h[0].parentNode.nodeType?h:d.unique(h))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,
2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,
b){d.fn[a]=function(c,h){var e=d.map(this,b,c),g=fa.call(arguments);nb.test(a)||(h=c);h&&"string"===typeof h&&(e=d.filter(h,e));e=1<this.length&&!qb[a]?d.unique(e):e;if((1<this.length||pb.test(h))&&ob.test(a))e=e.reverse();return this.pushStack(e,a,g.join(","))}});d.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,f,c){for(var h=[],a=a[f];a&&9!==a.nodeType&&(c===b||1!==a.nodeType||!d(a).is(c));)1===
a.nodeType&&h.push(a),a=a[f];return h},nth:function(a,b,d){for(var b=b||1,c=0;a&&!(1===a.nodeType&&++c===b);a=a[d]);return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});var rb=/ jQuery\d+="(?:\d+|null)"/g,Na=/^\s+/,ta=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,pa=/<([\w:]+)/,qa=/<tbody/i,Aa=/<|&#?\w+;/,ra=/<(?:script|object|embed|option|style)/i,k=/checked\s*(?:[^=]|=\s*.checked.)/i,q=/\/(java|ecma)script/i,m=/^\s*<!(?:\[CDATA\[|\-\-)/,
p={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};p.optgroup=p.option;p.tbody=p.tfoot=p.colgroup=p.caption=p.thead;p.th=p.td;d.support.htmlSerialize||(p._default=[1,"div<div>","</div>"]);d.fn.extend({text:function(a){return d.isFunction(a)?
this.each(function(b){var c=d(this);c.text(a.call(this,b,c.text()))}):"object"!==typeof a&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(a)):d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return d.isFunction(a)?this.each(function(b){d(this).wrapInner(a.call(this,b))}):this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,
"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,h;null!=(h=this[c]);c++)if(!a||d.filter(a,[h]).length)!b&&1===h.nodeType&&(d.cleanData(h.getElementsByTagName("*")),d.cleanData([h])),h.parentNode&&h.parentNode.removeChild(h);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&d.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==
b?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(rb,""):null;if("string"===typeof a&&!ra.test(a)&&(d.support.leadingWhitespace||!Na.test(a))&&!p[(pa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ta,"<$1></$2>");try{for(var f=0,c=this.length;f<c;f++)1===this[f].nodeType&&(d.cleanData(this[f].getElementsByTagName("*")),this[f].innerHTML=a)}catch(h){this.empty().append(a)}}else d.isFunction(a)?this.each(function(b){var f=
d(this);f.html(a.call(this,b,f.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var c=d(this),h=c.html();c.replaceWith(a.call(this,b,h))});"string"!==typeof a&&(a=d(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;d(this).remove();b?d(b).before(a):d(c).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,
!0)},domManip:function(a,f,c){var h,e,g,m=a[0],j=[];if(!d.support.checkClone&&3===arguments.length&&"string"===typeof m&&k.test(m))return this.each(function(){d(this).domManip(a,f,c,!0)});if(d.isFunction(m))return this.each(function(h){var e=d(this);a[0]=m.call(this,h,f?e.html():b);e.domManip(a,f,c)});if(this[0]){h=m&&m.parentNode;h=d.support.parentNode&&h&&11===h.nodeType&&h.childNodes.length===this.length?{fragment:h}:d.buildFragment(a,this,j);g=h.fragment;if(e=1===g.childNodes.length?g=g.firstChild:
g.firstChild){f=f&&d.nodeName(e,"tr");e=0;for(var q=this.length,p=q-1;e<q;e++)c.call(f?d.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],h.cacheable||1<q&&e<p?d.clone(g,!0,!0):g)}j.length&&d.each(j,F)}return this}});d.buildFragment=function(a,b,c){var h,e,g,m;b&&b[0]&&(m=b[0].ownerDocument||b[0]);m.createDocumentFragment||(m=o);if(1===a.length&&"string"===typeof a[0]&&512>a[0].length&&m===o&&"<"===
a[0].charAt(0)&&!ra.test(a[0])&&(d.support.checkClone||!k.test(a[0])))e=!0,(g=d.fragments[a[0]])&&1!==g&&(h=g);h||(h=m.createDocumentFragment(),d.clean(a,m,h,c));e&&(d.fragments[a[0]]=g?h:1);return{fragment:h,cacheable:e}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(c){var h=[],c=d(c),e=1===this.length&&this[0].parentNode;if(e&&11===e.nodeType&&1===e.childNodes.length&&1===c.length)return c[b](this[0]),
this;for(var e=0,g=c.length;e<g;e++){var k=(0<e?this.clone(!0):this).get();d(c[e])[b](k);h=h.concat(k)}return this.pushStack(h,a,c.selector)}});d.extend({clone:function(a,b,c){var h=a.cloneNode(!0),e,g,k;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!d.isXMLDoc(a)){J(a,h);e=D(a);g=D(h);for(k=0;e[k];++k)g[k]&&J(e[k],g[k])}if(b&&(I(a,h),c)){e=D(a);g=D(h);for(k=0;e[k];++k)I(e[k],g[k])}return h},clean:function(a,b,c,h){b=b||o;"undefined"===typeof b.createElement&&
(b=b.ownerDocument||b[0]&&b[0].ownerDocument||o);for(var e=[],g,k=0,m;null!=(m=a[k]);k++)if("number"===typeof m&&(m+=""),m){if("string"===typeof m)if(Aa.test(m)){m=m.replace(ta,"<$1></$2>");g=(pa.exec(m)||["",""])[1].toLowerCase();var j=p[g]||p._default,x=j[0],w=b.createElement("div");for(w.innerHTML=j[1]+m+j[2];x--;)w=w.lastChild;if(!d.support.tbody){x=qa.test(m);j="table"===g&&!x?w.firstChild&&w.firstChild.childNodes:"<table>"===j[1]&&!x?w.childNodes:[];for(g=j.length-1;0<=g;--g)d.nodeName(j[g],
"tbody")&&!j[g].childNodes.length&&j[g].parentNode.removeChild(j[g])}!d.support.leadingWhitespace&&Na.test(m)&&w.insertBefore(b.createTextNode(Na.exec(m)[0]),w.firstChild);m=w.childNodes}else m=b.createTextNode(m);var n;if(!d.support.appendChecked)if(m[0]&&"number"===typeof(n=m.length))for(g=0;g<n;g++)ha(m[g]);else ha(m);m.nodeType?e.push(m):e=d.merge(e,m)}if(c){a=function(a){return!a.type||q.test(a.type)};for(k=0;e[k];k++)h&&d.nodeName(e[k],"script")&&(!e[k].type||"text/javascript"===e[k].type.toLowerCase())?
h.push(e[k].parentNode?e[k].parentNode.removeChild(e[k]):e[k]):(1===e[k].nodeType&&(b=d.grep(e[k].getElementsByTagName("script"),a),e.splice.apply(e,[k+1,0].concat(b))),c.appendChild(e[k]))}return e},cleanData:function(a){for(var b,c,e=d.cache,g=d.expando,k=d.event.special,m=d.support.deleteExpando,j=0,q;null!=(q=a[j]);j++)if(!q.nodeName||!d.noData[q.nodeName.toLowerCase()])if(c=q[d.expando]){if((b=e[c]&&e[c][g])&&b.events){for(var p in b.events)k[p]?d.event.remove(q,p):d.removeEvent(q,p,b.handle);
b.handle&&(b.handle.elem=null)}m?delete q[d.expando]:q.removeAttribute&&q.removeAttribute(d.expando);delete e[c]}}});var S=/alpha\([^)]*\)/i,N=/opacity=([^)]*)/,ea=/([A-Z]|^ms)/g,M=/^-?\d+(?:px)?$/i,sb=/^-?\d/,tb=/^([\-+])=([\-+.\de]+)/,ub={position:"absolute",visibility:"hidden",display:"block"},eb=["Left","Right"],fb=["Top","Bottom"],wa,Ta,Ua;d.fn.css=function(a,f){return 2===arguments.length&&f===b?this:d.access(this,a,f,!0,function(a,f,c){return c!==b?d.style(a,f,c):d.css(a,f)})};d.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var d=wa(a,"opacity","opacity");return""===d?"1":d}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,f,c,e){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var g,k=d.camelCase(f),m=a.style,j=d.cssHooks[k],f=d.cssProps[k]||k;if(c!==b){e=typeof c;if("string"===e&&(g=tb.exec(c)))c=+(g[1]+1)*+g[2]+parseFloat(d.css(a,f)),e="number";
if(!(null==c||"number"===e&&isNaN(c)))if("number"===e&&!d.cssNumber[k]&&(c+="px"),!j||!("set"in j)||(c=j.set(a,c))!==b)try{m[f]=c}catch(q){}}else return j&&"get"in j&&(g=j.get(a,!1,e))!==b?g:m[f]}},css:function(a,f,c){var e,g,f=d.camelCase(f);g=d.cssHooks[f];f=d.cssProps[f]||f;"cssFloat"===f&&(f="float");if(g&&"get"in g&&(e=g.get(a,!0,c))!==b)return e;if(wa)return wa(a,f)},swap:function(a,b,d){var c={},e;for(e in b)c[e]=a.style[e],a.style[e]=b[e];d.call(a);for(e in b)a.style[e]=c[e]}});d.curCSS=d.css;
d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(a,c,e){var i;if(c){if(0!==a.offsetWidth)return B(a,b,e);d.swap(a,ub,function(){i=B(a,b,e)});return i}},set:function(a,b){if(M.test(b)){if(b=parseFloat(b),0<=b)return b+"px"}else return b}}});d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return N.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,g=d.isNaN(b)?"":"alpha(opacity="+
100*b+")",k=e&&e.filter||c.filter||"";c.zoom=1;if(1<=b&&""===d.trim(k.replace(S,""))&&(c.removeAttribute("filter"),e&&!e.filter))return;c.filter=S.test(k)?k.replace(S,g):k+" "+g}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,b){var c;d.swap(a,{display:"inline-block"},function(){c=b?wa(a,"margin-right","marginRight"):a.style.marginRight});return c}})});o.defaultView&&o.defaultView.getComputedStyle&&(Ta=function(a,f){var c,e,f=f.replace(ea,"-$1").toLowerCase();
if(!(e=a.ownerDocument.defaultView))return b;if(e=e.getComputedStyle(a,null))c=e.getPropertyValue(f),""===c&&!d.contains(a.ownerDocument.documentElement,a)&&(c=d.style(a,f));return c});o.documentElement.currentStyle&&(Ua=function(a,b){var d,c=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],g=a.style;!M.test(c)&&sb.test(c)&&(d=g.left,e&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":c||0,c=g.pixelLeft+"px",g.left=d,e&&(a.runtimeStyle.left=e));return""===
c?"auto":c});wa=Ta||Ua;d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!d.support.reliableHiddenOffsets&&"none"===(a.style.display||d.css(a,"display"))},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});var vb=/%20/g,gb=/\[\]$/,Va=/\r?\n/g,wb=/#.*$/,xb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,yb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,zb=/^(?:GET|HEAD)$/,
Ab=/^\/\//,Wa=/\?/,Bb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Cb=/^(?:select|textarea)/i,Pa=/\s+/,Db=/([?&])_=[^&]*/,Xa=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ya=d.fn.load,Ja={},Za={},ua,va,$a=["*/"]+["*"];try{ua=ca.href}catch(Jb){ua=o.createElement("a"),ua.href="",ua=ua.href}va=Xa.exec(ua.toLowerCase())||[];d.fn.extend({load:function(a,c,e){if("string"!==typeof a&&Ya)return Ya.apply(this,arguments);if(!this.length)return this;var h=a.indexOf(" ");if(0<=h)var g=a.slice(h,a.length),
a=a.slice(0,h);h="GET";c&&(d.isFunction(c)?(e=c,c=b):"object"===typeof c&&(c=d.param(c,d.ajaxSettings.traditional),h="POST"));var k=this;d.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),k.html(g?d("<div>").append(c.replace(Bb,"")).find(g):c));e&&k.each(e,[c,b,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cb.test(this.nodeName)||yb.test(this.type))}).map(function(a,b){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(a){return{name:b.name,value:a.replace(Va,"\r\n")}}):{name:b.name,value:c.replace(Va,"\r\n")}}).get()}});d.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,b){d.fn[b]=function(a){return this.bind(b,a)}});d.each(["get","post"],function(a,c){d[c]=function(a,
e,i,g){d.isFunction(e)&&(g=g||i,i=e,e=b);return d.ajax({type:c,url:a,data:e,success:i,dataType:g})}});d.extend({getScript:function(a,c){return d.get(a,b,c,"script")},getJSON:function(a,b,c){return d.get(a,b,c,"json")},ajaxSetup:function(a,b){b?T(a,d.ajaxSettings):(b=a,a=d.ajaxSettings);T(a,b);return a},ajaxSettings:{url:ua,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(va[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",
html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":$a},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:ja(Ja),ajaxTransport:ja(Za),ajax:function(a,c){function e(a,c,f,i){if(2!==r){r=2;W&&clearTimeout(W);N=b;w=i||"";v.readyState=0<a?4:0;var l,o,x,i=c;if(f){var n=h,s=v,S=n.contents,
ea=n.dataTypes,G=n.responseFields,I,M,B,za;for(M in G)M in f&&(s[G[M]]=f[M]);for(;"*"===ea[0];)ea.shift(),I===b&&(I=n.mimeType||s.getResponseHeader("content-type"));if(I)for(M in S)if(S[M]&&S[M].test(I)){ea.unshift(M);break}if(ea[0]in f)B=ea[0];else{for(M in f){if(!ea[0]||n.converters[M+" "+ea[0]]){B=M;break}za||(za=M)}B=B||za}B?(B!==ea[0]&&ea.unshift(B),f=f[B]):f=void 0}else f=b;if(200<=a&&300>a||304===a){if(h.ifModified){if(I=v.getResponseHeader("Last-Modified"))d.lastModified[p]=I;if(I=v.getResponseHeader("Etag"))d.etag[p]=
I}if(304===a)i="notmodified",l=!0;else try{I=h;I.dataFilter&&(f=I.dataFilter(f,I.dataType));var D=I.dataTypes;M={};var z,Y,oa=D.length,J,X=D[0],C,A,F,E,H;for(z=1;z<oa;z++){if(1===z)for(Y in I.converters)"string"===typeof Y&&(M[Y.toLowerCase()]=I.converters[Y]);C=X;X=D[z];if("*"===X)X=C;else if("*"!==C&&C!==X){A=C+" "+X;F=M[A]||M["* "+X];if(!F)for(E in H=b,M)if(J=E.split(" "),J[0]===C||"*"===J[0])if(H=M[J[1]+" "+X]){E=M[E];!0===E?F=H:!0===H&&(F=E);break}!F&&!H&&d.error("No conversion from "+A.replace(" ",
" to "));!0!==F&&(f=F?F(f):H(E(f)))}}o=f;i="success";l=!0}catch(bb){i="parsererror",x=bb}}else if(x=i,!i||a)i="error",0>a&&(a=0);v.status=a;v.statusText=""+(c||i);l?m.resolveWith(g,[o,i,v]):m.rejectWith(g,[v,i,x]);v.statusCode(q);q=b;P&&k.trigger("ajax"+(l?"Success":"Error"),[v,h,l?o:x]);j.resolveWith(g,[v,i]);P&&(k.trigger("ajaxComplete",[v,h]),--d.active||d.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=b);var c=c||{},h=d.ajaxSetup({},c),g=h.context||h,k=g!==h&&(g.nodeType||g instanceof
d)?d(g):d.event,m=d.Deferred(),j=d._Deferred(),q=h.statusCode||{},p,o={},x={},w,n,N,W,s,r=0,P,S,v={readyState:0,setRequestHeader:function(a,b){if(!r){var d=a.toLowerCase(),a=x[d]=x[d]||a;o[a]=b}return this},getAllResponseHeaders:function(){return 2===r?w:null},getResponseHeader:function(a){var d;if(2===r){if(!n)for(n={};d=xb.exec(w);)n[d[1].toLowerCase()]=d[2];d=n[a.toLowerCase()]}return d===b?null:d},overrideMimeType:function(a){r||(h.mimeType=a);return this},abort:function(a){a=a||"abort";N&&N.abort(a);
e(0,a);return this}};m.promise(v);v.success=v.done;v.error=v.fail;v.complete=j.done;v.statusCode=function(a){if(a){var b;if(2>r)for(b in a)q[b]=[q[b],a[b]];else b=a[v.status],v.then(b,b)}return this};h.url=((a||h.url)+"").replace(wb,"").replace(Ab,va[1]+"//");h.dataTypes=d.trim(h.dataType||"*").toLowerCase().split(Pa);null==h.crossDomain&&(s=Xa.exec(h.url.toLowerCase()),h.crossDomain=!(!s||!(s[1]!=va[1]||s[2]!=va[2]||(s[3]||("http:"===s[1]?80:443))!=(va[3]||("http:"===va[1]?80:443)))));h.data&&h.processData&&
"string"!==typeof h.data&&(h.data=d.param(h.data,h.traditional));ba(Ja,h,c,v);if(2===r)return!1;P=h.global;h.type=h.type.toUpperCase();h.hasContent=!zb.test(h.type);P&&0===d.active++&&d.event.trigger("ajaxStart");if(!h.hasContent&&(h.data&&(h.url+=(Wa.test(h.url)?"&":"?")+h.data,delete h.data),p=h.url,!1===h.cache)){s=d.now();var ea=h.url.replace(Db,"$1_="+s);h.url=ea+(ea===h.url?(Wa.test(h.url)?"&":"?")+"_="+s:"")}(h.data&&h.hasContent&&!1!==h.contentType||c.contentType)&&v.setRequestHeader("Content-Type",
h.contentType);h.ifModified&&(p=p||h.url,d.lastModified[p]&&v.setRequestHeader("If-Modified-Since",d.lastModified[p]),d.etag[p]&&v.setRequestHeader("If-None-Match",d.etag[p]));v.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$a+"; q=0.01":""):h.accepts["*"]);for(S in h.headers)v.setRequestHeader(S,h.headers[S]);if(h.beforeSend&&(!1===h.beforeSend.call(g,v,h)||2===r))return v.abort(),!1;for(S in{success:1,error:1,complete:1})v[S](h[S]);
if(N=ba(Za,h,c,v)){v.readyState=1;P&&k.trigger("ajaxSend",[v,h]);h.async&&0<h.timeout&&(W=setTimeout(function(){v.abort("timeout")},h.timeout));try{r=1,N.send(o,e)}catch(G){2>r?e(-1,G):d.error(G)}}else e(-1,"No Transport");return v},param:function(a,c){var e=[],h=function(a,b){b=d.isFunction(b)?b():b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){h(this.name,this.value)});else for(var g in a)O(g,
a[g],c,h);return e.join("&").replace(vb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var Eb=d.now(),Ga=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+Eb++}});d.ajaxPrefilter("json jsonp",function(b,c,e){c="application/x-www-form-urlencoded"===b.contentType&&"string"===typeof b.data;if("jsonp"===b.dataTypes[0]||!1!==b.jsonp&&(Ga.test(b.url)||c&&Ga.test(b.data))){var h,g=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,
k=a[g],m=b.url,j=b.data,q="$1"+g+"$2";!1!==b.jsonp&&(m=m.replace(Ga,q),b.url===m&&(c&&(j=j.replace(Ga,q)),b.data===j&&(m+=(/\?/.test(m)?"&":"?")+b.jsonp+"="+g)));b.url=m;b.data=j;a[g]=function(a){h=[a]};e.always(function(){a[g]=k;if(h&&d.isFunction(k))a[g](h[0])});b.converters["script json"]=function(){h||d.error(g+" was not called");return h[0]};b.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});d.ajaxTransport("script",function(a){if(a.crossDomain){var d,c=o.head||o.getElementsByTagName("head")[0]||o.documentElement;return{send:function(e,g){d=o.createElement("script");d.async="async";a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,
e){if(e||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,c&&d.parentNode&&c.removeChild(d),d=b,e||g(200,"success")};c.insertBefore(d,c.firstChild)},abort:function(){if(d)d.onload(0,1)}}}});var Oa=a.ActiveXObject?function(){for(var a in Ba)Ba[a](0,1)}:!1,Fb=0,Ba;d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&ma()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:ma;(function(a){d.extend(d.support,
{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(c){if(!c.crossDomain||d.support.cors){var f;return{send:function(e,h){var g=c.xhr(),k,m;c.username?g.open(c.type,c.url,c.async,c.username,c.password):g.open(c.type,c.url,c.async);if(c.xhrFields)for(m in c.xhrFields)g[m]=c.xhrFields[m];c.mimeType&&g.overrideMimeType&&g.overrideMimeType(c.mimeType);!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(m in e)g.setRequestHeader(m,
e[m])}catch(j){}g.send(c.hasContent&&c.data||null);f=function(a,e){var l,m,j,q,p;try{if(f&&(e||4===g.readyState))if(f=b,k&&(g.onreadystatechange=d.noop,Oa&&delete Ba[k]),e)4!==g.readyState&&g.abort();else{l=g.status;j=g.getAllResponseHeaders();q={};if((p=g.responseXML)&&p.documentElement)q.xml=p;q.text=g.responseText;try{m=g.statusText}catch(o){m=""}!l&&c.isLocal&&!c.crossDomain?l=q.text?200:404:1223===l&&(l=204)}}catch(x){e||h(-1,x)}q&&h(l,m,q,j)};!c.async||4===g.readyState?f():(k=++Fb,Oa&&(Ba||
(Ba={},d(a).unload(Oa)),Ba[k]=f),g.onreadystatechange=f)},abort:function(){f&&f(0,1)}}}});var Ka={},ka,xa,Gb=/^(?:toggle|show|hide)$/,Hb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ha,Qa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ea;d.fn.extend({show:function(a,b,c){if(a||0===a)return this.animate(v("show",3),a,b,c);for(var c=0,e=this.length;c<e;c++)a=this[c],a.style&&(b=a.style.display,!d._data(a,"olddisplay")&&
"none"===b&&(b=a.style.display=""),""===b&&"none"===d.css(a,"display")&&d._data(a,"olddisplay",s(a.nodeName)));for(c=0;c<e;c++)if(a=this[c],a.style&&(b=a.style.display,""===b||"none"===b))a.style.display=d._data(a,"olddisplay")||"";return this},hide:function(a,b,c){if(a||0===a)return this.animate(v("hide",3),a,b,c);a=0;for(b=this.length;a<b;a++)this[a].style&&(c=d.css(this[a],"display"),"none"!==c&&!d._data(this[a],"olddisplay")&&d._data(this[a],"olddisplay",c));for(a=0;a<b;a++)this[a].style&&(this[a].style.display=
"none");return this},_toggle:d.fn.toggle,toggle:function(a,b,c){var e="boolean"===typeof a;d.isFunction(a)&&d.isFunction(b)?this._toggle.apply(this,arguments):null==a||e?this.each(function(){var b=e?a:d(this).is(":hidden");d(this)[b?"show":"hide"]()}):this.animate(v("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var g=d.speed(b,c,e);if(d.isEmptyObject(a))return this.each(g.complete,
[!1]);a=d.extend({},a);return this[!1===g.queue?"each":"queue"](function(){!1===g.queue&&d._mark(this);var b=d.extend({},g),c=1===this.nodeType,f=c&&d(this).is(":hidden"),e,h,k,l,m;b.animatedProperties={};for(k in a){e=d.camelCase(k);k!==e&&(a[e]=a[k],delete a[k]);h=a[e];d.isArray(h)?(b.animatedProperties[e]=h[1],h=a[e]=h[0]):b.animatedProperties[e]=b.specialEasing&&b.specialEasing[e]||b.easing||"swing";if("hide"===h&&f||"show"===h&&!f)return b.complete.call(this);if(c&&("height"===e||"width"===e))b.overflow=
[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===d.css(this,"display")&&"none"===d.css(this,"float")&&(d.support.inlineBlockNeedsLayout?(h=s(this.nodeName),"inline"===h?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block")}null!=b.overflow&&(this.style.overflow="hidden");for(k in a)if(c=new d.fx(this,b,k),h=a[k],Gb.test(h))c["toggle"===h?f?"show":"hide":h]();else e=Hb.exec(h),l=c.cur(),e?(h=parseFloat(e[2]),
m=e[3]||(d.cssNumber[k]?"":"px"),"px"!==m&&(d.style(this,k,(h||1)+m),l*=(h||1)/c.cur(),d.style(this,k,l+m)),e[1]&&(h=("-="===e[1]?-1:1)*h+l),c.custom(l,h,m)):c.custom(l,h,"");return!0})},stop:function(a,b){a&&this.queue([]);this.each(function(){var a=d.timers,c=a.length;for(b||d._unmark(!0,this);c--;)if(a[c].elem===this){if(b)a[c](!0);a.splice(c,1)}});b||this.dequeue();return this}});d.each({slideDown:v("show",1),slideUp:v("hide",1),slideToggle:v("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});d.extend({speed:function(a,b,c){var e=a&&"object"===typeof a?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};e.duration=d.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;e.old=e.complete;e.complete=function(a){d.isFunction(e.old)&&e.old.call(this);!1!==e.queue?d.dequeue(this):
!1!==a&&d._unmark(this)};return e},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,b=d.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:b:a},custom:function(a,b,c){function e(a){return g.step(a)}var g=this,k=d.fx;this.startTime=Ea||U();this.start=a;this.end=b;this.unit=c||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&d.timers.push(e)&&!Ha&&(Ha=setInterval(k.tick,k.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=!0;this.custom("width"===
this.prop||"height"===this.prop?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=Ea||U(),c=!0,e=this.elem,g=this.options,k;if(a||b>=g.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();g.animatedProperties[this.prop]=!0;for(k in g.animatedProperties)!0!==g.animatedProperties[k]&&(c=!1);if(c){null!=g.overflow&&!d.support.shrinkWrapBlocks&&
d.each(["","X","Y"],function(a,b){e.style["overflow"+b]=g.overflow[a]});g.hide&&d(e).hide();if(g.hide||g.show)for(var m in g.animatedProperties)d.style(e,m,g.orig[m]);g.complete.call(e)}return!1}Infinity==g.duration?this.now=b:(a=b-this.startTime,this.state=a/g.duration,this.pos=d.easing[g.animatedProperties[this.prop]](this.state,a,0,1,g.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};d.extend(d.fx,{tick:function(){for(var a=d.timers,b=0;b<a.length;++b)a[b]()||
a.splice(b--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(Ha);Ha=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=("width"===a.prop||"height"===a.prop?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});var Ib=
/^t(?:able|d|h)$/i,ab=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in o.documentElement?function(a){var b=this[0],c;if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(e){}var g=b.ownerDocument,k=g.documentElement;if(!c||!d.contains(k,b))return c?{top:c.top,left:c.left}:{top:0,left:0};b=g.body;g=Q(g);return{top:c.top+(g.pageYOffset||d.support.boxModel&&
k.scrollTop||b.scrollTop)-(k.clientTop||b.clientTop||0),left:c.left+(g.pageXOffset||d.support.boxModel&&k.scrollLeft||b.scrollLeft)-(k.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);d.offset.initialize();var c,e=b.offsetParent,g=b.ownerDocument,k=g.documentElement,m=g.body;c=(g=g.defaultView)?g.getComputedStyle(b,null):b.currentStyle;
for(var j=b.offsetTop,q=b.offsetLeft;(b=b.parentNode)&&b!==m&&b!==k&&!(d.offset.supportsFixedPosition&&"fixed"===c.position);){c=g?g.getComputedStyle(b,null):b.currentStyle;j-=b.scrollTop;q-=b.scrollLeft;if(b===e){j+=b.offsetTop;q+=b.offsetLeft;if(d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!Ib.test(b.nodeName)))j+=parseFloat(c.borderTopWidth)||0,q+=parseFloat(c.borderLeftWidth)||0;e=b.offsetParent}d.offset.subtractsBorderForOverflowNotVisible&&"visible"!==c.overflow&&(j+=
parseFloat(c.borderTopWidth)||0,q+=parseFloat(c.borderLeftWidth)||0)}if("relative"===c.position||"static"===c.position)j+=m.offsetTop,q+=m.offsetLeft;d.offset.supportsFixedPosition&&"fixed"===c.position&&(j+=Math.max(k.scrollTop,m.scrollTop),q+=Math.max(k.scrollLeft,m.scrollLeft));return{top:j,left:q}};d.offset={initialize:function(){var a=o.body,b=o.createElement("div"),c,e,g,k=parseFloat(d.css(a,"marginTop"))||0;d.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",
visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);c=b.firstChild;e=c.firstChild;g=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=5!==e.offsetTop;this.doesAddBorderForTableAndCells=5===
g.offsetTop;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=20===e.offsetTop||15===e.offsetTop;e.style.position=e.style.top="";c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=-5===e.offsetTop;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==k;a.removeChild(b);d.offset.initialize=d.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;d.offset.initialize();d.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(d.css(a,
"marginTop"))||0,c+=parseFloat(d.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var e=d.css(a,"position");"static"===e&&(a.style.position="relative");var g=d(a),k=g.offset(),m=d.css(a,"top"),j=d.css(a,"left"),q={},p={};("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[m,j])?(p=g.position(),e=p.top,j=p.left):(e=parseFloat(m)||0,j=parseFloat(j)||0);d.isFunction(b)&&(b=b.call(a,c,k));null!=b.top&&(q.top=b.top-k.top+e);null!=b.left&&(q.left=b.left-k.left+j);"using"in b?b.using.call(a,
q):g.css(q)}};d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),e=ab.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(d.css(a,"marginTop"))||0;c.left-=parseFloat(d.css(a,"marginLeft"))||0;e.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||o.body;a&&!ab.test(a.nodeName)&&
"static"===d.css(a,"position");)a=a.offsetParent;return a})}});d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(c){var f,g;if(c===b){f=this[0];return!f?null:(g=Q(f))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]}return this.each(function(){(g=Q(this))?g.scrollTo(!a?c:d(g).scrollLeft(),a?c:d(g).scrollTop()):this[e]=c})}});d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=
function(){var a=this[0];return a&&a.style?parseFloat(d.css(a,e,"padding")):null};d.fn["outer"+c]=function(a){var b=this[0];return b&&b.style?parseFloat(d.css(b,e,a?"margin":"border")):null};d.fn[e]=function(a){var g=this[0];if(!g)return null==a?null:this;if(d.isFunction(a))return this.each(function(b){var c=d(this);c[e](a.call(this,b,c[e]()))});if(d.isWindow(g)){var k=g.document.documentElement["client"+c],i=g.document.body;return"CSS1Compat"===g.document.compatMode&&k||i&&i["client"+c]||k}if(9===
g.nodeType)return Math.max(g.documentElement["client"+c],g.body["scroll"+c],g.documentElement["scroll"+c],g.body["offset"+c],g.documentElement["offset"+c]);return a===b?(g=d.css(g,e),k=parseFloat(g),d.isNaN(k)?g:k):this.css(e,"string"===typeof a?a:a+"px")}});a.jQuery=a.$=d})(window);
(function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.toJSON="object"===typeof JSON&&JSON.stringify?JSON.stringify:function(b){if(null===b)return"null";var c=typeof b;if("undefined"!==c){if("number"===c||"boolean"===c)return""+b;if("string"===c)return a.quoteString(b);if("object"===c){if("function"===typeof b.toJSON)return a.toJSON(b.toJSON());if(b.constructor===Date){var j=b.getUTCMonth()+1,n=b.getUTCDate(),A=b.getUTCFullYear(),
c=b.getUTCHours(),z=b.getUTCMinutes(),G=b.getUTCSeconds(),b=b.getUTCMilliseconds();10>j&&(j="0"+j);10>n&&(n="0"+n);10>c&&(c="0"+c);10>z&&(z="0"+z);10>G&&(G="0"+G);100>b&&(b="0"+b);10>b&&(b="0"+b);return'"'+A+"-"+j+"-"+n+"T"+c+":"+z+":"+G+"."+b+'Z"'}if(b.constructor===Array){j=[];for(n=0;n<b.length;n++)j.push(a.toJSON(b[n])||"null");return"["+j.join(",")+"]"}n=[];for(A in b){c=typeof A;if("number"===c)j='"'+A+'"';else if("string"===c)j=a.quoteString(A);else continue;c=typeof b[A];"function"===c||"undefined"===
c||(c=a.toJSON(b[A]),n.push(j+":"+c))}return"{"+n.join(",")+"}"}}};a.evalJSON="object"===typeof JSON&&JSON.parse?JSON.parse:function(a){return eval("("+a+")")};a.secureEvalJSON="object"===typeof JSON&&JSON.parse?JSON.parse:function(a){if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.");};a.quoteString=
function(a){return a.match(b)?'"'+a.replace(b,function(a){var b=c[a];if("string"===typeof b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"'}})(jQuery);
(function(a,b){function c(){}function e(a){U=[a]}function g(a,b,c){return a&&a.apply(b.context||b,c)}function j(j){function s(a){!w++&&b(function(){P();R&&(O[C]={s:[a]});V&&(a=V.apply(j,[a]));g(j.success,j,[a,B]);g(o,j,[j,B])},0)}function Q(a){!w++&&b(function(){P();R&&a!=ja&&(O[C]=a);g(j.error,j,[j,a]);g(o,j,[j,a])},0)}var j=a.extend({},na,j),o=j.complete,V=j.dataFilter,ca=j.callbackParameter,d=j.callback,Z=j.cache,R=j.pageCache,ga=j.charset,C=j.url,aa=j.data,la=j.timeout,x,w=0,P=c;j.abort=function(){!w++&&
P()};if(!1===g(j.beforeSend,j,[j])||w)return j;C=C||z;aa=aa?"string"==typeof aa?aa:a.param(aa,j.traditional):z;C+=aa?(/\?/.test(C)?"&":"?")+aa:z;ca&&(C+=(/\?/.test(C)?"&":"?")+encodeURIComponent(ca)+"=?");!Z&&!R&&(C+=(/\?/.test(C)?"&":"?")+"_"+(new Date).getTime()+"=");C=C.replace(/=\?(&|$)/,"="+d+"$1");R&&(x=O[C])?x.s?s(x.s[0]):Q(x):b(function(g,j,o){if(!w){o=0<la&&b(function(){Q(ja)},la);P=function(){o&&clearTimeout(o);g[sa]=g[I]=g[D]=g[J]=null;T[ha](g);j&&T[ha](j)};window[d]=e;g=a(F)[0];g.id=Y+
ma++;ga&&(g[A]=ga);var x=function(a){(g[I]||c)();a=U;U=void 0;a?s(a[0]):Q(G)};ba.msie?(g.event=I,g.htmlFor=g.id,g[sa]=function(){/loaded|complete/.test(g.readyState)&&x()}):(g[J]=g[D]=x,ba.opera?(j=a(F)[0]).text="jQuery('#"+g.id+"')[0]."+J+"()":g[n]=n);g.src=C;T.insertBefore(g,T.firstChild);j&&T.insertBefore(j,T.firstChild)}},0);return j}var n="async",A="charset",z="",G="error",Y="_jqjsp",I="onclick",J="on"+G,D="onload",sa="onreadystatechange",ha="removeChild",F="<script/>",B="success",ja="timeout",
ba=a.browser,T=a("head")[0]||document.documentElement,O={},ma=0,U,na={callback:Y,url:location.href};j.setup=function(b){a.extend(na,b)};a.jsonp=j})(jQuery,setTimeout);(function(a){a.extend({log:function(){if("undefined"!==typeof App&&!App.DEBUG)return!1;if(0<arguments.length){var a=1<arguments.length?Array.prototype.join.call(arguments," "):arguments[0];try{return console.log(a),!0}catch(c){try{return opera.postError(a),!0}catch(e){}}alert(a);return!1}}})})(jQuery);
jQuery.getUrlParam=function(a){var b=null,c=window.location.href,c=c.replace(/#(.*)/,"");if(-1<c.indexOf("?"))for(var c=c.substr(c.indexOf("?")).split("&"),e=0;e<c.length;e++)if(-1<c[e].indexOf(a+"=")){b=c[e].split("=")[1];break}return null===b?null:decodeURIComponent(b)};(function(a){a.extend({deparam:function(b){var c={};a.each(b.split("&"),function(a,b){var j=b.split("=");c[j[0]]=j[1]});return c}})})(jQuery);
jQuery.cookie=function(a,b,c){c=c||{};if("undefined"!=typeof b){null===b&&(b="",c.expires=-1);var e="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString))"number"==typeof c.expires?(e=new Date,e.setTime(e.getTime()+864E5*c.expires)):e=c.expires,e="; expires="+e.toUTCString();var g=c.path?"; path="+c.path:"",j;j=window.location.hostname.split(".").reverse();j=j[1]?"; domain="+j[1]+"."+j[0]:"";c=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),e,g,j,c].join("");return!0}b=
null;if(document.cookie&&""!=document.cookie){c=document.cookie.split(";");for(e=0;e<c.length;e++)if(g=jQuery.trim(c[e]),g.substring(0,a.length+1)==a+"="){b=decodeURIComponent(g.substring(a.length+1));break}}return b};"object"!==typeof JSON&&(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=A[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var g,J,D,A,ha=j,F,B=e[a];B&&"object"===typeof B&&"function"===typeof B.toJSON&&(B=B.toJSON(a));"function"===typeof z&&(B=z.call(e,a,B));switch(typeof B){case "string":return b(B);case "number":return isFinite(B)?""+B:"null";case "boolean":case "null":return""+
B;case "object":if(!B)return"null";j+=n;F=[];if("[object Array]"===Object.prototype.toString.apply(B)){A=B.length;for(g=0;g<A;g+=1)F[g]=c(g,B)||"null";D=0===F.length?"[]":j?"[\n"+j+F.join(",\n"+j)+"\n"+ha+"]":"["+F.join(",")+"]";j=ha;return D}if(z&&"object"===typeof z){A=z.length;for(g=0;g<A;g+=1)"string"===typeof z[g]&&(J=z[g],(D=c(J,B))&&F.push(b(J)+(j?": ":":")+D))}else for(J in B)Object.prototype.hasOwnProperty.call(B,J)&&(D=c(J,B))&&F.push(b(J)+(j?": ":":")+D);D=0===F.length?"{}":j?"{\n"+j+F.join(",\n"+
j)+"\n"+ha+"}":"{"+F.join(",")+"}";j=ha;return D}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,n,A={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},z;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,e){var g;n=j="";if("number"===typeof e)for(g=0;g<e;g+=1)n+=" ";else"string"===typeof e&&(n=e);if((z=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",
{"":a})});"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,e){var g,j,n=a[e];if(n&&"object"===typeof n)for(g in n)Object.prototype.hasOwnProperty.call(n,g)&&(j=c(n,g),void 0!==j?n[g]=j:delete n[g]);return b.call(a,e,n)}var g,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"===typeof b?c({"":g},""):g;throw new SyntaxError("JSON.parse");})})();var requirejs,require,define;
(function(){function a(a){return"[object Function]"===J.call(a)}function b(a){return"[object Array]"===J.call(a)}function c(a,b,c){for(var d in b)if(!(d in T)&&(!(d in a)||c))a[d]=b[d];return s}function e(a,b,c){a=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);c&&(a.originalError=c);return a}function g(a,b,c){var d,e,g;for(d=0;g=b[d];d++){g="string"===typeof g?{name:g}:g;e=g.location;if(c&&(!e||0!==e.indexOf("/")&&-1===e.indexOf(":")))e=c+"/"+(e||g.name);a[g.name]={name:g.name,location:e||
g.name,main:(g.main||"main").replace(Y,"").replace(I,"")}}}function j(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function n(b){function d(a,b){var c,e;if(a&&"."===a.charAt(0)&&b){H.pkgs[b]?b=[b]:(b=b.split("/"),b=b.slice(0,b.length-1));c=a=b.concat(a.split("/"));var g;for(e=0;g=c[e];e++)if("."===g)c.splice(e,1),e-=1;else if(".."===g)if(1===e&&(".."===c[2]||".."===c[0]))break;else 0<e&&(c.splice(e-1,2),e-=2);e=H.pkgs[c=a[0]];a=a.join("/");e&&a===c+"/"+e.main&&(a=c)}return a}function o(a,
b){var c=a?a.indexOf("!"):-1,e=null,g=b?b.name:null,j=a,n,x;-1!==c&&(e=a.substring(0,c),a=a.substring(c+1,a.length));e&&(e=d(e,g));a&&(e?n=(c=E[e])&&c.normalize?c.normalize(a,function(a){return d(a,g)}):d(a,g):(n=d(a,g),x=Z[n],x||(x=r.nameToUrl(n,null,b),Z[n]=x)));return{prefix:e,name:n,parentMap:b,url:x,originalName:j,fullName:e?e+"!"+(n||""):n}}function n(){var a=!0,b=H.priorityWait,c,d;if(b){for(d=0;c=b[d];d++)if(!fa[c]){a=!1;break}a&&delete H.priorityWait}return a}function z(b,c,d){return function(){var e=
sa.call(arguments,0),g;if(d&&a(g=e[e.length-1]))g.__requireJsBuild=!0;e.push(c);return b.apply(null,e)}}function A(a,b){var d=z(r.require,a,b);c(d,{nameToUrl:z(r.nameToUrl,a),toUrl:z(r.toUrl,a),defined:z(r.requireDefined,a),specified:z(r.requireSpecified,a),isBrowser:s.isBrowser});return d}function X(b){var c,d,g;g=b.callback;var j=b.map,n=j.fullName,x=b.deps,w=b.listeners;if(g&&a(g)){if(H.catchError.define)try{d=s.execCb(n,b.callback,x,E[n])}catch(v){c=v}else d=s.execCb(n,b.callback,x,E[n]);n&&(b.cjsModule&&
void 0!==b.cjsModule.exports?d=E[n]=b.cjsModule.exports:void 0===d&&b.usingExports?d=E[n]:(E[n]=d,qa[n]&&(Aa[n]=!0)))}else n&&(d=E[n]=g,qa[n]&&(Aa[n]=!0));ia[b.id]&&(delete ia[b.id],b.isDone=!0,r.waitCount-=1,0===r.waitCount&&(ba=[]));delete ta[n];if(s.onResourceLoad&&!b.placeholder)s.onResourceLoad(r,j,b.depArray);if(c)return d=(n?o(n).url:"")||c.fileName||c.sourceURL,g=c.moduleTree,c=e("defineerror",'Error evaluating module "'+n+'" at location "'+d+'":\n'+c+"\nfileName:"+d+"\nlineNumber: "+(c.lineNumber||
c.line),c),c.moduleName=n,c.moduleTree=g,s.onError(c);for(c=0;g=w[c];c++)g(d)}function C(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||X(a))}}function I(a,b){var c=b.map,d=c.fullName,e=c.name,g=pa[a]||(pa[a]=E[a]),j;b.loading||(b.loading=!0,j=function(a){b.callback=function(){return a};X(b);fa[b.id]=!0;da()},j.fromText=function(a,b){var c=v;fa[a]=!1;r.scriptCount+=1;r.fake[a]=!0;c&&(v=!1);s.exec(b);c&&(v=!0);r.completeLoad(a)},d in E?j(E[d]):g.load(e,
A(c.parentMap,!0),j,H))}function D(a){ia[a.id]||(ia[a.id]=a,ba.push(a),r.waitCount+=1)}function G(a){this.listeners.push(a)}function J(a,b){var c=a.fullName,d=a.prefix,e=d?pa[d]||(pa[d]=E[d]):null,g,j;c&&(g=ta[c]);if(!g&&(j=!0,g={id:(d&&!e?ja++ +"__p@:":"")+(c||"__r@"+ja++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:G},V[g.id]=!0,c&&(!d||pa[d])))ta[c]=g;d&&!e?(c=J(o(d),!0),c.add(function(){var b=o(a.originalName,a.parentMap),b=J(b,!0);g.placeholder=!0;b.add(function(a){g.callback=
function(){return a};X(g)})})):j&&b&&(fa[g.id]=!1,r.paused.push(g),D(g));return g}function Y(a,b,c,d){var a=o(a,d),e=a.name,g=a.fullName,j=J(a),n=j.id,x=j.deps,w;if(g){if(g in E||!0===fa[n]||"jquery"===g&&H.jQuery&&H.jQuery!==c().fn.jquery)return;V[n]=!0;fa[n]=!0;"jquery"===g&&c&&aa(c())}j.depArray=b;j.callback=c;for(c=0;c<b.length;c++)if(n=b[c])n=o(n,e?a:d),w=n.fullName,b[c]=w,"require"===w?x[c]=A(a):"exports"===w?(x[c]=E[g]={},j.usingExports=!0):"module"===w?j.cjsModule=x[c]={id:e,uri:e?r.nameToUrl(e,
null,d):void 0,exports:E[g]}:w in E&&!(w in ia)&&(!(g in qa)||g in qa&&Aa[w])?x[c]=E[w]:(g in qa&&(qa[w]=!0,delete E[w],ca[n.url]=!1),j.depCount+=1,j.depCallbacks[c]=C(j,c),J(n,!0).add(j.depCallbacks[c]));j.depCount?D(j):X(j)}function O(a){Y.apply(null,a)}function R(a,b){if(!a.isDone){var c=a.map.fullName,d=a.depArray,e,g,j,n;if(c){if(b[c])return E[c];b[c]=!0}if(d)for(e=0;e<d.length;e++)if(g=d[e])if((j=o(g).prefix)&&(n=ia[j])&&R(n,b),(j=ia[g])&&!j.isDone&&fa[g])g=R(j,b),a.depCallbacks[e](g);return c?
E[c]:void 0}}function U(){var a=1E3*H.waitSeconds,b=a&&r.startTime+a<(new Date).getTime(),a="",c=!1,d=!1,g;if(!(0<r.pausedCount)){if(H.priorityWait)if(n())da();else return;for(g in fa)if(!(g in T)&&(c=!0,!fa[g]))if(b)a+=g+" ";else{d=!0;break}if(c||r.waitCount){if(b&&a)return g=e("timeout","Load timeout for modules: "+a),g.requireType="timeout",g.requireModules=a,s.onError(g);if(d||r.scriptCount){if((F||B)&&!la)la=setTimeout(function(){la=0;U()},50)}else{if(r.waitCount){for(ga=0;a=ba[ga];ga++)R(a,
{});r.paused.length&&da();5>na&&(na+=1,U())}na=0;s.checkReadyState()}}}}var r,da,H={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},Q=[],V={require:!0,exports:!0,module:!0},Z={},E={},fa={},ia={},ba=[],ca={},ja=0,ta={},pa={},qa={},Aa={},ra=0;aa=function(a){if(!r.jQuery&&(a=a||("undefined"!==typeof jQuery?jQuery:null))&&!(H.jQuery&&a.fn.jquery!==H.jQuery)&&("holdReady"in a||"readyWait"in a))if(r.jQuery=a,O(["jquery",[],function(){return jQuery}]),r.scriptCount)j(a,!0),r.jQueryIncremented=
!0};da=function(){var a,b,c,d,g,j;ra+=1;0>=r.scriptCount&&(r.scriptCount=0);for(;Q.length;){if(a=Q.shift(),null===a[0])return s.onError(e("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));O(a)}if(!H.priorityWait||n())for(;r.paused.length;){g=r.paused;r.pausedCount+=g.length;r.paused=[];for(d=0;a=g[d];d++)b=a.map,c=b.url,j=b.fullName,b.prefix?I(b.prefix,a):!ca[c]&&!fa[j]&&(s.load(r,j,c),ca[c]=!0);r.startTime=(new Date).getTime();r.pausedCount-=g.length}1===ra&&U();ra-=1};r={contextName:b,
config:H,defQueue:Q,waiting:ia,waitCount:0,specified:V,loaded:fa,urlMap:Z,urlFetched:ca,scriptCount:0,defined:E,paused:[],pausedCount:0,plugins:pa,needFullExec:qa,fake:{},fullExec:Aa,managerCallbacks:ta,makeModuleMap:o,normalize:d,configure:function(a){var b,d,e;a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");b=H.paths;e=H.pkgs;c(H,a,!0);if(a.paths){for(d in a.paths)d in T||(b[d]=a.paths[d]);H.paths=b}if((b=a.packagePaths)||a.packages){if(b)for(d in b)d in T||g(e,b[d],d);a.packages&&
g(e,a.packages);H.pkgs=e}a.priority&&(d=r.requireWait,r.requireWait=!1,r.takeGlobalQueue(),da(),r.require(a.priority),da(),r.requireWait=d,H.priorityWait=a.priority);if(a.deps||a.callback)r.require(a.deps||[],a.callback)},requireDefined:function(a,b){return o(a,b).fullName in E},requireSpecified:function(a,b){return o(a,b).fullName in V},require:function(c,d,g){if("string"===typeof c){if(a(d))return s.onError(e("requireargs","Invalid require call"));if(s.get)return s.get(r,c,d);d=o(c,d);c=d.fullName;
return!(c in E)?s.onError(e("notloaded","Module name '"+d.fullName+"' has not been loaded yet for context: "+b)):E[c]}(c&&c.length||d)&&Y(null,c,d,g);if(!r.requireWait)for(;!r.scriptCount&&r.paused.length;)r.takeGlobalQueue(),da();return r.require},takeGlobalQueue:function(){ma.length&&(ha.apply(r.defQueue,[r.defQueue.length-1,0].concat(ma)),ma=[])},completeLoad:function(a){var b;for(r.takeGlobalQueue();Q.length;)if(b=Q.shift(),null===b[0]){b[0]=a;break}else if(b[0]===a)break;else O(b),b=null;b?O(b):
O([a,[],"jquery"===a&&"undefined"!==typeof jQuery?function(){return jQuery}:null]);aa();s.isAsync&&(r.scriptCount-=1);da();s.isAsync||(r.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;-1!==c&&(d=a.substring(c,a.length),a=a.substring(0,c));return r.nameToUrl(a,d,b)},nameToUrl:function(a,b,c){var e,g,j,n,o=r.config,a=d(a,c&&c.fullName);if(s.jsExtRegExp.test(a))b=a+(b?b:"");else{e=o.paths;g=o.pkgs;c=a.split("/");for(n=c.length;0<n;n--)if(j=c.slice(0,n).join("/"),e[j]){c.splice(0,
n,e[j]);break}else if(j=g[j]){a=a===j.name?j.location+"/"+j.main:j.location;c.splice(0,n,a);break}b=c.join("/")+(b||".js");b=("/"===b.charAt(0)||b.match(/^\w+:/)?"":o.baseUrl)+b}return o.urlArgs?b+((-1===b.indexOf("?")?"?":"&")+o.urlArgs):b}};r.jQueryCheck=aa;r.resume=da;return r}function A(){var a,b,c;if(U&&"interactive"===U.readyState)return U;a=document.getElementsByTagName("script");for(b=a.length-1;-1<b&&(c=a[b]);b--)if("interactive"===c.readyState)return U=c;return null}var z=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,
G=/require\(\s*["']([^'"\s]+)["']\s*\)/g,Y=/^\.\//,I=/\.js$/,J=Object.prototype.toString,D=Array.prototype,sa=D.slice,ha=D.splice,F=!!("undefined"!==typeof window&&navigator&&document),B=!F&&"undefined"!==typeof importScripts,ja=F&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ba="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),T={},O={},ma=[],U=null,na=0,v=!1,s,D={},Q,o,V,ca,d,Z,R,ga,C,aa,la;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(a(requirejs))return;
D=requirejs;requirejs=void 0}"undefined"!==typeof require&&!a(require)&&(D=require,require=void 0);s=requirejs=function(a,c,d){var e="_",g;!b(a)&&"string"!==typeof a&&(g=a,b(c)?(a=c,c=d):a=[]);g&&g.context&&(e=g.context);d=O[e]||(O[e]=n(e));g&&d.configure(g);return d.require(a,c)};s.config=function(a){return s(a)};require||(require=s);s.toUrl=function(a){return O._.toUrl(a)};s.version="1.0.1";s.jsExtRegExp=/^\/|:|\?|\.js$/;o=s.s={contexts:O,skipAsync:{}};if(s.isAsync=s.isBrowser=F)if(V=o.head=document.getElementsByTagName("head")[0],
ca=document.getElementsByTagName("base")[0])V=o.head=ca.parentNode;s.onError=function(a){throw a;};s.load=function(a,b,c){s.resourcesReady(!1);a.scriptCount+=1;s.attach(c,a,b);a.jQuery&&!a.jQueryIncremented&&(j(a.jQuery,!0),a.jQueryIncremented=!0)};define=function(c,d,e){var g,j;"string"!==typeof c&&(e=d,d=c,c=null);b(d)||(e=d,d=[]);!d.length&&a(e)&&e.length&&(e.toString().replace(z,"").replace(G,function(a,b){d.push(b)}),d=(1===e.length?["require"]:["require","exports","module"]).concat(d));if(v&&
(g=Q||A()))c||(c=g.getAttribute("data-requiremodule")),j=O[g.getAttribute("data-requirecontext")];(j?j.defQueue:ma).push([c,d,e])};define.amd={multiversion:!0,plugins:!0,jQuery:!0};s.exec=function(a){return eval(a)};s.execCb=function(a,b,c,d){return b.apply(d,c)};s.addScriptToDom=function(a){Q=a;ca?V.insertBefore(a,ca):V.appendChild(a);Q=null};s.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c;if("load"===a.type||b&&ja.test(b.readyState))U=null,a=b.getAttribute("data-requirecontext"),
c=b.getAttribute("data-requiremodule"),O[a].completeLoad(c),b.detachEvent&&!ba?b.detachEvent("onreadystatechange",s.onScriptLoad):b.removeEventListener("load",s.onScriptLoad,!1)};s.attach=function(a,b,c,d,e,g){var j;if(F)return d=d||s.onScriptLoad,j=b&&b.config&&b.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),j.type=e||"text/javascript",j.charset="utf-8",j.async=!o.skipAsync[a],b&&j.setAttribute("data-requirecontext",b.contextName),
j.setAttribute("data-requiremodule",c),j.attachEvent&&!ba?(v=!0,g?j.onreadystatechange=function(){"loaded"===j.readyState&&(j.onreadystatechange=null,j.attachEvent("onreadystatechange",d),g(j))}:j.attachEvent("onreadystatechange",d)):j.addEventListener("load",d,!1),j.src=a,g||s.addScriptToDom(j),j;B&&(importScripts(a),b.completeLoad(c));return null};if(F){d=document.getElementsByTagName("script");for(ga=d.length-1;-1<ga&&(Z=d[ga]);ga--)if(V||(V=Z.parentNode),R=Z.getAttribute("data-main")){D.baseUrl||
(d=R.split("/"),Z=d.pop(),d=d.length?d.join("/")+"/":"./",D.baseUrl=d,R=Z.replace(I,""));D.deps=D.deps?D.deps.concat(R):[R];break}}s.checkReadyState=function(){var a=o.contexts,b;for(b in a)if(!(b in T)&&a[b].waitCount)return;s.resourcesReady(!0)};s.resourcesReady=function(a){var b,c;s.resourcesDone=a;if(s.resourcesDone)for(c in a=o.contexts,a)if(!(c in T)&&(b=a[c],b.jQueryIncremented))j(b.jQuery,!1),b.jQueryIncremented=!1};s.pageLoaded=function(){"complete"!==document.readyState&&(document.readyState=
"complete")};F&&document.addEventListener&&!document.readyState&&(document.readyState="loading",window.addEventListener("load",s.pageLoaded,!1));s(D);s.isAsync&&"undefined"!==typeof setTimeout&&(C=o.contexts[D.context||"_"],C.requireWait=!0,setTimeout(function(){C.requireWait=!1;C.takeGlobalQueue();C.jQueryCheck();C.scriptCount||C.resume();s.checkReadyState()},0))}})();
var CustomVariablesParser={parse:function(a){return"string"===typeof a?this._parseObject(this.getArrayByString(a)):"object"===typeof a?this._parseObject(a):""},getArrayByString:function(a){var b,c,e,g;try{if("$"===a)return"";a=IncorrectCharactersStripper.strip(a);e=[];g=a.split("&");for(b=0;b<g.length;b++)if(c=g[b].split("="),c[1])try{c[0]=decodeURIComponent(c[0]),c[1]=decodeURIComponent(c[1]),e.push({name:c[0],value:c[1]})}catch(j){}return e}catch(n){return[]}},_parseObject:function(a){var b,c,e,
g;g=IncorrectCharactersStripper.strip;b=[];for(c in a)e=a[c],"object"!==typeof e||"undefined"===typeof e.name||"undefined"===typeof e.value||(e.name=""+e.name,e.value=""+e.value,b.push(encodeURIComponent(g(e.name))+"="+encodeURIComponent(g(e.value))));return b.join("&")}},IncorrectCharactersStripper={strip:function(a){return"string"!==typeof a?a:a.replace(/[\x01-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"")}},XD=function(){var a,b=this;return{postMessage:function(a,e,g){e&&b.postMessage&&(g||parent).postMessage(a,
e.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))},receiveMessage:function(c,e){if(b.postMessage)if(c&&(a=function(a){if("string"===typeof e&&a.origin!==e&&"javascript:"!==a.origin&&"javascript:"!==e||"[object Function]"===Object.prototype.toString.call(e)&&!1===e(a.origin))return!1;c(a)}),b.addEventListener)b[c?"addEventListener":"removeEventListener"]("message",a,!1);else b[c?"attachEvent":"detachEvent"]("onmessage",a)}}}();
function Request(){this.regexps={iwcs:/^IWCS/};this.connectionLost=!1;this.firstPingOmmited=null;this.failedRequestsNumber=0;this.commands={"7003R":"clientLoggedIn","0116R":"operatorsAndChatState","0002R":"operatorAdded","1002S":"enterQueue","0003R":"chatClosedByOperator","0093R":"chatClosedDueToInactivity","0016R":"userLeftChat","5011F":"allOperatorsOffline","5012F":"allOperatorsOffline","5014F":"incorrectData","0043R":"offlineMessageSent","0006R":"messageFromOperator","0001P":"remoteDesktopRequest",
"0002P":"operatorIsTypingMessage","0109R":"integrationMessage","0004R":"pushPage","0099R":"skillStatus","1007S":"connectionClosed","0100R":"commonAnswer",JSON:"json","You are banned!":"clientBanned","0014C":"synchroniseChatClosed","7003C":"synchroniseLoginToChat","0114C":"synchroniseSendMessage","0004P":"synchronisePushPage","0113C":"synchroniseRateOperator","0069C":"synchroniseEmailTranscript"};this.omitCommands={"0043C":"","0122C":"","0082C":"","0116C":"","0099R":"","7000C":""};this.SSLOnlyCommands=
{"7003C":"","0069C":"","0117C":"","0114C":"","7000C":"","0004P":"","0115C":""};this._sentCommands=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];this._sentCommandsLength=this._sentCommands.length;this._requestsCounter=this._sentCommandsIndex=0;this._unsentRequests=[];this.rememberSentCommand=function(a){a=App.unescapeForIWCS(a);this._sentCommands[this._sentCommandsIndex].push(a)};this.checkIfInstanceSentCommand=function(a){var b,c;for(b in this._sentCommands)for(c in this._sentCommands[b])if(a=
$.trim(a),a=a.replace(/\^[0-9]+$/,""),this._sentCommands[b][c]==a)return!0;return!1};this.send=function(a,b){b=$.extend({force_post:!1},b);if(0==this.failedRequestsNumber)for(;0<this._unsentRequests.length;)this._doSend(this._unsentRequests.shift());return this._doSend(a,b)};this._doSend=function(a,b){var c=this,e,g,j,n,A,z,G,b=$.extend({},b);e=a;a=$(a).map(function(a,b){if("string"!==typeof b)return b;b=IncorrectCharactersStripper.strip(b);return b.replace(/\^/g,"&#94;")});a=$.makeArray(a);g=a.join("^")+
"^";this.rememberSentCommand(g);this._requestsCounter++;n=this._requestsCounter;z=function(a){"string"===typeof a&&(a=[$.trim(a)]);15<=c.failedRequestsNumber&&App.displayNewMessage({message:"Chat connection is back."});c.failedRequestsNumber=0;c.incomingResponse(n,g,a);c._sentCommandsIndex=(c._sentCommandsIndex+1)%c._sentCommandsLength;c._sentCommands[c._sentCommandsIndex]=[]};G=function(){var b;b=a[0].replace(c.regexps.iwcs,"");c.onTimeout(e,b)};!0===b.force_post?(j="/licence/"+App.LICENSE+"/tunnel.cgi?"+
App.generateRandomID(20),$.ajax({type:"POST",url:j,global:!1,data:g,dataType:"text",timeout:1E4,success:z,error:G})):(j="",j=a[0].replace(c.regexps.iwcs,""),A="","https://"===App.PROTOCOL||"undefined"!==typeof this.SSLOnlyCommands[j]?(j="https://",App.SECRET_ID&&(A="&secret_id="+encodeURIComponent(App.SECRET_ID))):j="http://",j+=App.SERVER_ADDRESS,j+="/licence/"+App.LICENSE+"/tunnel_callback.cgi?"+App.generateRandomID(20)+A+"&callback=?",$.jsonp({url:j,data:{command:g},timeout:1E4,success:z,error:G}));
return!0};this.omitFirstPing=function(){this.firstPingOmmited=!0;this.loadFirstScreen()};this.loadFirstScreen=function(){App.sendInfoToParent();!1===App.OPERATORS_ONLINE&&!1===App.getSourceInvitation()?App.offlineForm.load():App.prechatSurvey.load()};this.incomingResponse=function(a,b,c){var e,g;response=null;if(1===a&&!0!==this.firstPingOmmited){if("IWCS5014F"==$.trim(c[0]))return App.setHistoryLoading(!1),$.cookie("chat_running",null),$.cookie("waiting_in_queue",null),this.loadFirstScreen(),!0;
App.setHistoryLoading(!0)}2===a&&App.setHistoryLoading(!1);for(g=0;g<c.length;++g)$.trim(c[g]),e=App.unescapeForIWCS(c[g]),this.checkIfInstanceSentCommand(e)||(response=c[g].split("^"),response=this.decodeResponse(response),"IWCS_NONE"===response[0]||2>response[0].length||(e=$.trim(response[0].replace(this.regexps.iwcs,"")),"string"!==typeof this.commands[e]?"undefined"!==typeof this.omitCommands[e]?App.DEBUG&&$.log(e,"ommited intentionally"):App.DEBUG&&$.log("["+a+"] Command not implemented: "+e):
this.invokeAction(e,b,response)))};this.invokeAction=function(a,b,c){Actions.invoke(this.commands[a],b,c);"0116R"===a&&App.windowsCommunicator.broadcastCommonIWCS(App.SKILL,{responseCommand:a,originalRequest:b,response:c})};this.onTimeout=function(a,b){switch(b){case "7003C":App.connectionLost();break;case "7000C":this.failedRequestsNumber++;15===this.failedRequestsNumber&&App.displayNewMessage({message:"Reconnecting\u2026"});if(45<this.failedRequestsNumber)return App.connectionLost(),!0;break;case "0002P":App.hideOperatorIsTyping();
break;default:this._unsentRequests.push(a)}};this.setConnectionLost=function(){this.connectionLost=!0};this.connectionIsLost=function(){return this.connectionLost};this.decodeResponse=function(a){return $.map(a,App.unescapeForIWCS)}}
var Actions={invoke:function(a,b,c){if("function"!==typeof this._actions[a])return App.alert("Command not implemented: "+a),!0;if("undefined"!==typeof c)this._actions[a](b,c);else this._actions[a](b)},_actions:{clientLoggedIn:function(a,b){var c;if(!1===App.supports3rdPartyCookies()&&b[1]){App.SECRET_ID=b[1];try{c=window.localStorage}catch(e){}c&&window.localStorage.setItem("lc."+App.LICENSE+".secret_id",App.SECRET_ID)}App.startPing()},operatorsAndChatState:function(a,b){var c,e;c=parseInt(b[1],10);
e=1===parseInt(b[2],10);switch(App.getState()){case App.STATE_OFFLINE:e?App.startPing():0<c&&App.prechatSurvey.load({start_chat_when_disabled:!1,notify_parent_fb:!0});break;case App.STATE_PRE_CHAT:e?App.startPing():0===c&&!1===App.getSourceInvitation()&&App.offlineForm.load();break;case App.STATE_INVITATION:case App.STATE_INVITATION_WITH_AGENT:e?App.startPing():0===c&&(App.offlineForm.load(),App.invitationOperatorsOffline())}},chatSurveyJSON:function(a,b){"prechat"===("0"===a.split("^")[1]?"prechat":
"postchat")?App.prechatSurvey.displayJSON(b):App.postchatSurvey.displayJSON(b)},customForm:function(a,b){var c=a.split("^")[2];if("offline"===c)App.offlineForm.displayJSON(b);else if("queued"===c){if("1"===$.cookie("chat_running"))return!1;App.queuedForm.displayJSON(b)}else return App.alert("Custom form not supported: "+c),!1},operatorAdded:function(a,b){var c,e;App.getState()===App.STATE_INVITATION_WITH_AGENT&&(App.removeAllOperators(),App.enableTextarea());c=App.addOperator({id:b[1],display_name:b[2],
job_title:b[25],avatar_url:b[23]});if(!0===App.chat.getFinished())return App.reloadWindow(),!0;e=!0!==App.chat.getStarted();!1===e?1===b[16].replace(/;$/,"").split(";").length?(App.refreshOperatorsListAfterTransfer(),App.updateOperatorPhotoAndName(c),App.displayNewMessage({message:__tran("User_Transfer",{operator:b[2]})}),App.chat.setTransferred(!0)):App.displayNewMessage({message:__tran("Operator_joined_conference",{operator:b[2]})}):(App.chat.setStarted(!0),App.chat.setFinished(!1),App.displayChatView(),
App.startPing(),App.sendInfoToParent({state:App.STATE_CHATTING,operator_display_name:b[2]}),App.setState(App.STATE_CHATTING,App.STATE_DONT_NOTIFY_PARENT),App.focus(),App.clearChatMessages(),App.displayNewMessage({message:App.parseIncomingMessage(App.chat.getWelcomeMessage()),who:App.OPERATOR,operator_id:b[1],timestamp:b[b.length-1]}));App.chat.updateMode();App.chat.setID(b[4]);App.chat.setConferenceID(b[12]);App.updateOperatorsInfoBar();e&&App.chat.getVisitorsFirstMessage()&&(App.sendMessage({message:App.chat.getVisitorsFirstMessage().message}),
App.chat.forgetVisitorsFirstMessage())},enterQueue:function(a,b){var c,e;$.cookie("chat_running",null);App.getState()===App.STATE_INVITATION_WITH_AGENT?(App.displayNewMessage({message:__tran("Embedded_waiting_for_operator")+"..."}),App.startPing()):(c=b[2],e=b[3],e=Math.floor(e/60),App.queuedForm.setQueueData(c,0==e?1:e),App.chat.getMode()!==App.CHAT_MODE_QUEUE?App.queuedForm.load():App.queuedForm.displayJSON());App.chat.setStarted(!1);App.startPing()},chatClosedByOperator:function(a,b){b[1]=$.trim(b[1]);
0<b[1].length&&App.receivedMessage(App.getOperator().getId(),b[1]);App.endChat({who:App.OPERATOR})},chatClosedDueToInactivity:function(){App.displayNewMessage({message:__tran("Client_inactive")});App.endChat({who:App.CLIENT})},userLeftChat:function(a,b){if(-1===b[2].indexOf("@"))return!0;App.removeOperator(b[2]);0<App.getOperatorsNumber()?(App.updateOperatorPhotoAndName(),App.displayNewMessage({message:__tran("Operator_left_conference",{operator:b[3]})}),1==App.getOperatorsNumber()&&App.chat.setMode(App.CHAT_MODE_SINGLE)):
$.cookie("chat_running",null);App.$typingIndicator.hide();App.stopTypingIndicatorAnimation()},allOperatorsOffline:function(){App.endChat();App.offlineForm.load()},incorrectData:function(){!0===App.chat.getStarted()&&App.connectionLost()},offlineMessageSent:function(a,b){1===parseInt(b[1],10)?App.showView("offline-message-sent"):App.displayInformation(__tran("Offline_message_failed"))},messageFromOperator:function(a,b){App.receivedMessage(b[1],b[2],b[9],b[10])},remoteDesktopRequest:function(){},operatorIsTypingMessage:function(a,
b){var c,e,g;g=App.checkUpdateScroll();b[2].match(/^[^-]+/);c=b[2].match(/^[^-]+-(.*)-[^-]+$/)[1];e=b[2].match(/[^-]+$/)[0];c=App.unescapeForIWCS(c);c=__tran("Operator_is_typing",{operator:App.getOperatorByID(c).getDisplayName()});c=c.replace(/\.+ ?$/,"");App.$typingIndicator.find(".typing-author").html(App.escapeString(c));"1"==e?(App.$typingIndicator.show(),App.stopTypingIndicatorAnimation(),App.startTypingIndicatorAnimation()):(App.$typingIndicator.hide(),App.stopTypingIndicatorAnimation());g&&
App.updateScroll()},integrationMessage:function(a,b){var c=b[1],e=eval("("+b[2]+")");switch(c){case "freshbooks":App.freshbooks.show(e);break;case "zendesk":App.zendesk.show(e);break;case "assistly":App.assistly.show(e);break;case "joinme":App.getHistoryLoading()||App.joinme.show(e);break;case "firefly":App.getHistoryLoading()||App.firefly.show(e)}},pushPage:function(a,b){App.pushPage.push(b[1],b[3])},skillStatus:function(a,b){App.prechatSurvey.skillAvailability(b[2],b[3])},connectionClosed:function(){App.endChat()},
commonAnswer:function(){},json:function(a,b){var c,b=JSON.parse(b[1]);switch(b.name){case "chat_survey":b.survey=b.survey||{enabled:!1,fields:[]};this.chatSurveyJSON(a,b.survey);break;case "custom_form":c=a.split("^")[2];("offline"===c||"queued"===c)&&this.customForm(a,b.fields);break;default:App.DEBUG&&$.log("JSON command not implemented: "+b.name)}},clientBanned:function(){App.stopPing();App.displayInformation(__tran("You_are_banned_message"))},synchroniseChatClosed:function(a,b){if("closechat"!==
b[1])return!1;App.endChat({who:App.CLIENT})},synchroniseLoginToChat:function(a,b){App.client.setName(b[1]);App.client.setEmail(b[15]);App.chat.setID(b[14]);App.chat.setWelcomeMessage(b[19]);App.setIntegrationVariables(b[20]);App.SKILL=b[4];App.updateOperatorsInfoBar()},synchroniseSendMessage:function(a,b){var c;c=b[3];c=App.parseIncomingMessage(c);App.displayNewMessage({message:c,who:App.CLIENT,timestamp:b[8]})},synchronisePushPage:function(a,b){var c;if("LCOP0023C"!==b[2].split("-")[0])return!1;
c=b[2].match(/(-([^-]+)-(\d+))/);1==parseInt(c[3],10)?App.pushPage.showPushPageAccepted():App.pushPage.showPushPageRefused()},synchroniseRateOperator:function(a,b){App.rateMe.displayRate(b[3]);App.rateMe.setLatestVote(b[3])},synchroniseEmailTranscript:function(a,b){App.emailTranscript.setEmail(b[2]);App.emailTranscript.displayConfirmation(App.emailTranscript.getEmail(),App.emailTranscript.HIDE_INSTANTLY)}}},Translate={phrases:null,init:function(){document.title=__tran("Welcome_title")},setLangPhrases:function(a){this.phrases=
a},getLangPhrasesDefined:function(){return null!==this.phrases},translateCallback:function(a,b){a=a.substring(2,a.length-2);if("undefined"==typeof Translate.phrases[a]){if("undefined"==typeof LangDef[a])return"";Translate.phrases[a]=LangDef[a]}a=Translate.phrases[a];b&&(a=App.escapeString(a));return a=a.replace(/\n/g,"<br>")},translateEscapedCallback:function(a){return Translate.translateCallback(a,!0)},getPhrase:function(a){return"undefined"==typeof Translate.phrases[a]?"":Translate.phrases[a]},
translate:function(a,b){$.extend({escape:!1},b);return a=a.replace(/{%(.*?)%}/g,this.translateCallback)},get:function(a,b){var c=Translate.translateCallback("{%"+a+"%}");if(b)for(var e in b)b[e]=App.escapeString(b[e]),c=c.replace("%"+e+"%",b[e]),c=c.replace("%"+e,b[e]);return c}},__tran=Translate.get,LangDef=[];LangDef.Welcome_title="Welcome to LiveChat";LangDef.Offline_form="Leave a message";LangDef.Embedded_new_message="New message from %operator%";LangDef.Embedded_chat_ended="Chat ended";
LangDef.Embedded_chat_with="Chat with %operator%";LangDef.Embedded_chat_now="Chat now";LangDef.Embedded_leave_message="Leave a message";LangDef.Embedded_waiting_for_operator="Waiting for operator";LangDef.Survey_fill_in_required_fields="Please fill in required fields.";LangDef.Invalid_email="Invalid e-mail";LangDef.Role_Support_Angel="Support Operator";LangDef.Welcome_to_chat="Hello %name%. How may I help you?";LangDef.Client="Client";LangDef.Embedded_textarea_placeholder="Type in your message here and press Enter to send";
LangDef.Leave_chat_confirm="Do you really want to leave the chat?";LangDef.Loading="Please wait";LangDef.Rate_me_confirmation_good="You rated our customer service as good.";LangDef.Rate_me_confirmation_bad="You rated our customer service as bad.";LangDef.Rate_me_cancel="Your vote has been cancelled.";LangDef.Operator_joined_conference="%operator% has joined the conference.";LangDef.Operator_left_conference="%operator% has left the conference.";LangDef.Chat_session_closed="Chat closed.";
LangDef.Embedded_start_chat_again="Start the chat again";LangDef.User_Transfer="You have been transferred to: %operator%.";LangDef.Operator_closed_session="%operator% has closed the chat.";LangDef.Client_inactive="The chat has been closed due to long user inactivity.";LangDef.User_in_queue_unknown_time="One of our representatives will be with you shortly. You are number %number% in the queue.";LangDef.User_in_queue="One of our representatives will be with you shortly. You are number %number% in the queue. Your wait time will be approximately %minutes% minute(s). Thank you for your patience.";
LangDef.Lost_Connection="Connection lost. Please check your internet connection and then try again.";LangDef.Operator_is_typing="%operator% is typing...";LangDef.Push_page_requested="%operator% wants to open this page in your browser:";LangDef.Push_page_accepted="You have been navigated to the page.";LangDef.Push_page_refused="You refused to open the page.";LangDef.Chat_transcript_sent="Chat transcript will be sent to %s once the chat is finished.";LangDef.You_are_banned_message="You have been temporarily prohibited from entering this chat.";
LangDef.Offline_message_sent="Thank you! Your message has been sent. Our support team will contact you soon.";LangDef.Offline_message_failed="We were unable to leave your message. Please try again later.";LangDef.Button_allow="Allow";LangDef.Button_link_or="or";LangDef.Button_link_cancel="cancel";LangDef.Push_page_accept="Open this page";LangDef.Push_page_or="or";LangDef.Push_page_cancel="cancel";LangDef.Send="Send";LangDef.Button_leave_chat_confirm="Leave the chat";
LangDef.Button_leave_chat_cancel="cancel";LangDef.Prechat_submit_label="Start the chat";LangDef.Embedded_invitation_accept="Start the chat";LangDef.Embedded_invitation_refuse="close the window";LangDef.Offline_form_submit_label="Leave a message";LangDef.Skill_status_online="online";LangDef.Skill_status_offline="offline";LangDef.Submit="Submit";LangDef.Embedded_read_chat_transcript="Read the chat transcript";LangDef.Rate_me_good="Good";LangDef.Embedded_minimize_window="Minimize window";
LangDef.Close_chat="Stop the chat";LangDef.Rate_me_good_tooltip="Rate as good";LangDef.Rate_me_bad_tooltip="Rate as bad";LangDef.Send_transcript_to_email="Send the chat transcript to your e-mail.";LangDef.Freshbooks_invoice_created="A new invoice for <strong>%amount%</strong> has just been created. <br>Please check that all the details are correct.";LangDef.Freshbooks_click_here="Click here";LangDef.Freshbooks_to_download="for direct download.";LangDef.Zendesk_ticket_created="A support ticket has been created for your case.";
LangDef.Zendesk_ticket_notification="You will be emailed at %email% when it's resolved.";LangDef.Assistly_ticket_created="A support ticket has been created for your case.";LangDef.Assistly_ticket_notification="You will be emailed at %email% when it's resolved.";LangDef.Joinme_info="<strong>%sender%</strong> wants you to <strong>share your desktop</strong>. <br> Sharing is <strong>secured</strong> by LogMeIn.";LangDef.Joinme_session_started="Remote desktop session has started.";
LangDef.Joinme_session_rejected="Remote desktop session was rejected.";LangDef.Facebook_login_button="Login with Facebook";LangDef.Facebook_login_refuse="I don't want to login with Facebook";LangDef.Firefly_info="<strong>%sender%</strong> wants you to start a <strong>co-browsing session</strong> with you.";LangDef.Firefly_session_started="Please wait for the agent to enter the co-browsing session.";LangDef.Firefly_session_rejected="Co-browsing session was rejected.";
function RecentWindow(){this.isRecentObserver=this.is_recent=null}RecentWindow.prototype.init=function(){this.startCheckForRecentWindow();this.markAsRecent()};RecentWindow.prototype.isRecent=function(){return this.is_recent};RecentWindow.prototype.markAsRecent=function(){$.cookie("recent_window",App.getUniqueID());this.is_recent=!0;App.addBodyClass("recent-window")};
RecentWindow.prototype.startCheckForRecentWindow=function(){var a=this;this.isRecentObserver=setInterval(function(){a.checkWindowIsRecent()},1E3)};RecentWindow.prototype.checkWindowIsRecent=function(){if(!1===this.is_recent)return!0;$.cookie("recent_window")!==App.getUniqueID()&&(this.is_recent=!1,App.removeBodyClass("recent-window"))};function ReadMessage(){this.unread_messages=null}
ReadMessage.prototype.init=function(){var a=this;App.windowsCommunicator.registerObserver(function(b,c){a.receiveMessage(b,c)})};ReadMessage.prototype.notifyAboutReadMessage=function(){if(!1===App.chat.getStarted())return!1;this.unread_messages=0;App.windowsCommunicator.broadcast("new_messages",this.unread_messages);App.notifyParent.send("message_read")};
ReadMessage.prototype.notifyAboutNewMessage=function(){if(!1===App.windowsCommunicator.isMainWindow())return!1;this.unread_messages++;App.windowsCommunicator.broadcast("new_messages",this.unread_messages)};ReadMessage.prototype.receiveMessage=function(a,b){switch(a){case "new_messages":this.onNewMessages(b);break;case "personal_invitation":this.onPersonalInvitation(b)}};
ReadMessage.prototype.onNewMessages=function(a){if(!1===App.chat.getStarted())return!1;if(!0===App.popout.isPopOut()||App.getWindowMode()===App.WINDOW_MAXIMIZED&&!0===App.tabIsActive)return this.notifyAboutReadMessage(),!0;if("undefined"===typeof a)return!1;this.unread_messages=a;if(0===a)return App.notifyParent.send("message_read"),!0;App.notifyParent.send("new_messages;"+a)};ReadMessage.prototype.onPersonalInvitation=function(a){App.incomingInvitationWithAgent(a.trigger_unique_id,a.message,a.agent)};
Observers.prototype=new Observers;Observers.prototype.constructor=Observers;function Observers(){this._observers={}}Observers.prototype.register=function(a,b){"undefined"===typeof this._observers[a]&&(this._observers[a]=[]);this._observers[a].push(b)};Observers.prototype.notify=function(a){if("undefined"===typeof this._observers[a])return!1;$.each(this._observers[a],function(a,c){c()})};
function WindowsCommunicator(){this._isMainWindow=!1;this._isMainWindowInGroup={};this.observers=[];this.last_received_message_timestamps={};this.last_received_iwcs_timestamp=0}WindowsCommunicator.prototype.init=function(){this.startCheckingForMainWindow();this.startCheckingForMainWindowInGroup();this.startReceivingMessages()};WindowsCommunicator.prototype.isMainWindow=function(){return this._isMainWindow};WindowsCommunicator.prototype.isMainWindowInGroup=function(){return!0===this._isMainWindowInGroup[App.SKILL]};
WindowsCommunicator.prototype._getTimestamp=function(){return+new Date};WindowsCommunicator.prototype.startCheckingForMainWindow=function(){var a=this,b=null,c;c=setInterval(function(){var e=$.cookie("main_window_timestamp");if(null===e||b===e)return a.actAsMainWindow(),clearInterval(c),c=null,a._isMainWindow=!0;b=e},500)};
WindowsCommunicator.prototype.startCheckingForMainWindowInGroup=function(){var a=this,b=null,c;c=setInterval(function(){var e=$.cookie("main_window_timestamp_"+App.SKILL);if(null===e||b===e)return a.actAsMainWindowInGroup(),clearInterval(c),c=null,a._isMainWindowInGroup[App.SKILL]=!0;b=e},500)};
WindowsCommunicator.prototype.actAsMainWindow=function(){var a=this;$.cookie("main_window_timestamp",this._getTimestamp());App.notifyParent.send("main_window");setInterval(function(){$.cookie("main_window_timestamp",a._getTimestamp())},200)};WindowsCommunicator.prototype.actAsMainWindowInGroup=function(){var a=this;$.cookie("main_window_timestamp_"+App.SKILL,this._getTimestamp());setInterval(function(){$.cookie("main_window_timestamp_"+App.SKILL,a._getTimestamp())},200)};
WindowsCommunicator.prototype.startReceivingMessages=function(){var a=this;setInterval(function(){a.receiveMessages(["new_messages","personal_invitation"])},1E3);setInterval(function(){a.receiveCommonIWCS()},5E3)};WindowsCommunicator.prototype.broadcast=function(a,b,c){c=c||{};b={timestamp:this._getTimestamp(),message:b};c.singleMessage&&(b.expires=this._getTimestamp()+1E3);$.cookie("notification["+a+"]",$.toJSON(b))};
WindowsCommunicator.prototype.clearBroadcast=function(a){$.cookie("notification["+a+"]",null)};WindowsCommunicator.prototype.broadcastCommonIWCS=function(a,b){var c;if(!0!==this.isMainWindowInGroup())return!1;c=$.cookie("common_iwcs_"+App.SKILL);c=null===c||void 0===c?{}:$.extend({},$.parseJSON(c));c[a]={timestamp:App.getTimestamp(),responseCommand:b.responseCommand,originalRequest:b.originalRequest,response:b.response};$.cookie("common_iwcs_"+App.SKILL,$.toJSON(c))};
WindowsCommunicator.prototype.registerObserver=function(a){this.observers.push(a)};
WindowsCommunicator.prototype.receiveMessages=function(a){var b,c,e,g;for(b=0,c=a.length;b<c;b++)e=a[b],g=$.cookie("notification["+e+"]"),null===g||void 0===g||""===g||(g=$.parseJSON(g),g.expires&&g.expires<this._getTimestamp()?$.cookie("notification["+e+"]",null):this.last_received_message_timestamps[e]&&this.last_received_message_timestamps[e]>=g.timestamp||(this.last_received_message_timestamps[e]=g.timestamp,$.each(this.observers,function(a,b){b(e,g.message)})))};
WindowsCommunicator.prototype.receiveCommonIWCS=function(){var a;if(!0===this.isMainWindowInGroup())return!1;a=$.cookie("common_iwcs_"+App.SKILL);if(null===a||void 0===a)return!1;a=$.parseJSON(a);a=a[App.SKILL];if(null===a||void 0===a)return!1;if(this.last_received_iwcs_timestamp>=a.timestamp)return!0;this.last_received_iwcs_timestamp=a.timestamp;App.request.invokeAction(a.responseCommand,a.originalRequest,a.response)};
function PopOut(){this.is_popped_out=null;!0===this.isInIframe()?(App.addBodyClass("pop-out"),App.addBodyClass("pop-in-disabled")):!1===this.isPopOut()?App.addBodyClass("pop-in"):(App.addBodyClass("pop-out"),App.setWindowMode(App.WINDOW_POPOUT))}PopOut.prototype.isPopOut=function(){return window.top===window.self};PopOut.prototype.isInIframe=function(){return""===App.notifyParent.getParentUrl()};
function Chat(){this.GUID=this.id=null;this.finished=this.started_by_operator=this.initializing=this.started=!1;this.parameters="";this.transferred=!1;this.mode=App.CHAT_MODE_SINGLE;this.sneak_peek=this.previous_sneak_peek="";this.custom_variables=this.welcome_message=this.rating=null;this.setID=function(a){this.id=a};this.getID=function(){return null===this.id?"$":App.escape(this.id)};this.setConferenceID=function(a){this.conference_id=a};this.getConferenceID=function(){return App.escape(this.conference_id)};
this.getGUID=function(){return"$"};this.setStarted=function(a){this.started=a;!1!==a&&($.cookie("chat_running","1",{expires:1}),App.setTitle(__tran("Welcome_title")),App.showTextarea(),App.showOperatorsBar(),App.displaySocialNetworks(),setTimeout(function(){App.bindTextareaResize()},500))};this.getStarted=function(){return this.started};this.getRunning=function(){return!0===this.started&&!1===this.finished?!0:!1};this.setInitializing=function(a){this.initializing=a};this.getInitializing=function(){return this.initializing};
this.setStartedByOperator=function(a){this.started_by_operator=a};this.getStartedByOperator=function(){return this.started_by_operator};this.setFinished=function(a){this.finished=a;if(!1===this.finished)return!0;$.cookie("chat_running",null);App.removeBodyClass("chat-started")};this.getFinished=function(){return this.finished};this.setParameters=function(a){this.parameters=a};this.getParameters=function(){return this.parameters};this.setTransferred=function(a){this.transferred=a};this.getTransferred=
function(){return this.transferred};this.setMode=function(a){this.mode=a;this.mode===App.CHAT_MODE_SINGLE&&(a=App.getOperator(),App.notifyParent.send("operator;"+encodeURIComponent(App.unescapeForIWCS(a.getDisplayName()))));this.mode===App.CHAT_MODE_QUEUE?$.cookie("waiting_in_queue","1"):$.cookie("waiting_in_queue",null)};this.getMode=function(){return this.mode};this.updateMode=function(){0==App.getOperatorsNumber()?this.setMode(App.CHAT_MODE_FINISHED):1==App.getOperatorsNumber()?this.setMode(App.CHAT_MODE_SINGLE):
this.setMode(App.CHAT_MODE_CONFERENCE)};this.setSneakPeek=function(a){this.sneak_peek=$.trim(a)};this.getSneakPeek=function(){return this.sneak_peek===this.previous_sneak_peek?"":this.previous_sneak_peek=this.sneak_peek};this.setWelcomeMessage=function(a){this.welcome_message=a};this.getWelcomeMessage=function(){null===this.welcome_message&&(this.welcome_message=__tran("Welcome_to_chat",{name:App.client.getName()}));return this.welcome_message};this.setCustomVariables=function(a){var b=this,a=$.deparam(a);
this.custom_variables={};$.each(a,function(a,e){try{b.custom_variables[decodeURIComponent(a)]=decodeURIComponent(e)}catch(g){b.custom_variables[a]=e}})};this.getCustomVariables=function(){return this.custom_variables};this.rememberVisitorsFirstMessage=function(a){$.cookie("visitor_first_message",JSON.stringify({message:a.message,trigger_unique_id:a.trigger_unique_id}))};this.forgetVisitorsFirstMessage=function(){$.cookie("visitor_first_message",null)};this.getVisitorsFirstMessage=function(a){var b=
$.cookie("visitor_first_message");return b&&0<b.length&&(b=JSON.parse(b),null==a||b.trigger_unique_id===a)?b:!1}}
function Tooltip(){this._inited=!1;this.tooltipArrowW2=this.$tooltipContent=this.$tooltipArrow=this.$tooltip=null;this.init=function(){if(!0===this._inited)return!0;$("body").append('<div id="tooltip"><div id="tooltip-arrow"></div><div id="tooltip-content"></div></div>');this.$tooltip=$("#tooltip");this.$tooltipArrow=$("#tooltip-arrow");this.$tooltipContent=$("#tooltip-content");this.tooltipArrowW2=this.$tooltipArrow.outerWidth()/2;this._inited=!0};this.set=function(a){if("ontouchstart"in window)return!1;
this.init();var b=this;a.each(function(){var a,e;e=$(this);a=e.attr("title");e.removeAttr("title");a=a.replace(/\.$/,"");e.attr("data-title",a);$(this).hover(function(){var a=$(this),c,e,A,z,G;c=a.attr("data-title");b.$tooltipContent.html(c);b.$tooltip.css("visibility","hidden");b.$tooltip.show();e=a.offset();z=a.outerWidth();G=b.$tooltip.outerWidth();c=e.left+parseInt((z-G)/2,10);c=0<c?c:6;A=e.top+a.outerHeight()+6;c+G>$(window).width()-5&&(c=$(window).width()-G-5);e=e.left-c+z/2;e-=b.tooltipArrowW2;
e=Math.round(e);b.$tooltipArrow.css("margin-left",e+"px");b.$tooltip.css({top:A+"px",left:c+"px"});b.$tooltip.attr("rel",a.attr("id")||"");b.$tooltip.css("visibility","visible")},function(){b.hide()})})};this.hide=function(a){if("ontouchstart"in window)return!1;a=$.extend({target_id:!1},a);if(!1!==a.target_id&&a.target_id!==this.$tooltip.attr("rel"))return!1;this.$tooltip.hide()}}function Shortener(){this.max_length=30;this.re=/(<a .*?>)(.*?)<\/a>/}
Shortener.prototype.replace=function(a,b,c){var e;e=c.replace(/^http:\/\//,"");e=e.replace(/^www\./,"");if(e.length<App.shortener.max_length+10)return a;c=c.substring(0,20)+"&hellip;"+c.substring(c.length-App.shortener.max_length);return b+c+"</a>"};Shortener.prototype.shorten=function(a){return a=a.replace(this.re,this.replace)};
function Notification(){this._inited=!1;this.$content=this.$notification=null;this.init=function(){if(!0===this._inited)return!0;$("body").append('<div id="notification"><div id="notification-content"></div></div>');this.$notification=$("#notification");this.$content=$("#notification-content");this._inited=!0};this.show=function(a){var b=this;this.init();a=$.extend({message:"",type:"error",fadeOut:!1},a);this.$notification.hide();this.$content.text(a.message);this.$notification.removeClass("error success").addClass(a.type).fadeIn(400);
!0===a.fadeOut&&setTimeout(function(){b.hide(300)},5E3)};this.hide=function(a){"undefined"===typeof a&&(a=100);if(null===this.$notification||!1==this.$notification.is(":visible"))return!0;this.$notification.fadeOut(a)}}
var NotifyParent={parent_url:document.location.hash.replace(/^#/,""),original_parent_url:null,parent_domain:null,supportsPostMessage:!!window.postMessage,messagesQueue:[],init:function(){this.parent_domain=this.parent_url.replace(/([^\/])\/[^\/].*/g,"$1").replace(/\/$/,"");this.original_parent_url=document.location.toString();this.bindReceive();!1===this.supportsPostMessage&&this.bindSendInterval()},getParentUrl:function(){return this.parent_url},bindSendInterval:function(){var a=this;setInterval(function(){var b;
0<a.messagesQueue.length&&(b=a.messagesQueue.pop(),NotifyParent._send(b))},180)},send:function(a){if(App.popout.isInIframe()||!0===App.popout.isPopOut())return!1;!0===this.supportsPostMessage?this._send(a):this.messagesQueue.push(a)},_send:function(a){XD.postMessage(encodeURIComponent(a),this.getParentUrl(),parent)},bindReceive:function(){var a=this;XD.receiveMessage(function(b){a.receive(b)},this.parent_domain)},receive:function(a){a=a.data;a=decodeURIComponent(a);App.receiveMessageFromParent(a)},
reloadWindow:function(){var a=window.location.href;/&trigger=[a-zA-Z0-9]+/.test(a)?(a=a.replace(/&trigger=[a-zA-Z0-9]+/,""),window.location.href=a):window.location.reload()}};function Client(){this.email=this.name=this.id=null;this.setName=function(a){this.name=a};this.getName=function(){null===this.name&&this.setName(__tran("Client"));return this.name};this.setEmail=function(a){this.email=a};this.getEmail=function(){return App.escape(this.email)}}
function Operator(){this.display_name=this.id=null}Operator.prototype.getId=function(){return this.id};Operator.prototype.getDisplayName=function(){return this.display_name};Operator.prototype.getJobTitle=function(){return App.LC2?this.job_title:__tran("Role_Support_Angel")};Operator.prototype.getAvatarUrl=function(){return"//"+this.avatar_url};
var Template={_templates:{},_templatesRegisterQueue:[],_templatesParts:{},_parse:function(a){var b=App.LC2?"2.0":"1.0",a=a.replace('type="text/livechat-theme-'+b+'" id="theme-'+App.THEME+'"','type="text/css" id="theme-'+App.THEME+'"');"deprecated"!==App.THEME&&(a=a.replace('type="text/livechat-theme-'+b+'" id="theme-not-deprecated"','type="text/css" id="theme-not-deprecated"'));a=a.replace('type="text/livechat-styles-'+b+'"','type="text/css"');a=a.replace(/<style type="text\/livechat-(.*?)<\/style>/g,
"");return a=Translate.translate(a,{escape:!0})},register:function(a,b){this._templatesRegisterQueue.push({name:a,content:b})},parseLanguagePhrases:function(){for(var a=0,b=this._templatesRegisterQueue.length,c,a=0;a<b;++a)c=this._templatesRegisterQueue[a],this._templates[c.name]=this._parse(c.content)},get:function(a,b){if("undefined"===typeof b)return"undefined"===typeof this._templates[a]?(App.alert("No such template: "+a),""):this._templates[a];"undefined"===typeof this._templatesParts[a]&&(this._templatesParts[a]=
{});if("undefined"===typeof this._templatesParts[a][b]){var c=this._templates[a].match(RegExp("<"+b+">(.*)</"+b+">"));this._parse(this._templatesParts[a][b]=c[1])}return this._templatesParts[a][b]}};function Validator(){}EmailValidator.prototype=new Validator;EmailValidator.prototype.constructor=EmailValidator;
function EmailValidator(){this.regexp=/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i}EmailValidator.prototype.validate=function(a){return this.regexp.test(a)};function Form(){this.fields=[];this.$content=null;this.class_name="Form";this.view_class=null;this.readFieldsFromCookie=this.ga_tracked=this.inited=!1}Form.prototype.getClassName=function(){return this.class_name};
Form.prototype.parse=function(a){a=a.replace(/\r\n/g,"").replace(/\r/g,"").replace(/\n/g,"");this._parseFields(a)};
Form.prototype.parseJSON=function(a){var b,c,e,g;a.sort(function(a,b){return"header"===a.type||a.order<b.order?-1:1});this.fields=$.map(a,$.proxy(this._parseJSONField,this));a=this.getFieldByClassName("FormFieldCheckboxForEmail");e=this.getFieldByClassName("FormFieldEmail");if(a){for(b=0;b<this.fields.length;b++)this.fields[b]===e?g=b:this.fields[b]===a&&(c=b);this.fields[g+1]&&(b=this.fields[g+1],this.fields[g+1]=a,this.fields[c]=b)}"QueuedForm"!==this.getClassName()&&this.addField(new FormFieldSubmit({form:this}))};
Form.prototype._parseJSONField=function(a){var b,c;switch(a.type){case "header":return a.label=a.value,new FormFieldHeader(a.label);case "facebookConnect":return this.hasFacebookConnect=!0,this.connectToFacebookApi(),new FormFieldFacebookConnect(a);default:if(b=a.type,c="FormField"+(b.charAt(0).toUpperCase()+b.substring(1)),c=c.replace(/_(\w)/g,function(a,b){return b.toUpperCase()}),"undefined"===typeof window[c])App.alert("No such field type in Form::parseFields(): "+b);else return new window[c](a)}};
Form.prototype.addField=function(a){this.fields.push(a)};Form.prototype.getFields=function(){return this.fields};
Form.prototype._parseFields=function(a){var b,c,e;this.fields=[];this.$content=null;for(this._parseHeader(a);b=a.match(/<\!-- \[(.*?)\] --\>(.*?)<\!-- \[\/.*?\] --\>/);)c=b[1],b=b[2],e="FormField",e+=c.charAt(0).toUpperCase()+c.substring(1),"undefined"===typeof window[e]?App.alert("No such field type in Form::parseFields(): "+c):this.addField(new window[e](b)),a=a.replace(/<\!-- \[.*?\] --\>.*?<\!-- \[\/.*?\] --\>/,"");"QueuedForm"!==this.getClassName()&&this.addField(new FormFieldSubmit({form:this}))};
Form.prototype.hasInputFields=function(){var a=!1,b=this.getFields();$(b).each(function(b,e){if(!0===e.providesValue())return a=!0});return a};Form.prototype._parseHeader=function(a){a=a.match(/<\!-- header --\>(.*?)<\!-- end header --\>/);if(!a||!a[1])return!0;this.addField(new FormFieldHeader(a[1]))};
Form.prototype.submit=function(){var a;if(App.getWindowMode()===App.WINDOW_MINIMIZED&&!1===App.popout.isInIframe())return!1;a=this.validate();if(!0!==a)return"invalid_email"===a.error?(App.notification.show({message:__tran("Invalid_email")}),$("#email").focus()):(App.notification.show({message:__tran("Survey_fill_in_required_fields")}),$("form div.invalid:first :input").focus()),!1;!0===this.readFieldsFromCookie&&this.rememberFieldsInCookies();App.notification.hide();$("#body form :input").attr("disabled",
"disabled");$("#body form").find(".ajax-loader").css("visibility","visible");return!0};Form.prototype.rememberFieldsInCookies=function(){var a;a=this.getFields();$(a).each(function(a,c){c.setCookie()})};Form.prototype.focusFirstField=function(){App.windowMode&&$("#body form input[type=text], #body form textarea").first().focus()};
Form.prototype.preloadLoaderImage=function(){$('#body form input[type="submit"]').each(function(){0===$(this).siblings(".ajax-loader").length?$(this).after('<span class="ajax-loader" />'):$(this).siblings(".ajax-loader").css("visibility","hidden")})};
Form.prototype.init=function(){var a,b=this;if(!0===this.inited)return this.preloadLoaderImage(),a=this.getFields(),$(a).each(function(a,b){b.removeValidationMark()}),$("#body form :input").removeAttr("disabled"),!1;this.inited=!0;this.focusFirstField();this.preloadLoaderImage();$("#view-"+this.view_class).submit(function(){b.submit();return!1});return!0};Form.prototype.removeFields=function(a){var b;b=this.getFields();$(b).each(function(c,e){e.getClassName()===a&&b.splice(c,1)});this.$content=null};
Form.prototype.validate=function(){var a,b;a=this.getFields();b=!0;$(a).each(function(a,e){var g;g=e.getClassName();if(!1===e.providesValue()||!0===e.isValid())return e.markAsValid(),!0;e.markAsInvalid();if(!0!==b)return!0;b="FormFieldEmail"===g?{error:"invalid_email"}:{error:"required_fields"}});return b};Form.prototype.getContent=function(){null===this.$content&&(this.$content=this._getContent());return this.$content};
Form.prototype._getContent=function(){var a=this,b,c,e;b=$('<div class="form" />');b.append("<form />");c=b.find("form");e=this.getFields();$(e).each(function(b,e){c.append(e.getHtml({readFromCookie:a.readFieldsFromCookie}))});return b};Form.prototype.getFieldByClassName=function(a){var b=null,c=this.getFields();$(c).each(function(c,g){if(g.class_name===a)return b=g,!0});return b};Form.prototype.setFormGATracked=function(){this.ga_tracked=!0};Form.prototype.getFormGATracked=function(){return this.ga_tracked};
function FormField(a){"undefined"!==typeof a&&(this.label=this.required=this.field_id=this.id=null,this.supportsCookies=!1,this._providesValue=!0,this.class_name="FormField",this.$container=this.containerId=null,"string"===typeof a?this.parse(a):this.parseJSON(a))}FormField.prototype.generateContainerId=function(){if(null!==this.containerId)return this.containerId;"undefined"===typeof FormField.containerId&&(FormField.containerId=0);FormField.containerId++;return this.containerId="container_"+FormField.containerId};
FormField.prototype.getContainer=function(){null===this.$container&&(this.$container=$("#"+this.containerId));return this.$container};FormField.prototype.getClassName=function(){return this.class_name};FormField.prototype.getId=function(){return this.id};FormField.prototype.getFieldId=function(){return this.field_id};FormField.prototype.getLabel=function(){return this.label};FormField.prototype.getValue=function(){return this.getTextValue()};
FormField.prototype.getTextValue=function(){var a=this.getContainer().find(":input").val();return a=a.replace(/%0A/g,"\n")};FormField.prototype.isRequired=function(){return this.required};FormField.prototype.isProvided=function(){return!1};FormField.prototype.isValid=function(){return!1===this.isRequired()||!0===this.isProvided()?!0:!1};FormField.prototype.markAsInvalid=function(){this.getContainer().removeClass("valid").addClass("invalid")};FormField.prototype.markAsValid=function(){this.getContainer().removeClass("invalid").addClass("valid")};
FormField.prototype.removeValidationMark=function(){this.getContainer().removeClass("invalid").removeClass("valid")};FormField.prototype.providesValue=function(){return this._providesValue};FormField.prototype.parse=function(a){var b;if(b=a.match(/ id="(.*?)"/))this.id=b[1];if(b=a.match(/field_id="(.*?)"/))this.field_id=b[1];if(b=a.match(/required="(.*?)"/))this.required=Boolean(parseInt(b[1],10));if(a=a.match(/<strong>(.*?)<\/strong>/))this.label=a[1]};
FormField.prototype.parseJSON=function(a){this.id=this.generateContainerId()+"_"+a.order;this.field_id=a.id;this.required=Boolean(a.required);this.label=a.label};FormField.prototype.setCookie=function(){if(!0!==this.supportsCookies)return!1;this.isProvided()?$.cookie(this.getCookieName(),this.getValue(),{expires:365}):$.cookie(this.getCookieName(),null)};
FormField.prototype.getCookieName=function(){return this.getFieldId()?"LiveChat_"+this.getFieldId():"LiveChat_offlineform_"+App.SKILL+"_"+App.LANG+"_"+this.getId()};FormField.prototype.getCookieValue=function(){return $.cookie(this.getCookieName())};FormField.prototype.unescapeText=function(a){return a.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")};FormFieldSubmit.prototype=new FormField;FormFieldSubmit.prototype.constructor=FormFieldSubmit;
window.FormFieldSubmit=FormFieldSubmit;function FormFieldSubmit(a){FormField.prototype.constructor.call(this,"");this.form=a.form;this._providesValue=!1;this.class_name="FormFieldSubmit"}
FormFieldSubmit.prototype.getHtml=function(){var a,b=!1;switch(this.form.getClassName()){case "OfflineForm":if(!1===this.form.hasInputFields())return"";a="Offline_form_submit_label";break;case "PrechatSurvey":!1===this.form.hasInputFields()&&(b=!0);a="Prechat_submit_label";break;case "PostchatSurvey":!0===this.form.hasInputFields()?a="Submit":(a="Embedded_read_chat_transcript",b=!0)}return'<div id="'+this.generateContainerId()+'" class="submit"><p'+(b?' class="center"':"")+'><input type="submit" value="'+
__tran(a)+'"></p></div>'};FormFieldSubmit.prototype.markAsValid=function(){};FormFieldHeader.prototype=new FormField;FormFieldHeader.prototype.constructor=FormFieldHeader;window.FormFieldHeader=FormFieldHeader;function FormFieldHeader(a){FormField.prototype.constructor.call(this,a);this._providesValue=!1;this.content=a=a.replace(/^<p>/,"").replace(/<\/p>$/,"");this.class_name="FormFieldHeader"}
FormFieldHeader.prototype.getHtml=function(){var a=$('<div><div class="form_header"><p></p></div></div>'),b=a.find("p");a.find("div").attr("id",this.generateContainerId());b.text(this.unescapeText(this.content));b.html(App.parseLinks(b.html().replace(/&lt;br \/&gt;/g,"<br>").replace(/\n/g,"<br>")));return a.html()};FormFieldFacebookConnect.prototype=new FormField;FormFieldFacebookConnect.prototype.constructor=FormFieldFacebookConnect;window.FormFieldFacebookConnect=FormFieldFacebookConnect;
function FormFieldFacebookConnect(a){FormField.prototype.constructor.call(this,a);this._providesValue=!1;this.class_name="FormFieldFacebookConnect"}
FormFieldFacebookConnect.prototype.getHtml=function(){var a,b;b=$('<div class="form-facebook" />');b.attr("id",this.generateContainerId());b.append("<p />");a=$('<div id="facebook-connect"><fb:login-button scope="email" size="large"></fb:login-button></div>').find("fb\\:login-button").text(this.unescapeText(this.label));b.find("p").append(a).append('<p class="fb-connect-or" />');a=b.find(".fb-connect-or");a.append("<span />");a.find("span").text(this.unescapeText(__tran("Button_link_or")));return b};
FormFieldText.prototype=new FormField;FormFieldText.prototype.constructor=FormFieldText;window.FormFieldText=FormFieldText;function FormFieldText(a){"undefined"!==typeof a&&(FormField.prototype.constructor.call(this,a),this.supportsCookies=!0,this.class_name="FormFieldText")}
FormFieldText.prototype.getHtml=function(a){var b,c;c=$("<div />");c.attr("id",this.generateContainerId());c.attr("field-id",this.field_id);c.append("<p />");b=c.find("p");b.append('<label for="'+this.id+'"></label>');b.append('<input type="text" name="'+this.id+'" id="'+this.id+'" class="text">');b.find("label").text(this.unescapeText(this.label));!0===this.required&&c.find("label").append(' <span class="asterisk">*</span>');!0===a.readFromCookie&&(a=this.getCookieValue())&&b.find("input").val(a);
return c};FormFieldText.prototype.isProvided=function(){var a;a=this.getContainer().find("input").val();a=$.trim(a);return 0<a.length};FormFieldTextarea.prototype=new FormField;FormFieldTextarea.prototype.constructor=FormFieldTextarea;window.FormFieldTextarea=FormFieldTextarea;function FormFieldTextarea(a){FormField.prototype.constructor.call(this,a);this.class_name="FormFieldTextarea"}
FormFieldTextarea.prototype.getHtml=function(){var a,b;b=$("<div />");b.attr("id",this.generateContainerId());b.attr("field-id",this.field_id);b.append("<p />");a=b.find("p");a.append('<label for="'+this.id+'"></label>');a.append('<textarea name="'+this.id+'" id="'+this.id+'"></textarea>');a.find("label").text(this.unescapeText(this.label));!0===this.required&&b.find("label").append(' <span class="asterisk">*</span>');return b};
FormFieldTextarea.prototype.isProvided=function(){var a;a=this.getContainer().find("textarea").val();a=$.trim(a);return 0<a.length};FormFieldName.prototype=new FormFieldText;FormFieldName.prototype.constructor=FormFieldName;window.FormFieldName=FormFieldName;function FormFieldName(a){FormFieldText.prototype.constructor.call(this,a);this.class_name="FormFieldName"}FormFieldName.prototype.parseJSON=function(a){FormFieldText.prototype.parseJSON.call(this,a);this.id="name"};FormFieldEmail.prototype=new FormFieldText;
FormFieldEmail.prototype.constructor=FormFieldEmail;window.FormFieldEmail=FormFieldEmail;function FormFieldEmail(a){FormFieldText.prototype.constructor.call(this,a);this.supportsCookies=!0;this.class_name="FormFieldEmail"}FormFieldEmail.prototype.parseJSON=function(a){FormFieldText.prototype.parseJSON.call(this,a);this.id="email"};FormFieldEmail.prototype.isValid=function(){var a;a=new EmailValidator;return!1===this.isRequired()&&!1===this.isProvided()?!0:a.validate(this.getValue())};
FormFieldQuestion.prototype=new FormFieldText;FormFieldQuestion.prototype.constructor=FormFieldQuestion;window.FormFieldQuestion=FormFieldQuestion;function FormFieldQuestion(a){FormFieldText.prototype.constructor.call(this,a);this.supportsCookies=!0;this.class_name="FormFieldQuestion"}FormFieldRadio.prototype=new FormField;FormFieldRadio.prototype.constructor=FormFieldRadio;window.FormFieldRadio=FormFieldRadio;
function FormFieldRadio(a){this.radios=[];FormField.prototype.constructor.call(this,a);this.class_name="FormFieldRadio"}FormFieldRadio.prototype.parse=function(a){var b,c;FormField.prototype.parse.call(this,a);for(this.id=a.match(/label class="(.*?)"/)[1];-1!==a.search(/ id="/);)b=a.match(/ id="(.*?)"/),c=a.match(/<label for=".*?">(.*?)<\/label>/),a=a.replace(/<input (.*?)<br>/,""),this.addRadio({id:b[1],value:c[1]})};
FormFieldRadio.prototype.parseJSON=function(a){var b=this;FormField.prototype.parseJSON.call(this,a);a.answers=a.options||[];$.each(a.answers,function(a,e){b.addRadio({id:b.getId()+"_"+a,value:e})})};FormFieldRadio.prototype.addRadio=function(a){this.radios.push(a)};FormFieldRadio.prototype.getRadios=function(){return this.radios};
FormFieldRadio.prototype.getHtml=function(){var a=this,b,c,e;e=$("<div />");e.attr("field-id",this.field_id);e.attr("id",this.generateContainerId());e.append("<p />");c=e.find("p");c.append("<label></label>");c.find("label:last").text(this.unescapeText(this.label));b=this.getRadios();$(b).each(function(b,e){var n;c.append('<span class="group" />');n=c.find(".group:last");n.append('<input type="radio" class="radio" name="'+a.id+'" />');n.find("input:last").attr("id",e.id).attr("value",e.value).after('<label for="'+
e.id+'" />');n.find("label:last").text(a.unescapeText(e.value))});!0===this.required&&e.find("label:first").append(' <span class="asterisk">*</span>');return e};FormFieldRadio.prototype.isProvided=function(){return 0<this.getContainer().find("input:checked").length};FormFieldRadio.prototype._getSelectedRadio=function(){var a,b,c;c=null;a=this.getRadios();$(a).each(function(a,g){b=$("#"+g.id);!0===b.is(":checked")&&(c=g)});return c};
FormFieldRadio.prototype.getValue=function(){var a;a=this._getSelectedRadio();if(!a)return null;a=a.id.match(/(\d+)$/);return parseInt(a[1],10)};FormFieldRadio.prototype.getTextValue=function(){var a;a=this._getSelectedRadio();return!a?"":a.value};FormFieldCheckbox.prototype=new FormField;FormFieldCheckbox.prototype.constructor=FormFieldCheckbox;window.FormFieldCheckbox=FormFieldCheckbox;
function FormFieldCheckbox(a){this.checkboxes=[];FormField.prototype.constructor.call(this,a);this.class_name="FormFieldCheckbox"}FormFieldCheckbox.prototype.parse=function(a){var b,c;FormField.prototype.parse.call(this,a);for(this.id=a.match(/label class="(.*?)"/)[1];-1!==a.search(/ id="/);)b=a.match(/ id="(.*?)"/),c=a.match(/<label for=".*?">(.*?)<\/label>/),a=a.replace(/<input (.*?)<br>/,""),this.addCheckbox({id:b[1],value:c[1]})};
FormFieldCheckbox.prototype.parseJSON=function(a){var b=this;FormField.prototype.parseJSON.call(this,a);a.answers=a.options||[];$.each(a.answers,function(a,e){b.addCheckbox({id:b.getId()+"_"+a,value:e})})};FormFieldCheckbox.prototype.addCheckbox=function(a){this.checkboxes.push(a)};FormFieldCheckbox.prototype.getCheckboxes=function(){return this.checkboxes};
FormFieldCheckbox.prototype.getHtml=function(){var a=this,b,c,e;e=$("<div />");e.attr("field-id",this.field_id);e.attr("id",this.generateContainerId());e.append("<p />");c=e.find("p");c.append("<label></label>");c.find("label:last").text(this.unescapeText(this.label));b=this.getCheckboxes();$(b).each(function(b,e){var n;c.append('<span class="group" />');n=c.find(".group:last");n.append('<input type="checkbox" class="checkbox" />');n.find("input:last").attr("name",a.id).attr("id",e.id).after('<label for="'+
e.id+'" />');n.find("label:last").text(a.unescapeText(e.value))});!0===this.required&&e.find("label:first").append(' <span class="asterisk">*</span>');return e};FormFieldCheckbox.prototype.isProvided=function(){return 0<this.getContainer().find("input:checked").length};FormFieldCheckbox.prototype._getSelectedCheckboxes=function(){var a,b,c;c=[];a=this.getCheckboxes();$(a).each(function(a,g){b=$("#"+g.id);!0===b.is(":checked")&&c.push(g)});return c};
FormFieldCheckbox.prototype.getValue=function(){var a,b,c;c=[];a=this._getSelectedCheckboxes();if(0==a.length)return null;$(a).each(function(a,g){var j;b=g.id.match(/(\d+)$/);j=parseInt(b[1],10);c.push(j)});return c};FormFieldCheckbox.prototype.getTextValue=function(){var a,b;b=[];a=this._getSelectedCheckboxes();if(0==a.length)return"";$(a).each(function(a,e){b.push(e.value)});return b.join(", ")};FormFieldCheckboxForEmail.prototype=new FormFieldCheckbox;
FormFieldCheckboxForEmail.prototype.constructor=FormFieldCheckboxForEmail;window.FormFieldCheckboxForEmail=FormFieldCheckboxForEmail;function FormFieldCheckboxForEmail(a){this.checkboxes=[];FormFieldCheckbox.prototype.constructor.call(this,a);this.class_name="FormFieldCheckboxForEmail"}FormFieldCheckboxForEmail.prototype.getHtml=function(){var a;a=FormFieldCheckbox.prototype.getHtml.call(this);a.find("input").attr("checked","checked");a.addClass("sticked_to_field");return a};
FormFieldSkill.prototype=new FormField;FormFieldSkill.prototype.constructor=FormFieldSkill;window.FormFieldSkill=FormFieldSkill;function FormFieldSkill(a){this.skills=[];FormField.prototype.constructor.call(this,a);this.required=!0;this.class_name="FormFieldSkill"}
FormFieldSkill.prototype.parse=function(a){var b,c,e;FormField.prototype.parse.call(this,a);for(b=0;-1!==a.search(/<option /);)c=a.match(/ value="(\d+)"/),e=a.match(/<option value="\d+">(.*?)<\/option>/),a=a.replace(/<option(.*?)<\/option>/,""),this.addSkill({index:b,id:c[1],description:e[1]}),b++};FormFieldSkill.prototype.parseJSON=function(a){var b=this;FormField.prototype.parseJSON.call(this,a);$.each(a.skills,function(a,e){b.addSkill({index:a,id:e.skill_id,description:e.label})})};
FormFieldSkill.prototype.addSkill=function(a){this.skills.push(a)};FormFieldSkill.prototype.getSkills=function(){return this.skills};
FormFieldSkill.prototype.getHtml=function(){var a=this,b,c,e;e=$("<div />");e.attr("id",this.generateContainerId());e.attr("field-id",this.field_id);e.append("<p />");b=e.find("p");b.append("<label></label>");b.find("label:last").text(this.unescapeText(this.label));b.append('<select id="skill" name="'+this.id+'" />');c=b.find("select:last");__tran("forms_choose")&&c.append('<option value="">'+__tran("forms_choose")+"</option>");b=this.getSkills();$(b).each(function(b,e){c.append('<option value="'+
e.id+'" />');c.find("option:last").text(a.unescapeText(e.description))});!0===this.required&&(e.addClass("required"),e.find("label:first").append(' <span class="asterisk">*</span>'));return e};FormFieldSkill.prototype.isProvided=function(){return 0<this.getContainer().find('option[value!=""]:selected').length};
FormFieldSkill.prototype._getSelectedSkill=function(){var a,b,c;c=null;a=this.getSkills();$(a).each(function(a,g){b=$('#skill option[value!=""]:eq('+g.index+")");!0===b.is(":selected")&&(c=g)});return c};FormFieldSkill.prototype.getValue=function(){var a;a=this._getSelectedSkill();return!a?null:a.index};OfflineForm.prototype=new Form;OfflineForm.prototype.constructor=OfflineForm;
function OfflineForm(){this.offlineMessage=null;this.class_name="OfflineForm";this.view_class="offline-form";this.is_loaded=!1;this.readFieldsFromCookie=!0}OfflineForm.prototype.isLoaded=function(){return this.is_loaded};OfflineForm.prototype.markAsLoaded=function(){this.is_loaded=!0};
OfflineForm.prototype.load=function(a){var b=this,a=$.extend({force_reload:!1},a);App.setState(App.STATE_OFFLINE);if(!1===App.popout.isPopOut()&&!1===App.popout.isInIframe()&&App.getWindowMode()!==App.WINDOW_MAXIMIZED)return App.startCheckingForStateChange(),!1;this.trackGoogleAnalytics();App.observers.register("window_maximize",function(){b.trackGoogleAnalytics()});!0===a.force_reload||!1===this.isLoaded()?(App.showLoadingIndicator(),App.request.send(["IWCS0122C",App.LICENSE,"offline",App.SKILL])):
this.displayView()};OfflineForm.prototype.displayJSON=function(a){if(!0===this.isLoaded())return this.displayView(),!0;this.markAsLoaded();this.parseJSON(a);App.hideTextarea();App.hideOperatorsBar();this.displayView()};OfflineForm.prototype.displayView=function(){var a=this.getContent();App.displayView("offline-form",a);this.init();App.sendInfoToParent({state:App.STATE_OFFLINE});App.setState(App.STATE_OFFLINE,App.STATE_DONT_NOTIFY_PARENT);App.startCheckingForStateChange()};
OfflineForm.prototype.submit=function(){if(!0!==Form.prototype.submit.call(this))return!1;this.setOfflineMessage();this.send()};
OfflineForm.prototype.setOfflineMessage=function(){var a=this,b=this.getFields(),c="";this.offlineMessage="";$(b).each(function(b,c){var j,n;if(!1===c.providesValue())return!0;j="";n=c.getTextValue();n=encodeURIComponent(n);"FormFieldName"===c.getClassName()?App.client.setName(c.getTextValue()):"FormFieldEmail"===c.getClassName()&&App.client.setEmail(c.getTextValue());"FormFieldTextarea"===c.getClassName()?(0<a.offlineMessage.length&&(j="\n"+j),j+=c.getLabel()+"\n"+n,j+="\n"):j+=c.getLabel()+" "+
n;a.offlineMessage+=j+"\n"});c=App.chat.getCustomVariables();null!==c&&$.each(c,function(b,c){a.offlineMessage+=encodeURIComponent(b)+": "+encodeURIComponent(c)+"\n"})};OfflineForm.prototype.getOfflineMessage=function(){var a=this.offlineMessage;return a=a.replace(/\n/g,encodeURIComponent("\r\n"))};
OfflineForm.prototype.send=function(){var a,b;a=document.location.hash.replace(/^#/,"");""===a&&(a=document.location.toString());try{a=b=decodeURIComponent(a)}catch(c){}b=a.match(/\:\/\/([^\/]*)/)[1];App.request.send(["IWCS0043C",App.LICENSE,"$",App.client.getName(),App.client.getEmail()||"noreply@livechatinc.com",this.getOfflineMessage(),App.SKILL,a,b,"$",App.SESSION_ID],{force_post:!0})};
OfflineForm.prototype.trackGoogleAnalytics=function(){App.getState()===App.STATE_OFFLINE&&!0===App.windowsCommunicator.isMainWindow()&&App.getWindowMode()!==App.WINDOW_MINIMIZED&&!0!==this.getFormGATracked()&&(App.ga.trackPageView("After-hours form"),this.setFormGATracked())};QueuedForm.prototype=new Form;QueuedForm.prototype.constructor=QueuedForm;
function QueuedForm(){this.queuedMessage=null;this.class_name="QueuedForm";this.view_class="queued-form";this.is_loaded=!1;this.rawHeader=this.waitingTime=this.numberInQueue=null}QueuedForm.prototype.isLoaded=function(){return this.is_loaded};QueuedForm.prototype.markAsLoaded=function(){this.is_loaded=!0};
QueuedForm.prototype.load=function(a){a=$.extend({force_reload:!1},a);App.setState(App.STATE_QUEUE);App.chat.setMode(App.CHAT_MODE_QUEUE);App.hideTextarea();App.hideOperatorsBar();!0===a.force_reload||!1===this.isLoaded()?(App.showLoadingIndicator(),App.request.send(["IWCS0122C",App.LICENSE,"queued",App.SKILL])):this.displayView()};QueuedForm.prototype.setQueueData=function(a,b){this.numberInQueue=a;this.waitingTime=b};
QueuedForm.prototype.updateQueueHeader=function(){var a=$.extend({},this.rawHeader);this.removeFields("FormFieldHeader");a.content=a.content.replace("%number%",this.numberInQueue).replace("%minutes%",this.waitingTime);this.addField(a)};
QueuedForm.prototype.displayJSON=function(a){if("undefined"===typeof a&&!1===this.isLoaded())return!1;if(!0===this.isLoaded())null!==this.rawHeader&&this.updateQueueHeader();else{this.markAsLoaded();this.parseJSON(a);if(null!==(a=this.getFieldByClassName("FormFieldHeader")))this.rawHeader=a,this.updateQueueHeader();App.hideTextarea();App.hideOperatorsBar()}this.displayView();return!0};
QueuedForm.prototype.displayView=function(){var a=this.getContent();App.displayView("queued-form",a);this.init();App.sendInfoToParent({state:App.STATE_QUEUE});App.setState(App.STATE_QUEUE,App.STATE_DONT_NOTIFY_PARENT)};ChatSurvey.prototype=new Form;ChatSurvey.prototype.constructor=ChatSurvey;window.ChatSurvey=ChatSurvey;function ChatSurvey(){Form.prototype.constructor.call(this);this.properties={};this.fields_pairs=null;this.class_name="ChatSurvey";this.is_loaded=!1}
ChatSurvey.prototype.isLoaded=function(){return this.is_loaded};ChatSurvey.prototype.markAsLoaded=function(){this.is_loaded=!0};ChatSurvey.prototype.load=function(){var a=this,b;if(!1===this.isLoaded()){App.observers.register("window_maximize",function(){a.trackGoogleAnalytics()});b=this.getClassName();if("PrechatSurvey"==b)b="0";else if("PostchatSurvey"==b)b="1";else return App.alert("No such survey type: "+b),!1;App.request.send(["IWCS0121C",b,App.LICENSE,"$",App.SKILL])}else this.displayJSON()};
ChatSurvey.prototype.displayJSON=function(a){if(!0===this.isLoaded())return this.displayView(),!0;this.markAsLoaded();this.trackGoogleAnalytics();null!=a.id&&(this.properties.id=a.id);this.parseJSON(a.fields);this.displayView()};
ChatSurvey.prototype.displayView=function(){var a,b,c;this.getContent();c=this.getClassName();"PrechatSurvey"==c?b="prechat-survey":"PostchatSurvey"==c&&(b="postchat-survey");a=this.getContent();"PrechatSurvey"==c&&!0===this.hasFacebookConnect?(App.showLoadingIndicator(),App.renderView(b,a)):(App.displayView(b,a),App.focus());this.init();this.trackGoogleAnalytics()};ChatSurvey.prototype.submit=function(){return!0!==Form.prototype.submit.call(this)?!1:!0};
ChatSurvey.prototype.getFieldsPairs=function(){null===this.fields_pairs&&this._setFieldsPairs();return this.fields_pairs};ChatSurvey.prototype._setFieldsPairs=function(){var a,b;b=[];a=this.getFields();$(a).each(function(a,e){var g;if(!1===e.providesValue())return!0;g=e.getValue();if(null===g)return!0;"object"!==typeof g&&(g=[g]);$(g).each(function(a,c){b.push(encodeURIComponent(e.getFieldId())+"="+encodeURIComponent(c))})});this.fields_pairs=b.join("&")+"&"};
ChatSurvey.prototype.trackGoogleAnalytics=function(){var a;if(!0===App.windowsCommunicator.isMainWindow()&&App.getWindowMode()!==App.WINDOW_MINIMIZED&&!0!==this.getFormGATracked()){a=this.getClassName();if("PrechatSurvey"==a){if(App.getState()!==App.STATE_PRE_CHAT)return!1;ga_page="Pre-chat survey"}else if("PostchatSurvey"==a){if(App.getState()!==App.STATE_POST_CHAT)return!1;ga_page="Post-chat survey"}App.ga.trackPageView(ga_page);this.setFormGATracked()}};PrechatSurvey.prototype=new ChatSurvey;
PrechatSurvey.prototype.constructor=PrechatSurvey;window.PrechatSurvey=PrechatSurvey;function PrechatSurvey(){ChatSurvey.prototype.constructor.call(this);this.labels=null;this.displayViewEventsBound=this.facebookConnectLoaded=this.hasFacebookConnect=this.startOnMaximize=this.formSubmitted=!1;this.class_name="PrechatSurvey";this.view_class="prechat-survey";this.readFieldsFromCookie=!0}
PrechatSurvey.prototype.getDestinationSkill=function(a){var b,a=$.extend({using_facebook_connect:!1},a);b=App.SKILL;if(!0===a.using_facebook_connect)return b;a=this.getFields();$(a).each(function(a,e){if("FormFieldSkill"!==e.getClassName())return!0;b=e.getTextValue()});return parseInt(b,10)};
PrechatSurvey.prototype.load=function(a){a=$.extend({start_chat_when_disabled:!0,notify_parent_fb:App.STATE_DONT_NOTIFY_PARENT},a);if(App.getState()===App.STATE_INVITATION_WITH_AGENT)return App.startCheckingForStateChange(),!1;App.showLoadingIndicator();App.setState(App.STATE_PRE_CHAT);if(!1===App.popout.isPopOut()&&!1===App.popout.isInIframe()&&App.getWindowMode()!==App.WINDOW_MAXIMIZED)return App.startCheckingForStateChange(),!1;!1===this.isEnabled()&&!0===a.start_chat_when_disabled?this.startChat():
ChatSurvey.prototype.load.call(this)};PrechatSurvey.prototype.isEnabled=function(){return this.properties.enabled};
PrechatSurvey.prototype.displayJSON=function(a){a=a||{};enabled=a.enabled;urlNameParam=$.getUrlParam("name");urlEmailParam=$.getUrlParam("email");if(!0===App.chat.getStarted()||!0===App.chat.getStartedByOperator())return!1;1===parseInt($.getUrlParam("autologin"),10)&&(null!==urlNameParam?App.client.setName(urlNameParam):App.client.setName(__tran("Client")),null!==urlEmailParam&&App.client.setEmail(urlEmailParam),enabled=!1);if(!1===enabled){this.markAsLoaded();this.properties.enabled=!1;App.sendInfoToParent();
if(!1===App.popout.isInIframe()&&App.getWindowMode()===App.WINDOW_MINIMIZED)return!1;this.startChat();return!0}App.setState(App.STATE_PRE_CHAT,App.STATE_DONT_NOTIFY_PARENT);ChatSurvey.prototype.displayJSON.call(this,a)};PrechatSurvey.prototype.displayView=function(){ChatSurvey.prototype.displayView.call(this);!0!==this.displayViewEventsBound&&(this.displayViewEventsBound=!0,this.preloadSkillStatuses())};
PrechatSurvey.prototype.startChat=function(){var a;a=$.getUrlParam("name");null!==a&&App.client.setName(a);a=$.getUrlParam("email");null!==a&&App.client.setEmail(a);App.startChat()};PrechatSurvey.prototype.init=function(){App.setTitle(__tran("Welcome_title"));if(!1===ChatSurvey.prototype.init.call(this))return!0;App.sendInfoToParent();App.startCheckingForStateChange()};
PrechatSurvey.prototype.submit=function(a){if(!ChatSurvey.prototype.submit.call(this,a))return!1;this.formSubmitted=!0;this.rememberVisitorDetails();(a=this.getDestinationSkill())?this.checkSkillAvailability(a):App.startChat({loading_indicator:!1})};PrechatSurvey.prototype.rememberVisitorDetails=function(){var a;a=$("#name");0<a.length&&(a=a.val(),a=$.trim(a),0<a.length&&App.client.setName(a));App.client.getEmail()||App.client.setEmail($("#email").val())};
PrechatSurvey.prototype.getLabels=function(){null===this.labels&&this._setLabels();return this.labels};PrechatSurvey.prototype._setLabels=function(){var a,b;b={};a=this.getFields();$(a).each(function(a,e){var g;if(!1===e.providesValue())return!0;g=e.getId();b[g]=e.getValue()});this.labels=$.param(b)};PrechatSurvey.prototype.preloadSkillStatuses=function(){$('#skill option[value!=""]').each(function(){var a=$(this).val();App.request.send(["IWCS0099C",App.LICENSE,a])})};
PrechatSurvey.prototype.checkSkillAvailability=function(a){App.request.send(["IWCS0099C",App.LICENSE,a])};PrechatSurvey.prototype.skillAvailability=function(a,b){if(!1===this.formSubmitted)return this.displaySkillsStatus(a,b),!0;"online"===b?App.startChat({loading_indicator:!1}):(App.SKILL=a,App.offlineForm.load({force_reload:!0}))};
PrechatSurvey.prototype.displaySkillsStatus=function(a,b){$("#skill option[value="+a+"]").each(function(){if(!0===$(this).data("loaded"))return!0;"online"===b?$(this).data("loaded",!0).addClass("online").append(" ("+__tran("Skill_status_online")+")"):$(this).data("loaded",!0).addClass("offline").append(" ("+__tran("Skill_status_offline")+")")})};
PrechatSurvey.prototype.connectToFacebookApi=function(){var a=this,b;App.getWindowMode()!==App.WINDOW_MAXIMIZED&&App.sendInfoToParent();b=function(){a.removeFields("FormFieldFacebookConnect");a.hasFacebookConnect=!1;a.displayView()};require.onError=function(){b()};setTimeout(function(){!0!==a.facebookConnectLoaded&&b()},5E3);require([App.PROTOCOL+"connect.facebook.net/en_US/all.js"],function(){FB.Event.subscribe("auth.login",a.logInToFacebook);appId=/\.net$/.test(document.domain)?"254953707848342":
"128450527232960";$("body").append("\t\t<script>\t\t\t"+("https://"===App.PROTOCOL?"FB._https = true;":"")+'\t\t\tFB.init({\t\t\t\tappId: "'+appId+'",\t\t\t\tcookie: true,\t\t\t\tstatus: true,\t\t\t\txfbml: false,\t\t\t\toauth: true\t\t\t});\t\t<\/script>');FB.getLoginStatus(function(b){a.logInToFacebook(b)})})};
PrechatSurvey.prototype.logInToFacebook=function(a){this.facebookConnectLoaded=!0;var b=function(a){if(App.getState()===App.STATE_INVITATION)return!1;if(!a.authResponse)return!0===App.chat.getStartedByOperator()?App.startChat():(FB.Event.subscribe("xfbml.render",App.prechatSurvey.showPrechatSurvey),FB.XFBML.parse()),App.sendInfoToParent(),!1;FB.api("/me",function(a){if("undefined"!==typeof a.error)return!0===App.chat.getStartedByOperator()&&App.startChat(),App.sendInfoToParent(),!1;App.client.setName(a.name);
App.client.setEmail(a.email);var b={},c="id,name,first_name,middle_name,last_name,gender,locale,link,username,email".split(","),n;for(n in c)a[c[n]]&&(b["facebook."+c[n]]=a[c[n]]);"undefined"===typeof b["facebook.username"]&&(b["facebook.username"]=b["facebook.id"]);b=$.param(b);b=b.replace(/\+/g,"%20");App.setIntegrationVariables(b);App.sendInfoToParent();!1===App.popout.isInIframe()&&App.getWindowMode()===App.WINDOW_MINIMIZED?App.prechatSurvey.startOnMaximize=!0:App.startChat({using_facebook_connect:!0})})};
"undefined"!==typeof a?b(a):FB.getLoginStatus(b)};PrechatSurvey.prototype.showPrechatSurvey=function(){setTimeout(function(){App.showView("prechat-survey");App.focus()},0)};PostchatSurvey.prototype=new ChatSurvey;PostchatSurvey.prototype.constructor=PostchatSurvey;window.PostchatSurvey=PostchatSurvey;
function PostchatSurvey(){ChatSurvey.prototype.constructor.call(this);this.class_name="PostchatSurvey";this.view_class="postchat-survey";this.who_closed_chat=App.CLIENT;this.display_start_again_link=!1;this.chat_closed_manually=null}PostchatSurvey.prototype.load=function(a){a=$.extend({whoClosed:App.CLIENT,displayStartAgainLink:!1,closedManually:!1},a);this.who_closed_chat=a.whoClosed;this.display_start_again_link=a.displayStartAgainLink;this.chat_closed_manually=a.closedManually;ChatSurvey.prototype.load.call(this)};
PostchatSurvey.prototype.displayJSON=function(a){a=a||{};if(!1===a.enabled){if(this.markAsLoaded(),this.properties.enabled=!1,App.setState(App.STATE_CHAT_ENDED),App.showView("chat"),App.updateBodyHeight(),App.showOperatorsBar(),App.updateScroll(),this.init(),this.chat_closed_manually){if(App.getWindowMode()!==App.WINDOW_MAXIMIZED)return!0;App.minimizeWindow()}}else App.hideTextarea(),App.hideOperatorsBar(),App.setState(App.STATE_POST_CHAT),ChatSurvey.prototype.displayJSON.call(this,a),App.updateBodyHeight()};
PostchatSurvey.prototype.init=function(){var a;if(!1===ChatSurvey.prototype.init.call(this))return!0;a=this.who_closed_chat===App.CLIENT?__tran("Chat_session_closed"):__tran("Operator_closed_session",{operator:App.getOperator().getDisplayName()});App.displayNewMessage({message:a});!0===this.display_start_again_link&&App.displayStartAgainLink()};
PostchatSurvey.prototype.submit=function(a){a=ChatSurvey.prototype.submit.call(this,a);if(!a)return!1;a=App.request.send(["IWCS0082C",App.SESSION_ID,App.chat.getConferenceID(),this.getFieldsPairs(),this.properties.id]);if(!1===a)return!1;App.setState(App.STATE_CHAT_ENDED);App.displayChatView();App.updateScroll()};function Invitation(){this.message=null}
Invitation.prototype.isAllowed=function(){return null!==App.getState()&&App.getState()!==App.STATE_PRE_CHAT&&App.getState()!==App.STATE_CHAT_ENDED?!1:!0};
Invitation.prototype.getHTMLContent=function(){var a=__tran("Embedded_invitation_accept");App.LC2&&(a=a.toLowerCase());return a=""+['<table><tr><td>\n<form>\n<div id="invitation">','<p id="invitation-message">'+this.message+"</p>",'<p id="invitation-buttons"><span class="btn"><a href="#" id="accept-chat">'+a+'</a></span><span class="cancel">'+__tran("Button_link_or")+' <a href="#" id="cancel-chat">'+__tran("Embedded_invitation_refuse")+"</a></span></p>","</div>\n</form>\n</td></tr></table>"].join("\n")};
Invitation.prototype.bindButtons=function(){$("#accept-chat").click(function(){if(App.chat.getStarted())return App.reloadWindow(),!1;App.showLoadingIndicator();App.getPreviousState()===App.STATE_OFFLINE?App.offlineForm.load():App.prechatSurvey.load();return!1});$("#cancel-chat").click(function(){App.refuseInvitation();return!1})};
Invitation.prototype.display=function(a){App.setState(App.STATE_INVITATION);this.message=a;$("#view-invitation").html(this.getHTMLContent());this.bindButtons();App.hideOperatorsBar();App.showView("invitation")};
Invitation.prototype.displayWithAgent=function(a,b){var c;App.setState(App.STATE_INVITATION_WITH_AGENT);App.addOperator({id:b.login,display_name:b.name,job_title:b.job_title,avatar_url:b.avatar_url});App.updateOperatorsInfoBar();App.showTextarea();a=App.parseIncomingMessage(a);App.displayNewMessage({message:a,who:App.OPERATOR,operator_id:b.login,timestamp:Math.round(+new Date/1E3)});if(c=App.chat.getVisitorsFirstMessage(App.TRIGGER_UNIQUE_ID))App.displayNewMessage({who:App.CLIENT,message:c.message}),
App.startPing(),App.disableTextarea();App.displayChatView();App.$message.focus()};function Integration(){this.enabled=null}Integration.prototype.setEnabled=function(a){this.enabled=a};Integration.prototype.isEnabled=function(){return!0===this.enabled};RateMe.prototype=new Integration;RateMe.prototype.constructor=RateMe;RateMe.prototype.NOT_RATED=0;RateMe.prototype.RATED_BAD=1;RateMe.prototype.RATED_GOOD=2;RateMe.prototype.OMIT_MESSAGE=!0;function RateMe(){this.latestVote=null}
RateMe.prototype.setLatestVote=function(a){this.latestVote=a};RateMe.prototype.getLatestVote=function(){return this.latestVote};
RateMe.prototype.getHtml=function(){var a,b;a=__tran("Rate_me_good_tooltip").replace(/"/g,"&quot;");b='<a class="rating-button rate-bad" title="'+__tran("Rate_me_bad_tooltip").replace(/"/g,"&quot;")+'"><span class="s-common-thumb-down"></span></a>';a='<a class="rating-button rate-good" href="#" title="'+a+'"><span class="rate-good"><span class="s-common-thumb-up"></span>'+__tran("Rate_me_good")+"</span></a>";return'<div id="rating">'+b+a+"</div>"};
RateMe.prototype.bind=function(){var a=this;App.tooltip.set($("#rating a"));App.$operatorsBar.find(".rate-good").click(function(){a.vote("good");return!1});App.$operatorsBar.find(".rate-bad").click(function(){a.vote("bad");return!1})};
RateMe.prototype.displayRate=function(a,b){var c,e=App.$operatorsBar.find(".rate-good"),g=App.$operatorsBar.find(".rate-bad");c={};c[this.NOT_RATED]=__tran("Rate_me_cancel");c[this.RATED_GOOD]=__tran("Rate_me_confirmation_good");c[this.RATED_BAD]=__tran("Rate_me_confirmation_bad");a=parseInt(a,10);switch(a){case this.NOT_RATED:e.removeClass("rated-good");g.removeClass("rated-bad");e.attr("title",__tran("Rate_me_good_tooltip"));g.attr("title",__tran("Rate_me_bad_tooltip"));break;case this.RATED_GOOD:e.addClass("rated-good");
g.removeClass("rated-bad");e.attr("title",__tran("Rate_me_cancel_tooltip"));g.attr("title",__tran("Rate_me_bad_tooltip"));break;case this.RATED_BAD:e.removeClass("rated-good"),g.addClass("rated-bad"),e.attr("title",__tran("Rate_me_good_tooltip")),g.attr("title",__tran("Rate_me_cancel_tooltip"))}("undefined"===b||b!==this.OMIT_MESSAGE)&&App.displayNewMessage({message:c[a],who:App.SYSTEM});this.latestVote=a};
RateMe.prototype.vote=function(a){var b=App.$operatorsBar.find(".rate-good"),c=App.$operatorsBar.find(".rate-bad");"good"===a&&b.hasClass("rated-good")||"bad"===a&&c.hasClass("rated-bad")?(this._sendOperatorRating("none"),this.displayRate(this.NOT_RATED)):"good"===a?(this._sendOperatorRating("good"),this.displayRate(this.RATED_GOOD)):"bad"===a&&(this._sendOperatorRating("bad"),this.displayRate(this.RATED_BAD));!1==="ontouchstart"in window&&$("#message").focus()};
RateMe.prototype._sendOperatorRating=function(a){a={none:this.NOT_RATED,good:this.RATED_GOOD,bad:this.RATED_BAD}[a];App.request.send(["IWCS0113C",App.SESSION_ID,App.chat.getConferenceID(),a])};EmailTranscript.prototype=new Integration;EmailTranscript.prototype.constructor=EmailTranscript;function EmailTranscript(){this.email=null}EmailTranscript.prototype.FADE_OUT=1;EmailTranscript.prototype.HIDE_INSTANTLY=2;
EmailTranscript.prototype.getHtml=function(){var a;return a=""+('<div id="email_transcript"><a href="#" title="'+__tran("Send_transcript_to_email")+'"><span class="icon i-email s-common-email"></span></a></div>')};
EmailTranscript.prototype.getFormHtml=function(){var a="";return a=App.LC2?a+('<div id="email_transcript_form" class="footer operators-bar"><form><input value="" type="text" class="text"> <input type="submit" value="'+__tran("Send")+'"> <span class="cancel"><span class="or">'+__tran("Button_link_or")+'</span> <a href="">'+__tran("Button_link_cancel")+'</a></span></form><div class="top-shadow"></div></div>'):a+('<div id="email_transcript_form" class="footer operators-bar"><form><input value="" type="text" class="text"> <input type="submit" value="'+
__tran("Send")+'"></form><div class="top-shadow"></div></div>')};
EmailTranscript.prototype.bind=function(){var a=this,b=App.$operatorsBar.find("#email_transcript"),c=App.$operatorsBar.find("#email_transcript_form"),e=c.find("input.text");App.tooltip.set($("#email_transcript a"));e.val(App.client.getEmail());b.find("a").click(function(){$(this).find(".icon").toggleClass("i-email-focused focused");if(c.is(":visible"))return c.hide(),!1;c.data("displayed_manually","1");App.tooltip.hide();c.show();e.focus().select();return!1});c.find("form .cancel a").click(function(){if(c.is(":visible"))return c.hide(),
!1});c.find("form").submit(function(){var b,c;b=new EmailValidator;c=e.val();if(!1===b.validate(c))return App.notification.show({message:__tran("Invalid_email"),fadeOut:!0}),e.focus().select(),!1;if(!1===App.request.send(["IWCS0069C",App.SESSION_ID,c,App.chat.getGUID(),"$",App.chat.getConferenceID()]))return!1;a.displayConfirmation(c,a.FADE_OUT);App.focus();return!1})};EmailTranscript.prototype.setEmail=function(a){this.email=a};EmailTranscript.prototype.getEmail=function(){return this.email};
EmailTranscript.prototype.displayConfirmation=function(a,b){var c,e;c=App.$operatorsBar.find("#email_transcript_form");e=App.$operatorsBar.find("#email_transcript");c.html("");c.append("<span>"+__tran("Chat_transcript_sent",{s:a})+'</span><div class="top-shadow"></div>');e.find(".i-email").removeClass("i-email").addClass("i-email-ok active");b===this.FADE_OUT?(c.data("displayed_manually","0"),setTimeout(function(){"0"==c.data("displayed_manually")&&c.fadeOut()},4E3)):b===this.HIDE_INSTANTLY&&(c.data("displayed_manually",
"1"),c.hide())};Freshbooks.prototype=new Integration;Freshbooks.prototype.constructor=Freshbooks;function Freshbooks(){}
Freshbooks.prototype.show=function(a){var b;b=a.amount||"";var c=a.currency||"",a=a.link||"",e="";switch(c){case "USD":e="$"+b;break;case "EUR":e="\u20ac"+b;break;case "GBP":e="\u00a3"+b;break;default:e=b+" "+c}b='<div class="freshbooks">'+__tran("Freshbooks_invoice_created",{amount:e})+' <div class="buttons"><a href="'+a+'" target="_blank">'+__tran("Freshbooks_click_here")+"</a> "+__tran("Freshbooks_to_download")+"</div>";App.displayNewMessage({message:b,who:App.INTEGRATION})};
Zendesk.prototype=new Integration;Zendesk.prototype.constructor=Zendesk;function Zendesk(){}Zendesk.prototype.show=function(a){a=a.email||"";a='<div class="zendesk">'+__tran("Zendesk_ticket_created")+" "+__tran("Zendesk_ticket_notification",{email:a})+"</div>";App.displayNewMessage({message:a,who:App.INTEGRATION})};Assistly.prototype=new Integration;Assistly.prototype.constructor=Assistly;function Assistly(){}
Assistly.prototype.show=function(a){a=a.email||"";a='<div class="assistly">'+__tran("Assistly_ticket_created")+" "+__tran("Assistly_ticket_notification",{email:a})+"</div>";App.displayNewMessage({message:a,who:App.INTEGRATION})};JoinMe.prototype=new Integration;JoinMe.prototype.constructor=JoinMe;function JoinMe(){}
JoinMe.prototype.show=function(a){a='<div class="joinme" url="'+(a.link||"")+'"><p>'+__tran("Joinme_info",{sender:a.sender||""})+'</p><p class="buttons"><button class="accept">'+__tran("Button_allow")+"</button> "+__tran("Button_link_or")+' <a href="#" class="cancel">'+__tran("Button_link_cancel")+"</a></p></div>";App.displayNewMessage({message:a,who:App.INTEGRATION});$(".joinme:last button.accept:last").click(function(){var a=__tran("Joinme_session_started"),c=$(this).parent().parent().attr("url");
$(this).parent().html(a);window.open(c,"_blank")});$(".joinme:last a.cancel:last").click(function(){var a=__tran("Joinme_session_rejected");$(this).parent().html(a);return!1})};Firefly.prototype=new Integration;Firefly.prototype.constructor=Firefly;function Firefly(){}
Firefly.prototype.show=function(a){a='<div class="firefly" url="'+(a.link||"")+'" request-id="'+(a.requestID||"")+'"><p>'+__tran("Firefly_info",{sender:a.sender||""})+'</p><p class="buttons"><button class="accept">'+__tran("Button_allow")+"</button> "+__tran("Button_link_or")+' <a href="#" class="cancel">'+__tran("Button_link_cancel")+"</a></p></div>";App.displayNewMessage({message:a,who:App.INTEGRATION});$(".firefly:last button.accept:last").click(function(){var a=__tran("Firefly_session_started"),
c=$(this).parent().parent().attr("request-id");App.notifyParent.send("firefly_request_url;"+encodeURIComponent(c));$(this).parent().html(a)});$(".firefly:last a.cancel:last").click(function(){var a=__tran("Firefly_session_rejected");$(this).parent().html(a);return!1})};
Firefly.prototype.sendLinkToAgent=function(a,b){var c=['<?xml version="1.0" encoding="utf-8"?>',"<livechat_integration>","<api-version>1.0</api-version>","<name>firefly</name>","<version>1.0</version>","<result>","<success>1</success>","<actions>",'<action type="messagebox" name="Co-browsing session link" conferenceID="'+App.chat.getConferenceID()+'" url="'+a+'">',"<message>Open this link to start the co-browsing session: &#xA; "+a+"</message>","<box-type>info</box-type>","</action>","</actions>",
"</result>","</livechat_integration>"],c=c.join("\n");App.request.send(["IWCS0004P",App.chat.getID(),App.escapeForIWCS("LCOP0024C-firefly-"+b+"-"+App.escapeForIWCS(c)),App.SESSION_ID,App.chat.getGUID()])};PushPage.prototype=new Integration;PushPage.prototype.constructor=PushPage;function PushPage(){}PushPage.prototype.REGEXP=/([^\.\/]+\.[^\/\.]+)(\/.*)?$/;
PushPage.prototype.showConfirmation=function(a){var b=this,c=a.url||"",e=a.operator_id,a=App.getOperatorByID(e).getDisplayName(),a='<div class="pushpage" url="'+encodeURIComponent(c)+'"><p>'+__tran("Push_page_requested",{operator:a})+"<br><strong>"+c+'</strong></p><p class="buttons"><button class="accept">'+__tran("Push_page_accept")+"</button> "+__tran("Push_page_or")+' <a href="#" class="cancel">'+__tran("Push_page_cancel")+"</a></p></div>";App.displayNewMessage({message:a,who:App.INTEGRATION});
$(".pushpage:last button.accept:last").click(function(){var a=__tran("Push_page_accepted"),c=decodeURIComponent($(this).parent().parent().attr("url"));$(this).parent().html(a);b.acceptPushedPage(c,e);window.open(c,"_blank")});$(".pushpage:last a.cancel:last").click(function(){var a=__tran("Push_page_refused");$(this).parent().html(a);b.rejectPushedPage(c,e);return!1})};
PushPage.prototype.showPushPageAccepted=function(){var a='<div class="pushpage">'+__tran("Push_page_accepted")+"</div>";App.displayNewMessage({message:a,who:App.INTEGRATION})};PushPage.prototype.showPushPageRefused=function(){var a='<div class="pushpage">'+__tran("Push_page_refused")+"</div>";App.displayNewMessage({message:a,who:App.INTEGRATION})};
PushPage.prototype.push=function(a,b){var c,e;if(!0===App.getHistoryLoading())return!0;!1===/^https?:\/\//.test(a)&&(a="http://"+a);c=a.match(this.REGEXP);if(null===c)return!1;c=c[1];e=(e=App.getParentUrl().match(this.REGEXP))&&e.length?e[1]:!1;if(c!=e)return App.pushPage.showConfirmation({url:a,operator_id:b}),!0;App.windowsCommunicator.isMainWindow()?(this.acceptPushedPage(a,b),c=500):c=0;setTimeout(function(){if(!1===App.recentWindow.isRecent())return!1;try{window.opener.location.href=a}catch(b){App.openURL(a)}},
c)};PushPage.prototype.acceptPushedPage=function(a,b){this.sendPushPageResult("1",a,b)};PushPage.prototype.rejectPushedPage=function(a,b){this.sendPushPageResult("0",a,b)};PushPage.prototype.sendPushPageResult=function(a,b){App.request.send(["IWCS0004P",App.chat.getID(),"LCOP0023C-"+App.SESSION_ID+"-"+App.escapeForIWCS(b)+"-"+a,App.SESSION_ID,App.chat.getGUID()])};GoogleAnalytics.prototype=new Integration;GoogleAnalytics.prototype.constructor=GoogleAnalytics;function GoogleAnalytics(){}
GoogleAnalytics.prototype.setEnabled=function(a){Integration.prototype.setEnabled.call(this,a);App.notifyParent.send("ga_enabled;"+(a?"1":"0"))};GoogleAnalytics.prototype.trackPageView=function(a){if(!0!==this.isEnabled())return!1;App.notifyParent.send("ga;"+encodeURIComponent(a))};
var App={CONFIG:null,VERSION:"Embedded",DEBUG:"object"===typeof Debug,PROTOCOL:-1!=window.location.protocol.indexOf("https")?"https://":"http://",SERVER_ADDRESS:null,LANG:null,SKILL:null,LICENSE:null,SESSION_ID:null,SECRET_ID:null,THEME:null,OPERATORS_ONLINE:null,LC2:null,CLIENT_LIMIT_EXCEEDED:!1,SOURCE_INVITATION:!1,CLIENT:0,OPERATOR:1,SYSTEM:2,INTEGRATION:3,CHAT_MODE_QUEUE:0,CHAT_MODE_SINGLE:1,CHAT_MODE_CONFERENCE:2,CHAT_MODE_FINISHED:3,WINDOW_MINIMIZED:0,WINDOW_MAXIMIZED:1,WINDOW_POPOUT:2,windowMode:0,
state:null,previousState:null,STATE_DONT_NOTIFY_PARENT:!1,STATE_OFFLINE:0,STATE_PRE_CHAT:1,STATE_QUEUE:2,STATE_CHATTING:3,STATE_POST_CHAT:4,STATE_CHAT_ENDED:5,STATE_INVITATION:6,STATE_INVITATION_WITH_AGENT:7,DO_NOT_UPDATE_SCROLL:!1,TRIGGER_UNIQUE_ID:"",lastActivity:null,maximumActivityTime:1800,messages:[],parentCommunicationInited:!1,uniqueID:null,uniqueIDLength:8,pingObserver:null,stateChangedObserver:null,$textarea:null,$operatorsContainer:null,$operatorsBar:null,$message:null,$messageWrapper:null,
$bodyContainer:null,$body:null,$titleContainer:null,$titleText:null,$title:null,$footer:null,$social:null,$typingIndicator:null,$typingIndicatorDots:null,$sound:null,hasAudioSupport:!!document.createElement("audio").canPlayType,previousSoundTime:0,template:null,request:null,lang:null,client:null,chat:null,integrationVariables:"",operators:[],lastMessageAuthorType:null,lastMessageAuthorOperatorID:null,lastMessageTime:null,lastMaximizeTime:0,lastClientTypingStatus:null,lastClientKeypressTime:null,clientTypingObserverId:null,
typingIndicatorAnimationObserver:null,typingIndicatorDotsCounter:0,windowHeight:null,tabIsActive:null,chatIFrameIsActive:null,socialNetworks:{displayed:!1},_supports3rdPartyCookies:null,_soundPreloadedOnMobile:!1,getLicenseNumber:function(){var a,b=document.location.toString();a=b.match(/licence\/(\d+)/);if(null!=a)return parseInt(a[1],10);a=b.match(/license=(\d+)/);if(null!=a)return parseInt(a[1],10);App.DEBUG&&alert("License number not provided.\nAppend ?license=... to the URL.");return!1},getServerAddress:function(){if(null!=
window.__lc&&window.__lc.server_address)return window.__lc.server_address;switch(App.LICENSE){case 1001:case 1002:return"chat.play.pl";case 1078679:return"livechat.t-mobile.pl";case 13250:return"livechat.orange.pl";case 1520:return"server-lc2.livechatinc.com:443";default:return"secure.livechatinc.com"}},getSkillNumber:function(){var a;a=document.location.toString().match(/groups=(\d+)/);return null==a?0:parseInt(a[1],10)},preload:function(){App.LICENSE=this.getLicenseNumber();if(!App.LICENSE)return!1;
App.SERVER_ADDRESS=this.getServerAddress();App.SKILL=this.getSkillNumber();App.notifyParent=NotifyParent;App.popout=new PopOut;App.observers=new Observers;App.request=new Request;App.chat=new Chat;App.client=new Client;App.tooltip=new Tooltip;App.shortener=new Shortener;App.notification=new Notification;App.windowsCommunicator=new WindowsCommunicator;App.windowsCommunicator.init();App.recentWindow=new RecentWindow;App.recentWindow.init();App.readMessage=new ReadMessage;App.readMessage.init();App.invitation=
new Invitation;App.prechatSurvey=new PrechatSurvey;App.postchatSurvey=new PostchatSurvey;App.offlineForm=new OfflineForm;App.queuedForm=new QueuedForm;App.rateMe=new RateMe;App.emailTranscript=new EmailTranscript;App.freshbooks=new Freshbooks;App.zendesk=new Zendesk;App.assistly=new Assistly;App.joinme=new JoinMe;App.firefly=new Firefly;App.pushPage=new PushPage;App.googleAnalytics=new GoogleAnalytics;App.ga=App.googleAnalytics;App.notifyParent.init();null===$.getUrlParam("embedded")?this._preloadedPopup():
this._preloadedEmbedded()},_loadScriptData:function(){var a,b=this;a="//"+App.SERVER_ADDRESS;a+="/licence/"+App.LICENSE+"/script_data.js?groups="+App.SKILL+"&t="+ +new Date;a+="&referrer="+encodeURIComponent(IncorrectCharactersStripper.strip(document.referrer));a+="&url="+encodeURIComponent(document.location);a+="&params="+encodeURIComponent(CustomVariablesParser.getArrayByString($.getUrlParam("params")));$.ajax({url:a+"&jsonp=?",dataType:"jsonp",success:function(a){if("undefined"!==typeof a.error)return!1;
App.CONFIG=a;$.ajax({url:"//"+App.SERVER_ADDRESS+a.localization_url+"?jsonp=?",dataType:"jsonp",success:function(a){if("undefined"!==typeof a.error)return!1;b.setLangPhrases(a.localization)}})}})},_preloadedPopup:function(){this._loadScriptData()},_preloadedEmbedded:function(){"1"===$.getUrlParam("langSkillUpdated")?this._loadScriptData():(App.notifyParent.send("load_window_config"),App.notifyParent.send("load_languages"))},init:function(){if(!0!==Translate.getLangPhrasesDefined())return setTimeout(function(){App.init()},
100),!1;App.setWindowConfig();App.trackCookiesSupport();Translate.init();Template.parseLanguagePhrases();$("head").prepend(Template.get("livechat","head"));$("body").html(Template.get("livechat","body"));setTimeout(function(){App.$bodyContainer=$("#body-container");App.$body=$("#body");App.$bodyInner=$("#body-inner");App.$operatorsContainer=$("#operators td");App.$operatorsBar=$("#operators .wrapper");App.$textarea=$("#textarea");App.$typingIndicator=$("#typing-indicator");App.$typingIndicatorDots=
App.$typingIndicator.find(".typing-dots");App.$message=$("#message");App.$messageWrapper=$("#message-wrapper");App.$titleContainer=$("#title-container td");App.$titleText=$("#title-text");App.$title=$("#title");App.$footer=$("#footer td");App.$social=$("#social");var a=function(){if(App.updateBodyHeight())App.onInit();else setTimeout(a,100)};a();App.requireLibConfig();App.bindWindowResize();App.bindTimeHover();App.bindSendMessageEvent();App.bindMinimizeButton();App.bindMinimizeOnEscape();App.bindCloseChatButton();
App.bindTextareaFocus();App.bindTextareaPlaceholderClick();App.bindChatIFrameFocus();App.addIEBodyClasses();App.addOtherBodyClasses();App.runClientIsTypingObserver()},10)},trackCookiesSupport:function(){$.cookie("3rdparty","allow")},supports3rdPartyCookies:function(){return null!==this._supports3rdPartyCookies?this._supports3rdPartyCookies:this._supports3rdPartyCookies=!0===$.browser.msie||"allow"===$.cookie("3rdparty")?!0:!1},alert:function(a){if(!0!==App.DEBUG)return!1;window.alert(a)},setState:function(a,
b){App.previousState=App.state;App.state=a;App.state===App.STATE_CHATTING?this.addBodyClass("state-chatting"):this.removeBodyClass("state-chatting");("undefined"===typeof b||!1!==b)&&App.notifyParentAboutState(a);switch(App.state){case App.STATE_OFFLINE:case App.STATE_CHAT_ENDED:case App.STATE_POST_CHAT:App.chat.setInitializing(!1)}App.state===App.STATE_PRE_CHAT?App.setTitle(__tran("Welcome_title")):App.state===App.STATE_OFFLINE&&App.setTitle(__tran("Offline_form"))},getState:function(){return App.state},
getPreviousState:function(){return App.previousState},notifyParentAboutState:function(a){App.notifyParent.send("state;"+a)},addBodyClass:function(a){$("body").addClass(a)},bodyHasClass:function(a){return $("body").hasClass(a)},removeBodyClass:function(a){$("body").removeClass(a)},addIEBodyClasses:function(){if(!0!==$.browser.msie)return!1;8>parseInt($.browser.version,10)&&this.addBodyClass("msie-7")},addOtherBodyClasses:function(){300>$(window).width()&&$("body").addClass("mobile")},isMobile:function(){return"1"===
$.getUrlParam("mobile")},soundPreloadedOnMobile:function(a){if(null==a)return this._soundPreloadedOnMobile;this._soundPreloadedOnMobile=a},getWindowHeight:function(){if(!0===App.popout.isPopOut()||null===this.windowHeight)this.windowHeight=$("body").height();return this.windowHeight},updateBodyHeight:function(){var a=!1,b=App.getWindowHeight(),b=b-parseInt($("#wrapper").css("border-top-width"),10),b=b-parseInt($("#wrapper").css("padding-top"),10),b=b-App.$titleContainer.outerHeight(),b=b-App.$footer.outerHeight();
App.$operatorsContainer.is(":visible")&&(b-=App.$operatorsContainer.outerHeight());App.$textarea.is(":visible")&&(b-=App.$messageWrapper.outerHeight());10<b&&(App.$body.height(b),a=!0);return a},requireLibConfig:function(){require.config({waitSeconds:5})},bindWindowResize:function(){$(window).resize(function(){App.updateBodyHeight()})},bindTimeHover:function(){$("#view-chat").delegate("p","hover",function(){var a;a=$(this).hasClass("operator")?"operator":"client";$(this).find(".time").toggleClass("visible");
$(this).hasClass("same-author")&&$(this).prevUntil(":not(."+a+")").find(".time").toggleClass("visible");$(this).nextUntil(":not(.same-author)").find(".time").toggleClass("visible")})},bindTextareaResize:function(){App.$message.autogrow()},renderView:function(a,b){$("#view-"+a).html(b)},showView:function(a){a=$("#view-"+a);App.$body.find(".view").hide();App.notification.hide();a.show();App.displayBody()},displayView:function(a,b){this.renderView(a,b);this.showView(a)},clearChatMessages:function(){$("#view-chat").find("p.system, p.operator, p.client, p.integration").remove();
App.lastMessageAuthorType=null;App.lastMessageAuthorOperatorID=null},displayChatView:function(){this.displaySocialNetworks();this.showOperatorsBar();this.showView("chat")},viewIsVisible:function(a){return $("#view-"+a).is(":visible")},hideView:function(a){App.$body.find("#view-"+a).hide()},displayInformation:function(a){App.hideOperatorsBar();App.hideTextarea();App.displayView("information","<p>"+a+"</p>")},tryToContinueChat:function(){"1"!==$.cookie("chat_running")&&"1"!==$.cookie("waiting_in_queue")?
App.request.omitFirstPing():App.sendSinglePing()},onInit:function(){App.setupSessionID();App.setupSecretID();App.lastActivity=App.getTimestamp();App.updateLayoutBasedOnConfiguration();App.tryToContinueChat();App.resizeTooSmallWindow();App.bindMinimize();App.intelligentPoweredByLink();App.mobileDevicesHacks();App.setupTriggerUniqueID();setTimeout(function(){App.preloadSound()},4E3)},setupSessionID:function(){$.getUrlParam("session_id")&&(App.SESSION_ID=$.getUrlParam("session_id"))},setupSecretID:function(){var a;
if(!1===App.supports3rdPartyCookies()){try{a=window.localStorage}catch(b){}a&&window.localStorage.getItem("lc."+App.LICENSE+".secret_id")&&(App.SECRET_ID=window.localStorage.getItem("lc."+App.LICENSE+".secret_id"))}},getParentCommunicationInited:function(){return this.parentCommunicationInited},sendInfoToParent:function(a){var b,a=$.extend({state:"",operator_display_name:""},a);if(!0===this.getParentCommunicationInited())return""!==a.state&&App.notifyParentAboutState(a.state),!0;this.parentCommunicationInited=
!0;b=$(".title");App.notifyParent.send("init;"+b.css("background-color")+";"+b.css("color")+";"+b.css("text-shadow")+";"+$(".title-button").css("background-color")+";"+$("#css-container").css("border-top-color")+";"+(App.OPERATORS_ONLINE?"1":"0")+";"+a.state+";"+encodeURIComponent(a.operator_display_name)+";"+$("#css-container").css("background-color"))},focus:function(){if(!App.windowMode&&!App.isPopOut())return!1;App.state===App.STATE_OFFLINE?App.offlineForm.focusFirstField():App.state===App.STATE_PRE_CHAT?
App.prechatSurvey.focusFirstField():App.state===App.STATE_CHATTING||App.state===App.STATE_INVITATION_WITH_AGENT?App.$message.focus():App.state===App.STATE_POST_CHAT&&App.postchatSurvey.focusFirstField()},bindChatIFrameFocus:function(){$(window).focus(function(){App.focusChatIFrame()}).blur(function(){App.blurChatIFrame()})},focusChatIFrame:function(){this.chatIFrameIsActive=this.tabIsActive=!0},blurChatIFrame:function(){this.chatIFrameIsActive=!1;App.tabIsActive=!1},setCustomCSS:function(a){var b=
$("#custom-css");b.length&&(b.after("<style>"+a+"</style>"),b.remove())},receiveMessageFromParent:function(a){if(/^language_phrases;/.test(a)){var b=a.match(/^language_phrases;(.+)$/),b=JSON.parse(b[1]);App.setLangPhrases(b)}else if(/^window_config;/.test(a))b=a.match(/^window_config;(.+)$/),App.CONFIG=JSON.parse(b[1]);else if("maximize"===a)App.setWindowMode(App.WINDOW_MAXIMIZED),App.lastMaximizeTime=App.getTimestamp(),App.focus(),App.observers.notify("window_maximize"),App.readMessage.notifyAboutReadMessage();
else if("tab_active"===a)App.tabIsActive=!0,App.getWindowMode()===App.WINDOW_MAXIMIZED&&App.readMessage.notifyAboutReadMessage();else if("tab_inactive"===a){if(!0===App.chatIFrameIsActive)return!1;App.tabIsActive=!1}else if("client_limit_exceeded"===a)App.CLIENT_LIMIT_EXCEEDED=!0,App.stopCheckingForStateChange();else if(/^invitation;/.test(a)){if(!1===App.invitation.isAllowed())return!0;a=a.split(";");App.TRIGGER_UNIQUE_ID=decodeURIComponent(a[1]);""!==a[2]&&(App.SKILL=parseInt(a[2],10));App.invitation.display(decodeURIComponent(a[3]))}else if(/^invitation_with_agent;/.test(a)){var a=
a.split(";"),b=decodeURIComponent(a[1]),c=decodeURIComponent(a[2]),a=JSON.parse(decodeURIComponent(a[3]));App.incomingInvitationWithAgent(b,c,a);App.windowsCommunicator.broadcast("personal_invitation",{trigger_unique_id:b,message:c,agent:a},{singleMessage:!0})}else/^source_invitation;/.test(a)?App.TRIGGER_UNIQUE_ID=decodeURIComponent(a.split(";")[1]):/^custom_css;/.test(a)?(a=a.split(";"),App.setCustomCSS(decodeURIComponent(a[1]))):/^nick;/.test(a)?(a=a.split(";"),App.client.setName(decodeURIComponent(a[1]))):
/^email;/.test(a)?(a=a.split(";"),App.client.setEmail(decodeURIComponent(a[1]))):"start_chat"===a?(App.chat.setStartedByOperator(!0),App.setSourceInvitation(),App.startChat()):/^start_chat;/.test(a)?(a=a.split(";"),App.chat.setStartedByOperator(!0),App.chat.setWelcomeMessage(decodeURIComponent(a[1])),App.setSourceInvitation(),App.startChat()):/^welcome_message;/.test(a)?(a=a.split(";"),App.chat.setWelcomeMessage(decodeURIComponent(a[1]))):/^params;/.test(a)?(a=a.split(";"),App.chat.setCustomVariables(decodeURIComponent(a[1]))):
"reload_window"===a?App.reloadWindow({manually:!0}):/^firefly_url;/.test(a)&&(a=a.split(";"),App.firefly.sendLinkToAgent(decodeURIComponent(a[1]),decodeURIComponent(a[2])))},incomingInvitationWithAgent:function(a,b,c){if(!1===App.invitation.isAllowed())return!0;b=b.replace(/&gt;/g,">").replace(/&lt;/g,"<");App.TRIGGER_UNIQUE_ID=a;App.invitation.displayWithAgent(b,c);App.chat.setWelcomeMessage(b)},setLangPhrases:function(a){Translate.setLangPhrases(a)},setDisplayAvatar:function(a){this.displayAvatar=
a},getDisplayAvatar:function(){return this.displayAvatar},setDisplayLogo:function(a){this.displayLogo=a},getDisplayLogo:function(){return this.displayLogo},setLogoPath:function(a){this.logoPath=a=a.replace(/^\/\//,"")},getLogoPath:function(){return"//"+this.logoPath},setWindowConfig:function(){App.socialNetworks.facebook=App.CONFIG.chat_window.social.facebook;App.socialNetworks.twitter=App.CONFIG.chat_window.social.twitter;App.socialNetworks.plusone=App.CONFIG.chat_window.social.plusone;App.rateMe.setEnabled("1"===
App.CONFIG.chat_window.display_rating);App.emailTranscript.setEnabled("1"===App.CONFIG.chat_window.display_transcript_button);App.setDisplayAvatar("1"===App.CONFIG.chat_window.display_avatar);App.setDisplayLogo("1"===App.CONFIG.chat_window.logo.display);App.setLogoPath(App.CONFIG.chat_window.logo.path);"1"===App.CONFIG.chat_window.display_mobile_icon&&App.addBodyClass("display-mobile-icon");App.updateLayoutBasedOnConfiguration();App.LANG=App.CONFIG.lang;App.SESSION_ID=App.CONFIG.visitor.session;App.THEME=
App.CONFIG.chat_window.theme.name||"deprecated";App.OPERATORS_ONLINE="online"===App.CONFIG.status;App.LC2=App.CONFIG.lc2},updateLayoutBasedOnConfiguration:function(){!0===this.getDisplayAvatar()&&this.addBodyClass("avatar-enabled");null!==this.$operatorsBar&&!0===this.getDisplayLogo()&&this.$operatorsBar.addClass("logo");App.CONFIG&&(App.googleAnalytics.setEnabled("1"===App.CONFIG.analytics_enabled),App.CONFIG.chat_window.theme.css&&(!App.LC2||"0"!==App.CONFIG.chat_window.theme.customized)&&App.setCustomCSS(App.CONFIG.chat_window.theme.css))},
resizeTooSmallWindow:function(){if(!0!==App.popout.isPopOut())return!0;(150>$(window).width()||200>$(window).height())&&window.resizeTo(530,520)},setWindowMode:function(a){this.windowMode=a;if(a===App.WINDOW_MAXIMIZED||a===App.WINDOW_POPOUT)App.getState()===App.STATE_PRE_CHAT?!0===App.prechatSurvey.hasFacebookConnect&&!0===App.prechatSurvey.startOnMaximize?App.startChat():!1===App.prechatSurvey.isEnabled()?App.prechatSurvey.startChat():!1===App.prechatSurvey.isLoaded()&&App.prechatSurvey.load():App.getState()===
App.STATE_OFFLINE&&!0===App.getSourceInvitation()?!1===App.chat.getStartedByOperator()&&(App.showLoadingIndicator(),App.prechatSurvey.load()):App.getState()===App.STATE_OFFLINE&&!1===App.offlineForm.isLoaded()&&App.offlineForm.load()},getWindowMode:function(){return this.windowMode},bindMinimize:function(){App.isMobile()?App.$title.click(function(){return!1}):App.$title.click(function(){App.minimizeWindow();return!1})},minimizeWindow:function(){App.setWindowMode(App.WINDOW_MINIMIZED);App.notifyParent.send("minimize");
App.tooltip.hide()},setSourceInvitation:function(){App.SOURCE_INVITATION=!0;App.TRIGGER_UNIQUE_ID=""},getSourceInvitation:function(){return App.SOURCE_INVITATION},refuseInvitation:function(){App.TRIGGER_UNIQUE_ID="";App.setWindowMode(App.WINDOW_MINIMIZED);App.notifyParent.send("invitation_refused")},invitationOperatorsOffline:function(){App.setWindowMode(App.WINDOW_MINIMIZED);App.notifyParent.send("invitation_operators_offline")},intelligentPoweredByLink:function(){$("#powered").click(function(){if(1>
App.getTimestamp()-App.lastMaximizeTime)return!1})},setTitle:function(a){var b=a;App.isMobile()&&(b="LiveChat");document.title=b;App.$titleText.text(a)},startChat:function(a){var b,c,a=$.extend({loading_indicator:!0,using_facebook_connect:!1},a);if(!0===App.chat.getInitializing())return!1;App.chat.setInitializing(!0);if(!0===App.chat.getFinished())return App.reloadWindow(),!1;!0===a.loading_indicator&&App.showLoadingIndicator();b=App.SKILL;App.SKILL=App.prechatSurvey.getDestinationSkill({using_facebook_connect:a.using_facebook_connect});
c="$";$.getUrlParam("params")?c=$.getUrlParam("params"):(a=App.chat.getCustomVariables(),null!==a&&(c=[],$.each(a,function(a,b){c.push(encodeURIComponent(a)+"="+encodeURIComponent(b))}),c=c.join("&"),""===c&&(c="$")));App.setTitle(__tran("Welcome_title"));App.request.send(["IWCS7003C",App.client.getName(),0,App.SESSION_ID,App.SKILL,App.LICENSE,App.VERSION,"$","0",c,"$",App.chat.getGUID(),App.prechatSurvey.getFieldsPairs(),!0===App.getSourceInvitation()?"1":"0",App.chat.getID(),App.client.getEmail(),
App.prechatSurvey.getLabels(),b,App.TRIGGER_UNIQUE_ID,App.escapeForIWCS(App.chat.getWelcomeMessage()),App.getIntegrationVariables(),App.getUniqueID(),!1===App.supports3rdPartyCookies()?"1":"0",App.isMobile()?"1":"0"]);App.ga.trackPageView("Chat")},endChat:function(a){a=$.extend({who:App.CLIENT,closed_manually:!1},a);App.chat.updateMode();if(!1===App.chat.getStarted()||!0===App.chat.getFinished())return!0;App.chat.setFinished(!0);App.hideOperatorIsTyping();App.hideTextarea();App.postchatSurvey.load({whoClosed:a.who,
displayStartAgainLink:!0,closedManually:a.closed_manually})},showConfirmClosing:function(){App.hideOperatorsBar();App.hideTextarea();App.showView("confirm-closing")},displayStartAgainLink:function(){var a;if(0<$("#start-again").length)return!0;a=__tran("Embedded_start_chat_again");App.displayNewMessage({message:'<a href="#" id="start-again">'+a+"</a>"});$("#start-again").click(function(){App.reloadWindow({manually:!0});return!1})},reloadWindow:function(a){var b,a=$.extend({manually:!1},a);b="";!1===
a.manually&&(b=App.chat.getWelcomeMessage());App.notifyParent.send("chat_reload;"+encodeURIComponent(b));App.notifyParent.reloadWindow()},addOperator:function(a){var b;App.removeOperator(a.id);b=new Operator;b.id=a.id;b.display_name=a.display_name;b.avatar_url=a.avatar_url;b.job_title=a.job_title;App.operators.push(b);return b},removeOperator:function(a){var b=0,c;for(c in App.operators){if(App.operators[c].getId()==a)return a=App.operators[c],App.operators.splice(b,1),App.chat.updateMode(),a;b++}return!1},
removeAllOperators:function(){App.operators=[]},refreshOperatorsListAfterTransfer:function(){if(2<=App.getOperatorsNumber())return App.operators.splice(0,1),!0;App.chat.setMode(App.CHAT_MODE_SINGLE)},updateOperatorsInfoBar:function(){var a,b,c,e,g;a=App.getOperator();if(!1===a)return!1;b='<img src="'+a.getAvatarUrl()+'" height="56" width="56" class="avatar">';c='<span class="operator-name">'+App.escapeString(a.getDisplayName())+"</span>";a='<span class="operator-role">'+App.escapeString(a.getJobTitle())+
"</span>";e="";!0===App.rateMe.isEnabled()?(e=App.rateMe.getHtml(),this.addBodyClass("rating-enabled")):this.removeBodyClass("rating-enabled");email_transcript_form=g="";!0===App.emailTranscript.isEnabled()&&(g=App.emailTranscript.getHtml(),email_transcript_form=App.emailTranscript.getFormHtml());App.$operatorsBar.html('<div class="operator-info">'+b+c+a+e+g+"</div>"+email_transcript_form);!0===App.getDisplayLogo()&&(App.LC2?App.$operatorsBar.find(".operator-info").css("background-image","url("+this.getLogoPath()+
")"):App.$operatorsBar.css("background-image","url("+this.getLogoPath()+")"));App.updateBodyHeight();App.rateMe.bind();null!==App.rateMe.getLatestVote()&&App.rateMe.displayRate(App.rateMe.getLatestVote(),App.rateMe.OMIT_MESSAGE);App.emailTranscript.bind();null!==App.emailTranscript.getEmail()&&App.emailTranscript.displayConfirmation(App.emailTranscript.getEmail(),App.emailTranscript.HIDE_INSTANTLY)},displaySocialNetworks:function(){var a,b,c;if(!0===this.socialNetworks.displayed)return!0;this.socialNetworks.displayed=
!0;a=this._generatePlusoneFor(this.socialNetworks.plusone);b=this._generateFacebookFor(this.socialNetworks.facebook);c=this._generateTwitterFor(this.socialNetworks.twitter);App.$social.hide().append(a).append(c).append(b).show()},_generatePlusoneFor:function(a){if("undefined"===typeof a||0===a.length)return $("");var b=$('<div><div id="plusone-container"><g:plusone class="plusone" size="small" annotation="none"></g:plusone></div></div>');$(".plusone",b).attr("href",a);require([App.PROTOCOL+"apis.google.com/js/plusone.js"]);
return $(b.html())},_generateFacebookFor:function(a){if("undefined"===typeof a||0===a.length)return $("");var b='<iframe id="fb_like_iframe" src="'+App.PROTOCOL+"www.facebook.com/plugins/like.php?ref=LiveChat&amp;href="+encodeURIComponent("http://www.facebook.com/"+a)+'&amp;layout=button_count&amp;show_faces=false&amp;width=120&amp;action=like&amp;font=trebuchet+ms&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none;overflow:hidden;width:140px;height:21px;visibility:hidden" allowTransparency="false" onload="this.style.visibility=\'visible\';"></iframe>',
b=$('<a target="_blank"><span class="icon i-facebook s-social-facebook" title="Facebook"></span></a> '+b);b.attr("href","http://www.facebook.com/"+a);return b},_generateTwitterFor:function(a){if("undefined"===typeof a||0===a.length)return $("");var b=$('<a target="_blank"><span class="icon i-twitter s-social-twitter" title="Twitter"></span></a>');b.attr("href","http://twitter.com/"+a);return b},updateOperatorPhotoAndName:function(a){if("undefined"===typeof a&&(a=App.getOperator(),!1===a))return!1;
!0===this.getDisplayAvatar()&&App.$operatorsBar.find(".avatar").attr("src",a.getAvatarUrl());App.$operatorsBar.find(".operator-name").text(a.getDisplayName())},getOperatorsNumber:function(){return App.operators.length},setIntegrationVariables:function(a){App.integrationVariables=a},getIntegrationVariables:function(){return App.integrationVariables},getOperatorByID:function(a){for(var b in App.operators)if(App.operators[b].getId()==a)return App.operators[b];return!1},getOperator:function(){return 0===
App.operators.length?!1:App.operators[0]},setHistoryLoading:function(a){this.historyLoading=a},getHistoryLoading:function(){return this.historyLoading},getLastActivityTime:function(){return this.lastActivity},sendSinglePing:function(){App.request.send(["IWCS7000C",App.SESSION_ID,App.chat.getGUID(),"",App.getUniqueID()])},startCheckingForStateChange:function(){if(!0===App.CLIENT_LIMIT_EXCEEDED)return!1;App.stopPing();if(null!==App.stateChangedObserver)return!0;App.stateChangedObserver=setInterval(function(){App._sendCheckForState()},
5E3)},_sendCheckForState:function(){if(!0!==App.windowsCommunicator.isMainWindowInGroup()||App.getTimestamp()-App.getLastActivityTime()>App.maximumActivityTime)return!1;App.request.send(["IWCS0116C",App.SESSION_ID,App.LICENSE,App.SKILL])},stopCheckingForStateChange:function(){App.stateChangedObserver&&(clearInterval(App.stateChangedObserver),App.stateChangedObserver=null)},startPing:function(){App.stopCheckingForStateChange();if(null!==App.pingObserver)return!0;App.pingObserver=setInterval(function(){App._sendPing()},
1800)},_sendPing:function(){App.chat.setSneakPeek(App.$message.val());App.request.send(["IWCS7000C",App.SESSION_ID,App.chat.getGUID(),App.escapeForIWCS(App.chat.getSneakPeek()),App.getUniqueID()])},stopPing:function(){App.pingObserver&&(clearInterval(App.pingObserver),App.pingObserver=null)},generateRandomID:function(a){for(var b="",c=0;c<a;c++)b+="0123456789abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ".substr(Math.floor(64*Math.random()),1);return b},generateRandomNumber:function(a){for(var b=
"",c=0;c<a;c++)b+="0123456789".substr(Math.floor(10*Math.random()),1);return b},bindSendMessageEvent:function(){App.$message.keypress(function(a){App.clientIsTyping();if(13!=a.which||1==a.shiftKey)return!0;App.isMobile()&&!1===App.soundPreloadedOnMobile()&&(App.playSound({preloadOnMobile:!0}),App.soundPreloadedOnMobile(!0));App.sendMessage();$(this).val("");App.getState()===App.STATE_INVITATION_WITH_AGENT&&App.disableTextarea();return!1}).keydown(function(a){!App.bodyHasClass("client-sent-message")&&
8!==a.which&&16!==a.which&&17!==a.which&&18!==a.which&&91!==a.which&&App.hideTextareaPlaceholder()}).keyup(function(){!App.bodyHasClass("client-sent-message")&&""===$(this).val()&&App.showTextareaPlaceholder();$("body").toggleClass("textarea-not-empty",""!==$.trim($(this).val()))})},bindMinimizeButton:function(){if(App.isMobile())return!1;App.tooltip.set($("#minimize"))},isPopOut:function(){return App.popout.isPopOut()},bindCloseChatButton:function(){App.tooltip.set($("#close-chat"));$("#close-chat").click(function(){App.showConfirmClosing();
return!1});$("#leave-chat").click(function(){App.leaveChat();return!1});$("#dont-leave-chat").click(function(){App.cancelLeavingChat();return!1})},bindTextareaFocus:function(){App.$message.focus(function(){App.getWindowMode()===App.WINDOW_MAXIMIZED&&(App.readMessage.notifyAboutReadMessage(),App.recentWindow.markAsRecent())}).blur(function(){""===App.$message.val()&&!App.bodyHasClass("client-sent-message")&&App.showTextareaPlaceholder()})},bindTextareaPlaceholderClick:function(){App.$message.next("#message-placeholder").click(function(){App.$message.focus();
return!1})},bindMinimizeOnEscape:function(){if(App.isMobile())return!1;$(document).keyup(function(a){if(!1===App.$message.is(":focus"))return!1;27==a.which&&App.minimizeWindow()})},clientIsTyping:function(){App.lastClientKeypressTime=App.getTimestamp()},typingIndicatorAnimate:function(){App.typingIndicatorDotsCounter++;6<App.typingIndicatorDotsCounter&&(App.typingIndicatorDotsCounter=0);dots="";for(var a=0;a<App.typingIndicatorDotsCounter;a++)dots+=".";dots=dots.substring(0,3);App.$typingIndicatorDots.html(dots)},
startTypingIndicatorAnimation:function(){App.typingIndicatorDotsCounter=0;App.typingIndicatorAnimate();App.typingIndicatorAnimationObserver=setInterval(App.typingIndicatorAnimate,200)},stopTypingIndicatorAnimation:function(){App.typingIndicatorAnimationObserver&&(clearInterval(App.typingIndicatorAnimationObserver),App.typingIndicatorAnimationObserver=null)},hideOperatorIsTyping:function(){App.stopTypingIndicatorAnimation();App.$typingIndicator.hide()},runClientIsTypingObserver:function(){App.clientTypingObserverId=
setInterval(App.clientTypingObserver,1E3)},clientTypingObserver:function(){if(!1===App.chat.getRunning())return!1;if(null===App.lastClientKeypressTime)return App.sendClientIsTyping(0),!0;3<App.getTimestamp()-App.lastClientKeypressTime?App.sendClientIsTyping(0):App.sendClientIsTyping(1);return!0},sendClientIsTyping:function(a){App.lastClientTypingStatus!==a&&(App.lastClientTypingStatus=a,App.request.send(["IWCS0004P",App.chat.getID(),"LCOP0003S&#45;"+App.SESSION_ID+"&#45;"+a,App.SESSION_ID,App.chat.getGUID()]))},
connectionLost:function(){if(!0===App.request.connectionIsLost())return!0;App.request.setConnectionLost();App.stopPing();App.hideOperatorIsTyping();App.hideTextarea();App.setState(App.STATE_CHAT_ENDED);!0==App.chat.getStarted()?App.displayNewMessage({message:__tran("Lost_Connection")}):App.showView("connection-lost");App.displayStartAgainLink()},escape:function(a){if(!a)return"";a=a.replace(/</g,"&lt;");return a=a.replace(/>/g,"&gt;")},escapeString:function(a){return $("<div/>").text(a).html()},escapeForIWCS:function(a){return a.replace(/&/g,
"&amp;").replace(/-/g,"&#45;").replace(/\^/g,"&#94;").replace(/\r/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<BR>")},unescapeForIWCS:function(a){return a.replace(/<BR>/g,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#94;/g,"^").replace(/&#45;/g,"-").replace(/&amp;/g,"&")},getTime:function(a){var b,c;"undefined"===typeof a?b=new Date:(a=parseInt(a,10),b=new Date(1E3*a));a=b.getHours();b=b.getMinutes();12>a?c="am":(c="pm",a-=12);0===a&&(a=12);10>b&&(b="0"+b);return a+
":"+b+" "+c},getTimestamp:function(){return Math.round(+new Date/1E3)},messageIsEmpty:function(a){return 0===$.trim(a).length},parseIncomingMessage:function(a){a=$.trim(a);a=a.replace(/&lt;BR&gt;/gi,"\n");a=a.replace(/<BR>/gi,"\n");a=App.escapeString(a);a=a.replace(/\n{3,}/g,"\n\n");a=a.replace(/\n/g,"<BR>");a=a.replace(/(((https?\:\/\/|ftp\:\/\/)|(www\.))[^\s"'\[\]<>]+)/gi,function(a){var c,e=a.match(/([\.,]*)$/)[0],a=a.replace(/[\.,]*$/,"");c=a.replace(/^www/,"http://www");return'<a target="_blank" rel="nofollow" href="'+
c+'">'+a+"</a>"+e});return a=App.shortener.shorten(a)},parseOutgoingMessage:function(a){return a=a.replace(/&/g,"&amp;").replace(/\^/g,"&#94;").replace(/\r/g,"").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\n/g,"<BR>")},sendMessage:function(a){a=$.extend({message:App.$message.val()},a);App.getState()===App.STATE_INVITATION_WITH_AGENT&&(App.chat.rememberVisitorsFirstMessage({message:a.message,trigger_unique_id:App.TRIGGER_UNIQUE_ID}),App.startChat({loading_indicator:!1}));if(App.messageIsEmpty(a.message)||
!App.request.send(["IWCS0114C",App.SESSION_ID,App.chat.getID(),App.parseOutgoingMessage(a.message),"0",App.chat.getGUID(),"0"]))return!1;a.message=App.parseIncomingMessage(a.message);App.displayNewMessage({message:a.message,who:App.CLIENT});return!0},receivedMessage:function(a,b,c,e){b=App.parseIncomingMessage(b);c=1===parseInt(c,10);"undefined"===typeof e&&(e=App.getTimestamp());App.displayNewMessage({message:b,who:App.OPERATOR,operator_id:a,mobile:c,timestamp:e});return!0},parseLinks:function(a){return a.replace(/(((https?\:\/\/|ftp\:\/\/)|(www\.))[^\s"'<]+)/gi,
function(a){var c,e=a.match(/([\.,]*)$/)[0],a=a.replace(/[\.,]*$/,"");c=a.replace(/^www/,"http://www");return'<a target="_blank" rel="nofollow" href="'+c+'">'+a+"</a>"+e})},checkUpdateScroll:function(){return App.$bodyInner[0].scrollTop==App.$bodyInner[0].scrollHeight-App.$bodyInner.height()?!0:!1},updateScroll:function(){App.$bodyInner[0].scrollTop=App.$bodyInner[0].scrollHeight},appendMessage:function(a){var b;b=App.checkUpdateScroll();App.$typingIndicator.before(a);b&&App.updateScroll()},displayBody:function(){$("body").css("visibility",
"visible")},showOperatorsBar:function(){App.$operatorsContainer.show();App.addBodyClass("has-operators-bar");App.updateBodyHeight()},hideOperatorsBar:function(){App.$operatorsContainer.hide();App.removeBodyClass("has-operators-bar");App.updateBodyHeight()},showTextarea:function(){App.$textarea.show();App.updateBodyHeight()},hideTextarea:function(){App.$textarea.hide();App.updateBodyHeight()},disableTextarea:function(){App.$message.attr("disabled","disabled")},enableTextarea:function(){App.$message.removeAttr("disabled").focus()},
showTextareaPlaceholder:function(){App.$message.next("#message-placeholder").show()},hideTextareaPlaceholder:function(){App.$message.next("#message-placeholder").hide()},showLoadingIndicator:function(){App.showView("loading")},leaveChat:function(){App.request.send(["IWCS0014C","closechat",App.SESSION_ID,"$",App.generateRandomID(20)]);App.endChat({closed_manually:!0});App.showLoadingIndicator()},cancelLeavingChat:function(){App.showOperatorsBar();App.showTextarea();!1==="ontouchstart"in window&&App.$message.focus();
App.showView("chat")},displayNewMessage:function(a){var b="",c=null,e="",g=[],a=$.extend({message:"",who:App.SYSTEM,operator_id:null,mobile:!1,timestamp:!1,loading_history:!1},a);App.lastMessageAuthorType===a.who&&(App.lastMessageAuthorType!==App.OPERATOR||App.lastMessageAuthorOperatorID===a.operator_id)?(c=!0,g.push("same-author")):c=!1;a.who!==App.SYSTEM&&a.who!==App.INTEGRATION?(e='<span class="time">',e=!1===a.timestamp?e+App.getTime():e+App.getTime(a.timestamp),e+="</span> ",App.lastMessageTime==
e?!0===c&&(e=""):App.lastMessageTime=e):e="";switch(a.who){case App.OPERATOR:b='<span class="author">'+App.escapeString(App.getOperatorByID(a.operator_id).getDisplayName());a.mobile&&(b+='<span class="icon i-mobile s-common-mobile" title="'+__tran("Mobile_info")+'"></span>');b+="</span>";g.push("operator");g.push("operator-border");break;case App.CLIENT:b='<span class="author">'+App.escapeString(App.client.getName())+"</span> ";g.push("client");g.push("client-border");break;case App.SYSTEM:g.push("system");
break;case App.INTEGRATION:break;default:App.alert("Unsupported author. Error message: "+a.who)}!0===c&&(b="");App.lastMessageAuthorType=a.who;App.lastMessageAuthorType===App.OPERATOR&&(App.lastMessageAuthorOperatorID=a.operator_id);c="";a.who===App.INTEGRATION?(c=c+'<div class="integration">'+e+b+a.message,c+="</div>"):(c+='<p class="'+g.join(" ")+'">',c=c+e+b+a.message,c+="</p>");App.hideView("loading");App.appendMessage(c);a.who===App.CLIENT&&(App.addBodyClass("client-sent-message"),App.updateScroll());
!1===App.getHistoryLoading()&&a.who!==App.CLIENT&&a.who!==App.SYSTEM&&(App.readMessage.notifyAboutNewMessage(),!0===App.windowsCommunicator.isMainWindow()&&App.playSound())},getParentUrl:function(){return this.notifyParent.getParentUrl()},openURL:function(a){App.notifyParent.send("pushpage;"+a)},getUniqueID:function(){null===this.uniqueID&&(this.uniqueID=this.generateRandomNumber(this.uniqueIDLength));return this.uniqueID},mobileDevicesHacks:function(){(function(a){function b(){g.content="width=device-width,minimum-scale="+
e[0]+",maximum-scale="+e[1];a.removeEventListener(c,b,!0)}var c="gesturestart",e=[1,1],g="querySelectorAll"in a?a.querySelectorAll("meta[name=viewport]"):[];if((g=g[g.length-1])&&"addEventListener"in a)b(),e=[0.25,1.6],a.addEventListener(c,b,!0)})(document)},setupTriggerUniqueID:function(){if($.getUrlParam("trigger")&&""===App.TRIGGER_UNIQUE_ID&&(timestamp=parseInt($.getUrlParam("timestamp"),10))&&1E4>+new Date-timestamp)"manual"===$.getUrlParam("trigger")?App.setSourceInvitation():App.TRIGGER_UNIQUE_ID=
$.getUrlParam("trigger")},preloadSound:function(){if($("#sound").length)return!1;$.browser.msie?$("body").append('<bgsound id="sound" />'):($("#content").after('<audio preload="auto" id="sound">\n<source src="//cdn.livechatinc.com/sounds/message.ogg" type="audio/ogg" />\n<source src="//cdn.livechatinc.com/sounds/message.mp3" type="audio/mp3" />\n<source src="//cdn.livechatinc.com/sounds/message.wav" type="audio/wav" />\n</audio>'),this.$sound=$("#sound")[0])},playSound:function(a){var b=this,a=$.extend({preloadOnMobile:!1},
a);if(0===$("#sound").length)return!1;if(2>App.getTimestamp()-this.previousSoundTime)return!0;this.previousSoundTime=App.getTimestamp();$.browser.msie?$("#sound")[0].src="//cdn.livechatinc.com/sounds/message.mp3":!0===this.hasAudioSupport&&(this.$sound.play(),a.preloadOnMobile&&setTimeout(function(){b.$sound.pause();b.$sound.currentTime=0},10))}};$(document).ready(function(){App.preload();App.init()});
(function(a){a.fn.autogrow=function(){this.filter("textarea").each(function(){var b=a(this),c=b.height(),e=c,g=c,j=b.css("lineHeight"),n=4*parseInt(j,10),A=a("<div></div>").css({position:"absolute",top:-1E4,left:-1E4,width:b.width(),fontSize:b.css("fontSize"),fontFamily:b.css("fontFamily"),lineHeight:b.css("lineHeight"),resize:"none"}).appendTo(document.body),j=function(){var b,j=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,
"<br/>").replace(/ {2,}/g,function(a){for(var b=0,c="";b<a.length-1;b++)c+="&nbsp;";return c+" "});b=App.checkUpdateScroll();A.html(j);g=Math.max(A.height(),c);g=Math.min(n,g);a(this).css("height",g);g!==e&&(App.updateBodyHeight(),b&&App.updateScroll());e=g};b.change(j).keyup(j).keydown(j);a(window).resize(function(){A.css("width",b.width())});j.apply(this)});return this}})(jQuery);Template.register("livechat",'<html><head><style type="text/livechat-styles-1.0">/* CSS reset by Eric Meyer */html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline}:focus{outline:0}body{line-height:1;color:black;background:white}ol,ul{list-style:none}table{border-collapse:separate;border-spacing:0}caption,th,td{text-align:left;font-weight:normal}blockquote:before,blockquote:after,q:before,q:after{content:""}blockquote,q{quotes:""""}html, body {\tbackground: transparent;\theight: 100%;}body, table, input, textarea, select {\tfont: 12px/16px "Lucida Grande", "Lucida Sans Unicode", Arial, Verdana, sans-serif;}body {\t/* set visibility to \'visible\' once the content is loaded\t   to prevent from flicking content */\tvisibility: hidden;}a {\t/* disable default purple color and inherit it from normal text color */\tcolor: inherit;\ttext-decoration: none;}#css-container {\tdisplay: none;}/** * extra div that can be used by theme-specific styles */#extra {\tdisplay: none;}#wrapper {\tposition: absolute;\ttop: 0;\tright: 0;\tbottom: 0;\tleft: 0;\tz-index: 6;}.outline {\t/* default border around chat window */\tborder: 7px solid #ddd;\tborder: 7px solid rgba(200, 200, 200, 0.5);\tborder-bottom-width: 0;\t-moz-border-radius: 17px;\t-moz-border-radius-bottomleft: 0;\t-moz-border-radius-bottomright: 0;\t-webkit-border-radius: 17px;\t-webkit-border-bottom-left-radius: 0;\t-webkit-border-bottom-right-radius: 0;\tborder-radius: 17px;\tborder-bottom-left-radius: 0;\tborder-bottom-right-radius: 0;}body.pop-out .outline {\tborder: 0;\t-moz-border-radius: 0;\t-webkit-border-radius: 0;\tborder-radius: 0;}#content {\twidth: 100%;}body.pop-out #content {\theight: 100%;}\t#content p,\t#content .integration,\t#typing-indicator {\t\tpadding: 5px;\t}\t\t#content .form {\t\t\tpadding: 5px 0;\t\t}\t\t#content .form div {\t\t\tpadding: 5px 0;\t\t}\t\t#content .form div.sticked_to_field {\t\t\tmargin-top: -10px;\t\t}\t\t#content .form div p {\t\t\tpadding: 0 5px;\t\t}\t#content .integration {\t\tborder-width: 1px;\t\tborder-style: solid;\t\t/*\t\tmove 1px upwards to prevent from doubling the border\t\tif two ".integration" elements are next to each other\t\t*/\t\t \t\tmargin-top: -1px;\t\tborder-width: 1px 0;\t}\t\t#content .integration p {\t\t\tpadding-left: 0;\t\t\tpadding-right: 0;\t\t}.ajax-loader {\tdisplay: inline-block;\tzoom: 1;\t*float: left;\twidth: 16px;\theight: 16px;\tmargin-left: 5px;\tvertical-align: middle;\tbackground-image: url(//cdn.livechatinc.com/img/loader.gif);\tbackground-position: 0 0;\tbackground-repeat: no-repeat;\tvisibility: hidden;}#title-container td {\theight: 24px;\tline-height: 24px;\tfont-size: 120%;}\t#title-container .title-button {\t\tdisplay: block;\t\tcursor: pointer;\t\tfloat: right;\t\tmargin: 3px 3px 0 0;\t\twidth: 19px;\t\theight: 18px;\t\tbackground-repeat: no-repeat;\t}\t#title-container #close-chat {\t\tdisplay: none;\t}\tbody.pop-out #title-container #minimize {\t\tdisplay: none;\t}\t#title-container #minimize {\t\tbackground-image: url(//cdn.livechatinc.com/img/sprite.20111206.png);\t\tbackground-position: -16px -173px;\t}\t#title-container #close-chat {\t\tbackground-image: url(//cdn.livechatinc.com/img/sprite.20111206.png);\t\tbackground-position: -16px -190px;\t}\tbody.state-chatting #title-container #close-chat {\t\tdisplay: block;\t}\tbody.pop-out #notification {\t\tright: 36px;\t}\t\tbody.pop-out.state-chatting #notification {\t\t\tright: 58px;\t\t}\tbody.state-chatting #notification {\t\tright: 62px;\t}\t#title {\t\tdisplay: block;\t\tpadding: 2px 7px 2px 8px;\t\tfont-weight: bold;\t\t-moz-border-radius: 10px;\t\t-moz-border-radius-bottomleft: 0;\t\t-moz-border-radius-bottomright: 0;\t\t-webkit-border-radius: 10px;\t\t-webkit-border-bottom-left-radius: 0;\t\t-webkit-border-bottom-right-radius: 0;\t\tborder-radius: 10px;\t\tborder-bottom-left-radius: 0;\t\tborder-bottom-right-radius: 0;\t}\tbody.pop-out #title {\t\tcursor: default;\t\t-moz-border-radius: 0;\t\t-webkit-border-radius: 0;\t\tborder-radius: 0;\t}\t\t#title #title-text {\t\t\tmargin-left: 3px;\t\t}#operators {\tdisplay: none;}body.has-operators-bar #operators {\tdisplay: table-row;}\t#operators td {\t\tpadding: 10px;\t\theight: 56px;\t}\t#operators .operator-info{\t\theight: 57px;\t\toverflow: hidden;\t}\t#operators .wrapper {\t\tposition: relative;\t\t/* explicit height to get rid of height flicking\t\t   when operator\'s avatar is hidden */\t\theight: 56px;\t\tfloat: left;\t\twidth: 100%;\t\tz-index: 13897311;\t}\t#operators .logo {\t\tbackground-position: 100% 50%;\t\tbackground-repeat: no-repeat;\t}\t/**\t * Operators rating\t */\t#operators #rating {\t\tposition: relative;\t\tfloat: left;\t\ttop: 1px;\t\theight: 19px;\t\tmargin-right: 5px;\t\t/* color compatible with background image */\t\tcolor: #999;\t}\t\t#operators .rating-button {\t\t\tdisplay: block;\t\t\tbackground-image: url(//cdn.livechatinc.com/img/sprite.20111206.png);\t\t\tbackground-repeat: no-repeat;\t\t\tcursor: pointer;\t\t\tz-index: 5001;\t\t}\t\t#operators a.rate-good {\t\t\tfloat: right;\t\t\tpadding-left: 20px;\t\t\tposition: relative;\t\t\theight: 19px;\t\t\tcolor: #777;\t\t\tbackground-position: -18px -55px;\t\t\t/* fix for IE that has problems with floating point */\t\t\ttop: 0.1px;\t\t}\t\t#operators a.rate-good:hover,\t\t#operators a.rated-good {\t\t\tcolor: #222;\t\t\tbackground-position: -18px -34px;\t\t}\t\t#operators span.rate-good {\t\t\theight: 19px;\t\t\tline-height: 19px;\t\t\tfont-size: 10px;\t\t\tbackground-image: url(//cdn.livechatinc.com/img/sprite.20111206.png);\t\t\tbackground-repeat: repeat-x;\t\t\tbackground-position: 0px -273px;\t\t\tfloat: left;\t\t\tpadding: 0px 4px 0 2px;\t\t\tcursor: pointer;\t\t\tz-index: 5001;\t\t}\t\t#operators a.rate-bad {\t\t\tfloat: right;\t\t\twidth: 22px;\t\t\theight: 19px;\t\t\tbackground-position: -18px -76px;\t\t}\t\t#operators a.rate-bad:hover,\t\t#operators a.rated-bad {\t\t\tbackground-position: -18px -97px;\t\t}\t/**\t * Sending chat transcript to email\t */\t#operators #email_transcript {\t\tposition: relative;\t\tfloat: left;\t\ttop: 1px;\t}\t\t#operators #email_transcript a {\t\t\tdisplay: block;\t\t}\t#operators #email_transcript_form {\t\tdisplay: none;\t\tposition: absolute;\t\ttop: 62px;\t\tleft: -10px;\t\tright: -10px;\t\tz-index: 189375;\t\tpadding: 5px 10px 5px;\t}\t\t#operators #email_transcript_form form {\t\t\tmargin-left: -5px;\t\t}\t\t#operators #email_transcript_form input.text {\t\t\tdisplay: inline;\t\t\tmargin-left: 5px;\t\t}\t\t#operators #email_transcript_form span {\t\t\tdisplay: block;\t\t\tfont-size: 10px;\t\t}\t\t#operators #email_transcript_form .top-shadow {\t\t\tposition: absolute;\t\t\tbottom: 0;\t\t\tleft: 0;\t\t\tright: 0;\t\t\theight: 2px;\t\t}/** * 2px shadow above the chat area */.top-shadow {\t-moz-box-shadow: rgba(100, 100, 100, 0.2) 0px 2px 0 0;\t-webkit-box-shadow: rgba(100, 100, 100, 0.2) 0px 2px 0 0;\tbox-shadow: rgba(100, 100, 100, 0.2) 0px 2px 0 0;}#body {\tposition: relative;\twidth: 100%;\toverflow: hidden;}#body .top-shadow {\tposition: absolute;\ttop: 0;\tleft: 0;\twidth: 100%;\theight: 10px;\tmargin-top: -10px;\tbackground: transparent;\tz-index: 9999;}#body-inner {\twidth: 100%;\theight: 100%;\tword-wrap: break-word;\tword-break: break-word;\t/**\t * default background and text colors\t */\tbackground: #f2f2f2;\tcolor: #333;}a {\tcolor: #333;}\t#body .view {\t\tdisplay: none;\t}\t#body a {\t\ttext-decoration: none;\t}\t#body a:hover {\t\ttext-decoration: underline;\t}\t#body a.fb_button:hover {\t\ttext-decoration: none;\t}\t\t#body label {\t\tdisplay: block;\t\tfont-weight: bold;\t}\t\t#body .form div.valid {\t\t  opacity: 0.25;\t\t}\t\t#body .form div.invalid label {\t\t\tcolor: #f00;\t\t}\t\t\t#body .form div.invalid .group label {\t\t\t\tcolor: inherit;\t\t\t}\t\t#body form .asterisk {\t\t\tcolor: #f00;\t\t}\t\t/**\t\t * styling \'select skill\' element\t\t */\t\t#skill option {\t\t\tcolor: #999;\t\t}\t\t#skill option.online {\t\t\tcolor: #090;\t\t}\t#content {\t\ttable-layout: fixed;\t}\t\t#content p,\t\t#content .integration,\t\t#content .form div p,\t\t#typing-indicator {\t\t\tpadding-left: 10px;\t\t\tpadding-right: 10px;\t\t}\t\t#content img.avatar {\t\t\t/* display only if such an option is set */\t\t\tdisplay: none;\t\t\tfloat: left;\t\t\tmargin-right: 10px;\t\t\t/* remove whitespace from the bottom of avatar */\t\t\tvertical-align: top; \t\t}\t\t\tbody.avatar-enabled #content img.avatar {\t\t\t\tdisplay: block;\t\t\t}\t\t.operator-name,\t\t.operator-role {\t\t\tdisplay: block;\t\t}\t\t.operator-name {\t\t\tmargin-top: 2px;\t\t\tfont-size: 16px;\t\t\tfont-weight: bold;\t\t}\t\t.operator-role {\t\t\tmargin-top: 0.25em;\t\t\tfont-size: 11px;\t\t}\t\t.author {\t\t\tdisplay: block;\t\t\tpadding-bottom: 2px;\t\t\ttext-shadow: 1px 1px 0 white;\t\t\tfont-weight: normal;\t\t}\t\t.client,\t\t.operator {\t\t\tmargin: 10px;\t\t\tborder-radius: 5px;\t\t\t-moz-border-radius: 5px;\t\t\t-webkit-border-radius: 5px;\t\t\tborder-bottom-width: 3px;\t\t\tborder-bottom-style: solid;\t\t\tbackground-color: #fff;\t\t\tcolor: #333;\t\t}\t\t.system {\t\t\tcolor: #999;\t\t}\t\t#content p.client.same-author,\t\t#content p.operator.same-author {\t\t\tmargin-top: -17px;\t\t}\t\t#content .integration {\t\t\tborder-width: 0;\t\t}\tinput.text,\ttextarea {\t\tborder: 1px solid #abadb3;\t\tpadding: 2px;\t\t-moz-border-radius: 2px;\t\t-webkit-border-radius: 2px;\t\tborder-radius: 2px;\t}\t.submit input {\t\tpadding: 2px 5px;\t}\t.submit .center {\t\ttext-align: center;\t}\tinput.text.error,\ttextarea.error {\t\tbackground: #fcc;\t}\tinput.text {\t\tdisplay: block;\t\twidth: 200px;\t}\tform span.group {\t\tdisplay: block;\t\tclear: both;\t\tline-height: 20px;\t}\t#body form span.group label {\t\tdisplay: inline;\t\tfont-weight: normal;\t\tmargin-top: 2px;\t}\t#body input.radio,\t#body input.checkbox {\t\tfloat: left;\t\tmargin-right: 5px;\t}\t#body .form-facebook {\t\ttext-align: center;\t}\t\t#body .form-facebook .fb_iframe_widget {\t\t\tmargin: 5px;\t\t\tmax-width: 345px;\t\t\ttext-align: left;\t\t\toverflow: hidden;\t\t\twhite-space: nowrap;\t\t}\t\t#body .form-facebook .fb-connect-or {\t\t\tposition: relative;\t\t\tpadding: 0;\t\t\tmargin: 10px 0 5px;\t\t}\t\t#body .form-facebook .fb-connect-or span {\t\t\tdisplay: inline-block;\t\t\tcolor: #ccc;\t\t}\t\t#body .form-facebook .fb-connect-or span:before,\t\t#body .form-facebook .fb-connect-or span:after {\t\t\tborder-top: 1px solid #ddd;\t\t\tdisplay: block;\t\t\theight: 1px;\t\t\tcontent: " ";\t\t\twidth: 40%;\t\t\tposition: absolute;\t\t\tleft: 0;\t\t\ttop: 50%;\t\t}\t    #body .form-facebook .fb-connect-or span:after {\t       right: 0;  \t       left: auto;\t\t}\t/*\t This style aplies to <textarea>s in chat surveys and offline form.\t To see styles of main chat textarea, refer to #message\t */\t#body textarea {\t\tdisplay: block;\t\twidth: 95%;\t\theight: 48px; /* 3 lines of text * 16px (line-height) = 48px */\t}\t#body-inner {\t\toverflow: auto;\t\tposition: relative;\t}\t#body p {\t\tposition: relative;\t\tclear: both;\t}\t\t#body .author .i-mobile {\t\t\tdisplay: none;\t\t\tmargin-right: 2px;\t\t\twidth: 12px;\t\t\tbackground-position: -18px -16px;\t\t}\t\t/* display mobile icon only when such option is turned on */\t\tbody.display-mobile-icon #body .author .i-mobile {\t\t\tdisplay: inline-block;\t\t\tmargin-left: 2px;\t\t}\t/* fix for tall paragraph with operator\'s avatar */\t#body p.system,\t#body p.system strong {\t\tvertical-align: top;\t}\t#body .time {\t\t/* displayed on paragraph hover by App.js */\t\tvisibility: hidden;\t\tfloat: right;\t\tfont-size: 9px;\t\tmargin-right: -5px;\t\tpadding: 0 5px;\t}\t\t#body .time.visible {\t\t\tvisibility: visible;\t\t}\t#typing-indicator {\t\tdisplay: none;\t\tfont-size: 85%;\t\tline-height: 18px;\t}\tbody.textarea-not-empty #typing-indicator {\t\tdisplay: none !important;\t}\t#textarea {\t\tdisplay: none;\t}\t#textarea,\t#textarea td {\t\theight: 20px;\t}\t#textarea p {\t\tpadding: 5px;\t}\t#message-wrapper {\t\tdisplay: block;\t\tpadding: 10px 10px 2px;\t}\t\t#textarea-wrapper {\t\t\tdisplay: block;\t\t\tpadding: 5px;\t\t\tposition: relative;\t\t\t-moz-border-radius: 5px;\t\t\t-webkit-border-radius: 5px;\t\t\tborder-radius: 5px;\t\t}\t\t.textarea-bg {\t\t\tbackground-color: #fff;\t\t}\t\t.textarea-font {\t\t\tcolor: #000;\t\t}\t\t#message-placeholder{\t\t\topacity: 0.7;\t\t\tposition: absolute;\t\t\ttop: 5px; left: 5px;\t\t\tcursor: text;\t\t}\t\t\tbody.client-sent-message #message-placeholder{\t\t\t\tdisplay: none;\t\t\t}\t#message {\t\tdisplay: block;\t\tpadding: 0;\t\twidth: 100%;\t\theight: 100%;\t\tborder: 0;\t\tfont: inherit;\t\theight: 32px;\t\toverflow: auto;\t\tresize: none;\t}\t\t/* decrease placeholder\'s opacity when textarea\'s focused */\t\t#message:focus + #message-placeholder{\t\t\topacity: 0.4;\t\t}#footer {}#footer td {\tpadding: 2px 0;\tline-height: 12px;\theight: 24px;}\t#footer p {\t\tpadding: 0;\t\tfont-size: 10px;\t\tline-height: 24px;\t}\t#footer #powered {\t\tpadding-right: 10px;\t}\t\t#footer #powered a {\t\t\ttext-decoration: none;\t\t}\t#footer #powered {\t\tfloat: right;\t\tpadding-right: 5px;\t\twhite-space: nowrap;\t}\t#footer #social {\t\tfloat: left;\t\tpadding-left: 10px;\t\tmargin-top: 2px;\t\twhite-space: nowrap;\t\toverflow: hidden;\t}\t\t#footer #social div {\t\t\theight: 20px;\t\t}\t\t#footer #social a {\t\t\tfloat: left;\t\t\tpadding: 2px 5px 0 0;\t\t}\t\t#social #plusone-container {\t\t\tfloat: left;\t\t\tmargin: 2px 5px 0 0;\t\t\theight: 16px; /* opera needs it */\t\t}\t\t#footer #secure .i-secure {\t\t\tdisplay: inline-block;\t\t\tzoom: 1;\t\t\t*float: left;\t\t}/* icons */.icon {\tbackground-image: url(//cdn.livechatinc.com/img/sprite.20111206.png);\tbackground-repeat: no-repeat;\tbackground-position: 0 16px;\tdisplay: inline-block;\tzoom: 1;\t*float: left;\twidth: 16px;\theight: 16px;\ttext-indent: -9999px;\tvertical-align: top;}\t.i-facebook { background-position: 0 0 }\t.i-twitter { background-position: 0 -16px }\t.i-close{ background-position: 0 -48px }\t.i-secure{ background-position: 0 -64px }\t.i-error{ background-position: 0 -192px }\t.i-mobile{ background-position: -16px -16px }\t.i-email{ background-position: -40px -55px;  width: 21px; height: 19px; }\t.i-email:hover,\t.i-email-ok,\t.i-email-focused{ background-position: -40px -34px; width: 21px; height: 19px; }/* facebook connect */#facebook-connect {\tdisplay: none;\tpadding-top: 3em;\ttext-align: center;}/* tooltips */#tooltip {\tposition: absolute;\tvisibility: hidden;\ttop: 0;\tleft: 0;\tpadding: 3px 5px;\tbackground: #333;\tcolor: white;\tz-index: 874284139;\t-moz-border-radius: 3px;\t-webkit-border-radius: 3px;\tborder-radius: 3px;}#tooltip-arrow {\tborder: 3px solid transparent;\tborder-color: transparent transparent #333 transparent;\tdisplay: block;\tleft: 0;\ttop: -6px;\tposition: absolute;\tz-index: 135;}#tooltip-content {\twhite-space: nowrap;}/* notifications */#notification {\tposition: absolute;\ttop: 12px;\tleft: 12px;\tright: 64px;\tline-height: 16px;\toverflow: hidden;\tz-index: 13095810935;\tcolor: #222;\ttext-shadow: 1px 1px 0 white;\t-moz-border-radius: 5px;\t-webkit-border-radius: 5px;\tborder-radius: 5px;}body.pop-out #notification {\ttop: 5px;\tleft: 5px;}\t#notification-content {\t\tpadding: 1px 5px;\t}/** * cover whole operators bar with notification * if chat is already started */#notification.error {\tbackground-color: #d00;\tcolor: #fff;\ttext-shadow: 1px 1px 0 #222;}/** * Closing confirmation */#confirm-closing{\t}\t#confirm-closing p{\t\tfont-size: 16px;\t\tmargin: 40px 0 20px 0;\t\ttext-align: center;\t}\t\t#confirm-closing p.actions{\t\t\tfont-size: 13px;\t\t\tmargin: 20px 0;\t\t}\t\t\t#confirm-closing p.actions input{\t\t\t\tfont-size: 14px;\t\t\t\tmargin-right: 20px;\t\t\t\tpadding: 2px 5px;\t\t\t\tdisplay: inline-block;\t\t\t}/** * Chat invitation */#view-invitation {\theight: 100%;}\t#view-invitation table {\t\twidth: 100%;\t\theight: 100%;\t}\t#view-invitation td {\t\ttext-align: center;\t\tvertical-align: middle;\t\tpadding-bottom: 50px;\t}\t#content #invitation-message {\t\tfont-size: 16px;\t\tline-height: 1.5em;\t\ttext-shadow: 1px 1px 0 white;\t\tmargin-bottom: 1em;\t\tpadding: 0 20px;\t}\t#invitation-buttons {\t\tmargin: 0 20px;\t}\t#invitation-buttons .cancel {\t\tdisplay: block;\t\tfont-size: 10px;\t}\t#cancel-chat {\t\tcolor: #999;\t\ttext-decoration: none;\t}\t#cancel-chat:hover {\t\ttext-decoration: underline;\t}#sound {\tposition: absolute;\ttop: -9999em;\tleft: -9999em;\tvisibility: hidden;}/** * nice-looking buttons */.btn a {\tdisplay: inline-block;\tpadding: 0.5em 1em;\tmargin: 0 0 0.5em;\tcolor: #fff;\tfont-size: 24px;\tline-height: 32px;\t-moz-border-radius: 3px;\t-webkit-border-radius: 3px;\tborder-radius: 3px;\ttext-shadow: 1px 1px 0 #06a;\tborder-top: 1px solid #4bf;\tborder-bottom: 1px solid #39f;}#content .btn a {\ttext-decoration: none;}/* more buttons styling in each theme\'s stylesheet */body.mobile #operators .logo {\tbackground-image: none !important;}body.mobile #fb_like_iframe {\twidth: 90px !important;}body.mobile #powered {\tfont-size: 8px !important;}</style><style type="text/livechat-styles-2.0">.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline;}:focus{outline:0;}body{line-height:1;color:black;background:#ffffff;}ol,ul{list-style:none;}table{border-collapse:separate;border-spacing:0;}caption,th,td{text-align:left;font-weight:normal;}blockquote:before,blockquote:after,q:before,q:after{content:"";}blockquote,q{quotes:"" "";}.s-common-minimize{background-position:0px 0px;width:17px;height:12px;}.s-common-email{background-position:-17px 0px;width:17px;height:11px;}.s-common-thumb-up{background-position:0px -12px;width:15px;height:16px;}.s-common-thumb-down{background-position:-15px -12px;width:15px;height:16px;}.s-common-close{background-position:-34px 0px;width:15px;height:16px;}.s-social-twitter{background-position:0px -28px;width:15px;height:15px;}.s-social-facebook{background-position:-15px -28px;width:15px;height:15px;}.s-common-mobile{background-position:-30px -28px;width:10px;height:14px;}.s-common-minimize,.s-common-email,.s-common-thumb-up,.s-common-thumb-down,.s-common-close,.s-social-twitter,.s-social-facebook,.s-common-mobile{display:inline-block;vertical-align:middle;background-image:url(//cdn.livechatinc.com/img/assets.20130731112151.png);background-repeat:no-repeat;}*{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;}html,body{background:transparent;height:100%;}body,table,input,textarea,select{font:12px/16px "Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif;}body{visibility:hidden;}a{color:inherit;text-decoration:none;}#css-container{display:none;}#extra{display:none;}#wrapper{position:absolute;top:0;right:0;bottom:0;left:0;z-index:6;}.outline{padding:6px;border:1px solid #ccc;border:1px solid rgba(100, 100, 100, 0.6);border-bottom-width:0;-webkit-border-radius:10px 10px 0 0;-moz-border-radius:10px 10px 0 0;border-radius:10px 10px 0 0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:inset 1px 1px 1px rgba(255, 255, 255, 0.2);-moz-box-shadow:inset 1px 1px 1px rgba(255, 255, 255, 0.2);box-shadow:inset 1px 1px 1px rgba(255, 255, 255, 0.2);}body.pop-out .outline,body.pop-out #wrapper{border-width:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}#content{width:100%;background:transparent;}body.pop-out #content{height:100%;}#content p,#content .integration,#typing-indicator{padding:8px;}#content .form{padding:5px 0;}#content .form div{padding:5px 0;}#content .form div.sticked_to_field{margin-top:-10px;}#content .form div p{padding:0 5px;}#content .integration{border-width:1px;border-style:solid;margin-top:-1px;border-width:1px 0;}#content .integration p{padding-left:0;padding-right:0;}.ajax-loader{display:inline-block;zoom:1;*float:left;width:16px;height:16px;margin-left:5px;vertical-align:middle;background-image:url(//cdn.livechatinc.com/img/loader.gif);background-position:0 0;background-repeat:no-repeat;visibility:hidden;}#title-container td{height:26px;line-height:26px;font-size:14px;}#title-container .title-button{display:block;cursor:pointer;float:right;margin-top:6px;background-repeat:no-repeat;}#title-container #close-chat{display:none;margin-right:0px;}#title-container #minimize{margin-top:8px;}body.pop-out #title-container #minimize{display:none;}#title-container #minimize{margin-right:5px;}#title-container #close-chat{margin-left:6px;}body.state-chatting #title-container #close-chat{display:block;}body.pop-out #notification{right:36px;}body.pop-out.state-chatting #notification{right:58px;}body.state-chatting #notification{right:86px;}#title{display:block;padding:0 7px 6px 8px;font-weight:bold;}body.pop-out #title{cursor:default;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}#title #title-text{margin-left:3px;font-size:14px;}#operators{display:none;}body.has-operators-bar #operators{display:table-row;}.operators-bar{color:#333;}.operators-bar .wrapper{background:#fcfcfc;border:1px solid #fff;border-bottom-width:0;}#operators td{padding:0px;height:86px;}#operators .wrapper{position:relative;height:86px;float:left;width:100%;z-index:13897311;padding:15px 10px;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),inset 0 4px 10px rgba(0, 0, 0, 0.05);-moz-box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),inset 0 4px 10px rgba(0, 0, 0, 0.05);box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),inset 0 4px 10px rgba(0, 0, 0, 0.05);}#operators .logo{background-position:100% 50%;background-repeat:no-repeat;}#operators .operator-info{background-position:100% 50%;background-repeat:no-repeat;height:52px;}#operators #rating{position:relative;float:left;top:1px;height:19px;margin-right:10px;color:#999;}#operators .rating-button{display:block;background-repeat:no-repeat;cursor:pointer;z-index:5001;}#operators a.rate-good{float:right;position:relative;height:19px;color:#999;top:0.1px;}#operators a.rate-good .s-common-thumb-up{margin-top:-4px;margin-right:5px;}#operators a.rate-good:hover,#operators a.rated-good{color:#222;}#operators span.rate-good{height:19px;line-height:22px;font-size:10px;margin-right:3px;float:left;padding:0px 4px 0 0px;cursor:pointer;z-index:5001;}#operators a.rate-bad{float:right;margin-top:3px;}#operators .s-common-thumb-up,#operators .s-common-thumb-down{-moz-opacity:0.6;-khtml-opacity:0.6;-webkit-opacity:0.6;opacity:0.6;}#operators a:hover .s-common-thumb-up,#operators a:hover .s-common-thumb-down,#operators a.rated-good .s-common-thumb-up,#operators a.rated-bad .s-common-thumb-down{-moz-opacity:1;-khtml-opacity:1;-webkit-opacity:1;opacity:1;}#operators #email_transcript{position:relative;float:left;top:2px;}#operators #email_transcript .s-common-email{-moz-opacity:0.6;-khtml-opacity:0.6;-webkit-opacity:0.6;opacity:0.6;}#operators #email_transcript .s-common-email.active,#operators #email_transcript .s-common-email:hover,#operators #email_transcript .s-common-email.focused{-moz-opacity:1;-khtml-opacity:1;-webkit-opacity:1;opacity:1;}#operators #email_transcript a{display:block;}#operators #email_transcript_form{display:none;position:absolute;top:80px;left:-1px;right:-2px;z-index:189375;padding:5px 10px 5px;border-width:1px 2px 0 0;border-style:solid;}#operators #email_transcript_form form{margin-left:-5px;}#operators #email_transcript_form input.text{display:inline;margin-left:5px;}#operators #email_transcript_form span{display:block;font-size:10px;}#operators #email_transcript_form .cancel{font-size:11px;}#operators #email_transcript_form .cancel,#operators #email_transcript_form .cancel span{display:inline;}#operators #email_transcript_form .cancel .or,#operators #email_transcript_form .cancel a{-moz-opacity:0.8;-khtml-opacity:0.8;-webkit-opacity:0.8;opacity:0.8;}#operators #email_transcript_form .cancel a:hover{-moz-opacity:1;-khtml-opacity:1;-webkit-opacity:1;opacity:1;}#operators #email_transcript_form .cancel a{font-size:10px;text-decoration:underline;}#operators #email_transcript_form .top-shadow{position:absolute;bottom:0;left:0;right:0;height:2px;}.top-shadow{display:none;border-top:1px solid #f8f8f8;background:#f8f8f8;}#body{position:relative;width:100%;overflow:hidden;border:1px solid #fff;-webkit-box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -4px 10px rgba(0, 0, 0, 0.2);-moz-box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -4px 10px rgba(0, 0, 0, 0.2);box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -4px 10px rgba(0, 0, 0, 0.2);-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}body.has-operators-bar #body{border-top-width:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}#body .top-shadow{position:absolute;top:0;left:0;width:100%;height:1px;margin-top:0px;background:transparent;z-index:9999;}#body-inner{width:100%;height:100%;word-wrap:break-word;word-break:break-word;background:#fff;color:#333;-webkit-box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),inset 0 4px 10px rgba(0, 0, 0, 0.05);-moz-box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),inset 0 4px 10px rgba(0, 0, 0, 0.05);box-shadow:1px 0 0 rgba(255, 255, 255, 0.2),inset 0 4px 10px rgba(0, 0, 0, 0.05);-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}body.has-operators-bar #body-inner{border-top:1px solid #e8e8e8;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}a{color:#333;}#body .view{display:none;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}body.has-operators-bar #body .view{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}#body a{text-decoration:none;}#body a:hover{text-decoration:underline;}#body a.fb_button:hover{text-decoration:none;}#body label{display:block;font-weight:bold;}#body .form div.valid{opacity:0.25;}#body .form div.invalid label{color:#f00;}#body .form div.invalid .group label{color:inherit;}#body form .asterisk{color:#f00;}#skill option{color:#999;}#skill option.online{color:#090;}#content p,#content .integration,#content .form div p,#typing-indicator{padding-left:10px;padding-right:10px;}#content img.avatar{display:none;float:left;margin-right:15px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;padding:1px;border:1px solid #ddd;width:58px;height:58px;vertical-align:top;}body.avatar-enabled #content img.avatar{display:block;}.operator-name,.operator-role{display:block;}.operator-name{margin-top:2px;font-size:14px;font-weight:bold;color:#333;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.operator-role{margin-top:0.25em;font-size:11px;color:#777;}.author{display:block;padding-bottom:2px;font-weight:normal;color:#999;}.client,.operator{border-top:1px solid #e8e8e8;color:#333;}.client:first-child,.operator:first-child{border-top-width:0;}.system{color:#999;}#body .client a,#body .operator a,#body .system a{text-decoration:underline;}#content p.client.same-author,#content p.operator.same-author{padding-top:0;margin-top:-4px;border-width:0;}#content .integration{border-width:0;}input.text,textarea{border:1px solid #abadb3;padding:2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}.submit input{padding:2px 5px;}.submit .center{text-align:center;}input.text.error,textarea.error{background:#fcc;}input.text{display:block;width:200px;}form span.group{display:block;clear:both;line-height:20px;}#body form span.group label{display:inline;font-weight:normal;margin-top:2px;}#body input.radio,#body input.checkbox{float:left;margin-right:5px;}#body .form-facebook{text-align:center;}#body .form-facebook .fb_iframe_widget{margin:5px;max-width:345px;text-align:left;overflow:hidden;white-space:nowrap;}#body .form-facebook .fb-connect-or{position:relative;padding:0;margin:10px 0 5px;}#body .form-facebook .fb-connect-or span{display:inline-block;color:#ccc;}#body .form-facebook .fb-connect-or span:before,#body .form-facebook .fb-connect-or span:after{border-top:1px solid #ddd;display:block;height:1px;content:" ";width:40%;position:absolute;left:0;top:50%;}#body .form-facebook .fb-connect-or span:after{right:0;left:auto;}#body textarea{display:block;width:95%;height:48px;}#body-inner{overflow:auto;position:relative;}#body p{position:relative;clear:both;}#body .author .s-common-mobile{display:none;margin-left:4px;margin-top:-2px;}body.display-mobile-icon #body .author .s-common-mobile{display:inline-block;}#body p.system,#body p.system strong{vertical-align:top;}#body .time{visibility:hidden;float:right;font-size:9px;margin-right:-5px;padding:0 5px;}.time{color:#999;}#body .time.visible{visibility:visible;}#typing-indicator{display:none;font-size:85%;line-height:18px;}#textarea{display:none;}#textarea td{-webkit-box-shadow:inset 0 1px 0px rgba(255, 255, 255, 0.2);-moz-box-shadow:inset 0 1px 0px rgba(255, 255, 255, 0.2);box-shadow:inset 0 1px 0px rgba(255, 255, 255, 0.2);}#textarea p{padding:5px;}#message-wrapper{display:block;padding:4px 0px 0px 0px;}#textarea-wrapper{display:block;padding:5px;position:relative;border:1px solid #000;-webkit-border-radius:0 0 5px 5px;-moz-border-radius:0 0 5px 5px;border-radius:0 0 5px 5px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;box-shadow:0 1px 0 rgba(255, 255, 255, 0.2),1px 0 0 rgba(255, 255, 255, 0.2);}.textarea-bg{background-color:#fff;}.textarea-font{color:#000;}#message-placeholder{opacity:0.7;position:absolute;top:5px;left:5px;cursor:text;}body.client-sent-message #message-placeholder{display:none;}#message{display:block;padding:0;width:100%;height:100%;border:0;font:inherit;height:32px;overflow:auto;resize:none;}#message:focus+#message-placeholder{opacity:0.4;}#footer td{padding:0px 0;line-height:11px;height:24px;}#footer p{padding:0;font-size:10px;line-height:24px;}#footer #powered{padding-right:5px;}#footer #powered a{text-decoration:none;}#footer #powered{float:right;white-space:nowrap;}#footer #social{float:left;margin-top:2px;white-space:nowrap;overflow:hidden;}#footer #social div{height:20px;}#footer #social a{float:left;padding:2px 5px 0 0;}#social #plusone-container{float:left;margin:2px 5px 0 0;height:16px;}#facebook-connect{display:none;padding-top:3em;text-align:center;}#fb-butt{margin-bottom:0.5em;}#fb-butt a{display:inline-block;text-decoration:none;}#fb-butt .fb_button_icon{float:left;display:inline-block;background-image:url(../../img/settings/prechat_survey/facebook.png);width:25px;height:25px;}#fb-butt .fb_button_border{float:left;display:inline-block;background-color:#5F78AB;border-top:1px solid #29447E;border-right:1px solid #29447E;border-bottom:1px solid #29447E;}#fb-butt .fb_button_text{display:inline-block;font-size:13px;line-height:16px;padding:3px 6px 3px;color:#fff;border-top:1px solid #879AC0;font-weight:bold;}#fb-omit a{text-decoration:none;font-size:80%;color:#0B4A7A;}#fb-omit a:hover{text-decoration:underline;}#tooltip{position:absolute;visibility:hidden;top:0;left:0;padding:3px 5px;background:#333;color:white;z-index:874284139;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}#tooltip-arrow{border:3px solid transparent;border-color:transparent transparent #333 transparent;display:block;left:0;top:-6px;position:absolute;z-index:135;}#tooltip-content{white-space:nowrap;}#notification{position:absolute;top:12px;left:12px;right:64px;line-height:16px;overflow:hidden;z-index:13095810935;color:#222;text-shadow:1px 1px 0 white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;}body.pop-out #notification{top:5px;left:5px;}#notification-content{padding:1px 5px;}#notification.error{background-color:#d00;color:#fff;text-shadow:1px 1px 0 #222;}#confirm-closing p{font-size:16px;margin:40px 0 20px 0;text-align:center;}#confirm-closing p.actions{font-size:13px;margin:20px 0;}#confirm-closing p.actions input{font-size:14px;margin-right:20px;padding:2px 5px;display:inline-block;}#view-invitation{height:100%;}#view-invitation table{width:100%;height:100%;}#view-invitation td{text-align:center;vertical-align:middle;padding-bottom:50px;}#content #invitation-message{font-size:16px;line-height:1.5em;text-shadow:1px 1px 0 white;margin-bottom:1em;padding:0 20px;}#invitation-buttons{margin:0 20px;}#invitation-buttons .cancel{display:block;font-size:10px;}#cancel-chat{color:#999;text-decoration:none;}#cancel-chat:hover{text-decoration:underline;}#sound{position:absolute;top:-9999em;left:-9999em;visibility:hidden;}.btn a{display:inline-block;padding:0.5em 1em;margin:0 0 0.5em;color:#fff;font-size:24px;line-height:32px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;text-shadow:1px 1px 0 #06a;border-top:1px solid #4bf;border-bottom:1px solid #39f;}#content .btn a{text-decoration:none;}.btn a{font-variant:small-caps;padding:0.4em 1em 0.6em;}</style><meta name="viewport" content="width=device-width, initial-scale=1.0">  <style type="text/livechat-theme-1.0" id="theme-deprecated">#textarea-wrapper {\t/* fix for invisible textarea (white textarea on white background) */\tborder: 1px solid #bbb;}.message-wrapper {\t-moz-box-shadow: none;\t-webkit-box-shadow: none;\tbox-shadow: none;}.btn a {\ttext-shadow: 1px 1px 0 #06a;\tborder-top: 1px solid #4bf;\tborder-bottom: 1px solid #39f;\t-moz-box-shadow: 0 1px 0 #39d, 0 -1px 0 #39d, 1px 0 0 #39d, -1px 0 0 #39d;\t-webkit-box-shadow: 0 1px 0 #39d, 0 -1px 0 #39d, 1px 0 0 #39d, -1px 0 0 #39d;\tbox-shadow: 0 1px 0 #39d, 0 -1px 0 #39d, 1px 0 0 #39d, -1px 0 0 #39d;\tbackground: #4ae;\tbackground: -moz-linear-gradient(top,  #4ae,  #28d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#4ae), to(#28d));}.btn a:hover {\tborder-top-color: #5cf;\tborder-bottom-color: #3af;\tbackground: #4bf;\tbackground: -moz-linear-gradient(top,  #4bf,  #39d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#4bf), to(#39d));}.btn a:active,.btn a:focus {\tborder-top-color: #3af;\tborder-bottom-color: #38f;\tbackground: #49d;\tbackground: -moz-linear-gradient(top,  #49d,  #17d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#49d), to(#17d));}</style><style type="text/livechat-theme-1.0" id="theme-not-deprecated">/** * Common styles for all customers that have never used old pop-up chat window *//* default background for operators box */#operators td {\tbackground-color: #fff;}</style><style type="text/livechat-theme-1.0" id="theme-cloud">.title-bg { background-color: #EBEBEB; }.title-font { color: #333; text-shadow: 1px 1px 0 #fff; }.footer { color: #6D94B0;  background-color: #0B4A7A; }.operator-border { border-color: #a4b4bf; }.client-border { border-color: #E3E4E4; }/* custom css */.outline {\tborder-color: #a4b4bf;\tborder-color: rgba(75, 107, 130, 0.5);}.title-button { background-color: #b2c5d4; }.title-button:hover { background-color: #a1b4c3; }.operators-bar { background-color: #fff; color: #333; }.operator-role { color: #777; }.operator-name { text-shadow: 1px 1px 0 white; }a, .author { color: #0b4a7a; }.client { background: #e6eef5; }.operator { background: #fff; }.time { color: #999; }.message-wrapper {\t-moz-box-shadow: inset 0 6px 6px #036;\t-webkit-box-shadow: inset 0 6px 6px #036;\tbox-shadow: inset 0 6px 6px #036;}.btn a {\ttext-shadow: 1px 1px 0 #06a;\tborder-top: 1px solid #4bf;\tborder-bottom: 1px solid #39f;\t-moz-box-shadow: 0 1px 0 #39d, 0 -1px 0 #39d, 1px 0 0 #39d, -1px 0 0 #39d;\t-webkit-box-shadow: 0 1px 0 #39d, 0 -1px 0 #39d, 1px 0 0 #39d, -1px 0 0 #39d;\tbox-shadow: 0 1px 0 #39d, 0 -1px 0 #39d, 1px 0 0 #39d, -1px 0 0 #39d;\tbackground: #4ae;\tbackground: -moz-linear-gradient(top,  #4ae,  #28d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#4ae), to(#28d));}.btn a:hover {\tborder-top-color: #5cf;\tborder-bottom-color: #3af;\tbackground: #4bf;\tbackground: -moz-linear-gradient(top,  #4bf,  #39d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#4bf), to(#39d));}.btn a:active,.btn a:focus {\tborder-top-color: #3af;\tborder-bottom-color: #38f;\tbackground: #49d;\tbackground: -moz-linear-gradient(top,  #49d,  #17d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#49d), to(#17d));}</style><style type="text/livechat-theme-1.0" id="theme-fire">.title-bg { background-color: #EBEBEB; }.title-font { color: #333; text-shadow: 1px 1px 0 #fff; }.footer { color: #ffffff; background-color: #a33; }.operator-border { border-color: #d99; }.client-border { border-color: #e3e4e4; }/* custom css */.outline {\tborder-color: #d99;\tborder-color: rgba(189, 60, 60, 0.5);}.title-button { background-color: #d3d3d3; }.title-button:hover { background-color: #c3c3c3; }.operators-bar { background-color: #fff; color: #333; }.operator-role { color: #777; }.operator-name { text-shadow: 1px 1px 0 white; }a, .author { color: #900; }.client { background: #fff; }.operator { background: #fff; }.time { color: #999; }.message-wrapper {\t-moz-box-shadow: inset 0 6px 6px #922;\t-webkit-box-shadow: inset 0 6px 6px #922;\tbox-shadow: inset 0 6px 6px #922;}.btn a {\ttext-shadow: 1px 1px 0 #300;\tborder-top-color: #c55;\tborder-bottom-color: #a44;\t-moz-box-shadow: 0 1px 0 #900, 0 -1px 0 #900, 1px 0 0 #900, -1px 0 0 #900;\t-webkit-box-shadow: 0 1px 0 #900, 0 -1px 0 #900, 1px 0 0 #900, -1px 0 0 #900;\tbox-shadow: 0 1px 0 #900, 0 -1px 0 #900, 1px 0 0 #900, -1px 0 0 #900;\tbackground: #b44;\tbackground: -moz-linear-gradient(top,  #b44,  #922);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#b44), to(#922));}.btn a:hover {\tborder-top-color: #d66;\tborder-bottom-color: #b55;\tbackground: #c55;\tbackground: -moz-linear-gradient(top,  #c55,  #a33);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#c55), to(#a33));}.btn a:active,.btn a:focus {\tborder-top-color: #b44;\tborder-bottom-color: #a33;\tbackground: #a33;\tbackground: -moz-linear-gradient(top,  #a33,  #811);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#a33), to(#811));}</style><style type="text/livechat-theme-1.0" id="theme-grass">.title-bg { background-color: #EBEBEB; }.title-font { color: #333; text-shadow: 1px 1px 0 #fff; }.footer { color: #ffffff; background-color: #072; }.operator-border { border-color: #9b7; }.client-border { border-color: #e3e4e4; }/* custom css */.outline {\tborder-color: #9b7;\tborder-color: rgba(66, 119, 12, 0.5);}.title-button { background-color: #d3d3d3; }.title-button:hover { background-color: #c3c3c3; }.operators-bar { background-color: #fff; color: #333; }.operator-role { color: #777; }.operator-name { text-shadow: 1px 1px 0 white; }a, .author { color: #070; }.client { background: #fff; }.operator { background: #fff; }.time { color: #999; }.message-wrapper {\t-moz-box-shadow: inset 0 6px 6px #060;\t-webkit-box-shadow: inset 0 6px 6px #060;\tbox-shadow: inset 0 6px 6px #060;}.btn a {\ttext-shadow: 1px 1px 0 #030;\tborder-top-color: #294;\tborder-bottom-color: #294;\t-moz-box-shadow: 0 1px 0 #060, 0 -1px 0 #060, 1px 0 0 #060, -1px 0 0 #060;\t-webkit-box-shadow: 0 1px 0 #060, 0 -1px 0 #060, 1px 0 0 #060, -1px 0 0 #060;\tbox-shadow: 0 1px 0 #060, 0 -1px 0 #060, 1px 0 0 #060, -1px 0 0 #060;\tbackground: #072;\tbackground: -moz-linear-gradient(top,  #072,  #183);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#072), to(#183));}.btn a:hover {\tborder-top-color: #3a5;\tborder-bottom-color: #3a5;\tbackground: #183;\tbackground: -moz-linear-gradient(top,  #183,  #294);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#183), to(#294));}.btn a:active,.btn a:focus {\tborder-top-color: #173;\tborder-bottom-color: #072;\tbackground: #061;\tbackground: -moz-linear-gradient(top,  #061,  #072);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#061), to(#072));}</style><style type="text/livechat-theme-1.0" id="theme-sun">.title-bg { background-color: #EBEBEB; }.title-font { color: #333; text-shadow: 1px 1px 0 #fff; }.footer { color: #ffffff; background-color: #d81; }.operator-border { border-color: #f9ccaa; }.client-border { border-color: #e3e4e4; }/* custom css */.outline {\tborder-color: #f9ccaa;\tborder-color: rgba(240, 149, 103, 0.5);}.title-button { background-color: #d3d3d3; }.title-button:hover { background-color: #c3c3c3; }.operators-bar { background-color: #fff; color: #333; }.operator-role { color: #777; }.operator-name { text-shadow: 1px 1px 0 white; }#chat-window-preview a, .author { color: #c70; }.client { background: #fff; }.operator { background: #fff; }.time { color: #999; }.message-wrapper {\t-moz-box-shadow: inset 0 6px 6px #c70;\t-webkit-box-shadow: inset 0 6px 6px #c70;\tbox-shadow: inset 0 6px 6px #c70;}.btn a {\ttext-shadow: 1px 1px 0 #740;\tborder-top-color: #da2;\tborder-bottom-color: #da2;\t-moz-box-shadow: 0 1px 0 #b70, 0 -1px 0 #b70, 1px 0 0 #b70, -1px 0 0 #b70;\t-webkit-box-shadow: 0 1px 0 #b70, 0 -1px 0 #b70, 1px 0 0 #b70, -1px 0 0 #b70;\tbox-shadow: 0 1px 0 #b70, 0 -1px 0 #b70, 1px 0 0 #b70, -1px 0 0 #b70;\tbackground: #c80;\tbackground: -moz-linear-gradient(top,  #c80,  #d91);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#c80), to(#d91));}.btn a:hover {\tborder-top-color: #eb3;\tborder-bottom-color: #eb3;\tbackground: #d5900d;\tbackground: -moz-linear-gradient(top,  #d5900d,  #e9a51d);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#d5900d), to(#e9a51d));}.btn a:active,.btn a:focus {\tborder-top-color: #c91;\tborder-bottom-color: #c91;\tbackground: #c71;\tbackground: -moz-linear-gradient(top,  #c71,  #c81);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#c71), to(#c81));}</style><style type="text/livechat-theme-1.0" id="theme-night">.title-bg { background-color: #EBEBEB; }.title-font { color: #333; text-shadow: 1px 1px 0 #fff; }.footer { color: #ffffff; background-color: #333; }.operator-border { border-color: #999; }.client-border { border-color: #e3e4e4; }/* custom css */.outline {\tborder-color: #999;\tborder-color: rgba(54, 54, 54, 0.5);}.title-button { background-color: #d3d3d3; }.title-button:hover { background-color: #c3c3c3; }.operators-bar { background-color: #fff; color: #333; }.operator-role { color: #777; }.operator-name { text-shadow: 1px 1px 0 white; }#chat-window-preview a, .author { color: #000; }.client { background: #fff; }.operator { background: #fff; }.time { color: #999; }.message-wrapper {\t-moz-box-shadow: inset 0 6px 6px #222;\t-webkit-box-shadow: inset 0 6px 6px #222;\tbox-shadow: inset 0 6px 6px #222;}.btn a {\ttext-shadow: 1px 1px 0 #000;\tborder-top-color: #777;\tborder-bottom-color: #666;\t-moz-box-shadow: 0 1px 0 #333, 0 -1px 0 #333, 1px 0 0 #333, -1px 0 0 #333;\t-webkit-box-shadow: 0 1px 0 #333, 0 -1px 0 #333, 1px 0 0 #333, -1px 0 0 #333;\tbox-shadow: 0 1px 0 #333, 0 -1px 0 #333, 1px 0 0 #333, -1px 0 0 #333;\tbackground: #444;\tbackground: -moz-linear-gradient(top,  #444,  #555);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#444), to(#555));}.btn a:hover {\tborder-top-color: #888;\tborder-bottom-color: #777;\tbackground: #555;\tbackground: -moz-linear-gradient(top,  #555,  #666);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#555), to(#666));}.btn a:active,.btn a:focus {\tborder-top-color: #666;\tborder-bottom-color: #555;\tbackground: #333;\tbackground: -moz-linear-gradient(top,  #333,  #444);\tbackground: -webkit-gradient(linear, left top, left bottom, from(#333), to(#444));}</style><\!--[if IE]><style type="text/livechat-styles-1.0">#content {\tdisplay: table;}* html #body .time {\tmargin-right: 0px;}textarea {\toverflow: auto;\twidth: 95%;}#message {\twidth: 100%;}input {\toverflow: visible;}/** * fix for no 10px margin after last chat message */#view-chat {\tpadding-bottom: 0.1px;}/** * fixed support for display: table-row * in IE7- */body.has-operators-bar #operators {\tdisplay: block;}#operators a {\tfloat: left !important;}</style><![endif]--\><style type="text/livechat-theme-2.0" id="theme-cloud">.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.title-font{color:#ffffff;text-shadow:1px 1px 0 #3c4d59;}#body{border-color:#547b99;}.footer{color:#ffffff;background-color:#799bb3;}.outline{border-color:#547b99;background-color:#799bb3;}#title-container{background-color:#799bb3;}.operators-bar{background-color:#799bb3;}.operators-bar .wrapper{border-color:#547b99;}#textarea-wrapper{border-color:#547b99;}#email_transcript_form{border-top-color:#547b99;border-right-color:#799bb3;-webkit-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #547b99;-moz-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #547b99;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #547b99;}#email_transcript_form .text{border-color:#547b99;}#email_transcript_form .cancel,#email_transcript_form .cancel a{color:#ffffff;}.btn a{background:#6688aa;background:-webkit-gradient(linear, left bottom, left top, color-stop(0, #6688aa), color-stop(1, #799bb3));background:-ms-linear-gradient(bottom, #6688aa, #799bb3);background:-moz-linear-gradient(center bottom, #6688aa 0%, #799bb3 100%);border-color:#799bb3;}.btn a:hover{background:#7695b3;background:-webkit-gradient(linear, left bottom, left top, color-stop(0, #7695b3), color-stop(1, #89a7bc));background:-ms-linear-gradient(bottom, #7695b3, #89a7bc);background:-moz-linear-gradient(center bottom, #7695b3 0%, #89a7bc 100%);border-color:#89a7bc;}.btn a:focus,.btn a:active{background:#587b9e;background:-webkit-gradient(linear, left bottom, left top, color-stop(0, #587b9e), color-stop(1, #698faa));background:-ms-linear-gradient(bottom, #587b9e, #698faa);background:-moz-linear-gradient(center bottom, #587b9e 0%, #698faa 100%);border-color:#698faa;}</style><style type="text/livechat-theme-2.0" id="theme-fire">.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.title-font{color:#ffffff;text-shadow:1px 1px 0 #b85131;}#body{border-color:#c2613e;}.footer{color:#ffffff;background-color:#d47553;}.outline{border-color:#c2613e;background-color:#d47553;}#title-container{background-color:#d47553;}.operators-bar{background-color:#d47553;}.operators-bar .wrapper{border-color:#c2613e;}#textarea-wrapper{border-color:#c2613e;}#email_transcript_form{border-top-color:#c2613e;border-right-color:#d47553;-webkit-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #c2613e;-moz-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #c2613e;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #c2613e;}#email_transcript_form .text{border-color:#c2613e;}#email_transcript_form .cancel,#email_transcript_form .cancel a{color:#ffffff;}</style><style type="text/livechat-theme-2.0" id="theme-grass">.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.title-font{color:#ffffff;text-shadow:1px 1px 0 #5e8a11;}#body{border-color:#949c41;}.footer{color:#ffffff;background-color:#a3ab4f;}.outline{border-color:#949c41;background-color:#a3ab4f;}#title-container{background-color:#a3ab4f;}.operators-bar{background-color:#a3ab4f;}.operators-bar .wrapper{border-color:#949c41;}#textarea-wrapper{border-color:#949c41;}#email_transcript_form{border-top-color:#949c41;border-right-color:#a3ab4f;-webkit-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #949c41;-moz-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #949c41;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #949c41;}#email_transcript_form .text{border-color:#949c41;}#email_transcript_form .cancel,#email_transcript_form .cancel a{color:#ffffff;}</style><style type="text/livechat-theme-2.0" id="theme-sun">.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.title-font{color:#ffffff;text-shadow:1px 1px 0 #816e0c;}#body{border-color:#b37f19;}.footer{color:#ffffff;background-color:#cf992d;}.outline{border-color:#b37f19;background-color:#cf992d;}#title-container{background-color:#cf992d;}.operators-bar{background-color:#cf992d;}.operators-bar .wrapper{border-color:#b37f19;}#textarea-wrapper{border-color:#b37f19;}#email_transcript_form{border-top-color:#b37f19;border-right-color:#cf992d;-webkit-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #b37f19;-moz-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #b37f19;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #b37f19;}#email_transcript_form .text{border-color:#b37f19;}#email_transcript_form .cancel,#email_transcript_form .cancel a{color:#ffffff;}</style><style type="text/livechat-theme-2.0" id="theme-night">.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.title-font{color:#ffffff;text-shadow:1px 1px 0 #000000;}#body{border-color:#000000;}.footer{color:#ffffff;background-color:#3b3b3b;}.outline{border-color:#000000;background-color:#3b3b3b;}#title-container{background-color:#3b3b3b;}.operators-bar{background-color:#3b3b3b;}.operators-bar .wrapper{border-color:#000000;}#textarea-wrapper{border-color:#000000;}#email_transcript_form{border-top-color:#000000;border-right-color:#3b3b3b;-webkit-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #000000;-moz-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #000000;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.2),inset 0 -1px 0 #000000;}#email_transcript_form .text{border-color:#000000;}#email_transcript_form .cancel,#email_transcript_form .cancel a{color:#ffffff;}</style><style id="custom-css"></style></head><body><\!--\'outline\' color will be used only for <div> containing the iframe,otherwise border-radius on the whole <div> would not work properlySo we must use "outline" style for the below DOM elementto let JavaScript access this property and send it back to <div>--\><div id="css-container" class="outline"></div><div id="extra"></div><div id="wrapper" class="outline">\t<table id="content" cellspacing="0" cellpadding="0">\t<tbody>\t<tr id="title-container">\t<td>\t<a id="title" href="#" class="title title-bg title-font">\t\t<span href="" id="close-chat" class="title-button s-common-close" title="{%Close_chat%}"></span>\t\t<span href="" id="minimize" class="title-button s-common-minimize" title="{%Embedded_minimize_window%}"></span>\t\t<span id="title-text">{%Welcome_title%}</span>\t</a>\t</td>\t</tr>\t<tr id="operators">\t<td class="deprecated-top-bg deprecated-top-font operators-bar">\t<div class="wrapper"></div>\t</td>\t</tr>\t<tr id="body-container">\t<td>\t<div id="body">\t\t<div class="top-shadow"></div>\t\t<div id="body-inner">\t\t\t<div class="view" id="view-loading"><p id="loading-indicator">{%Loading%}&hellip;</p></div>\t\t\t<div class="view" id="view-offline-message-sent"><p>{%Offline_message_sent%}</p></div>\t\t\t<div class="view" id="view-connection-lost"><p>{%Connection_failed%}</p></div>\t\t\t<div class="view" id="view-confirm-closing"><div id="confirm-closing">\t<p>{%Leave_chat_confirm%}</p>\t\t<p class="actions">\t\t<input type="button" id="leave-chat" value="{%Button_leave_chat_confirm%}">\t\t<a href="" id="dont-leave-chat">{%Button_leave_chat_cancel%}</a>\t</p></div></div>\t\t\t<div class="view" id="view-prechat-survey"></div>\t\t\t<div class="view" id="view-chat">\t\t\t\t<div id="typing-indicator"><span class="typing-author"></span><span class="typing-dots">...</span></div>\t\t\t</div>\t\t\t<div class="view" id="view-invitation"></div>\t\t\t<div class="view" id="view-postchat-survey"></div>\t\t\t<div class="view" id="view-offline-form"></div>\t\t\t<div class="view" id="view-queued-form"></div>\t\t\t<div class="view" id="view-information"></div>\t\t</div>\t</div>\t</div>\t</td>\t</tr>\t<tr id="textarea">\t<td class="deprecated-secondary-bg deprecated-secondary-font footer">\t<span id="message-wrapper" class="message-wrapper"><span id="textarea-wrapper" class="textarea-bg"><textarea name="message" id="message" class="textarea-bg textarea-font" maxlength="3000"></textarea><span id="message-placeholder" class="textarea-font">{%Embedded_textarea_placeholder%}</span></span></span>\t</td>\t</tr>\t<tr id="footer">\t<td class="deprecated-secondary-bg deprecated-secondary-font footer">\t<div id="social"></div>\t<p id="powered"><a href="http://www.livechatinc.com/" target="_blank" class="deprecated-secondary-font footer">Powered by LiveChat</a></p>\t</td></tr>\t</tbody>\t</table></div></body></html>');
Template.register("confirm_closing",'<div id="confirm-closing">\t<p>{%Leave_chat_confirm%}</p>\t\t<p class="actions">\t\t<input type="button" id="leave-chat" value="{%Button_leave_chat_confirm%}">\t\t<a href="" id="dont-leave-chat">{%Button_leave_chat_cancel%}</a>\t</p></div>');Template.register("connection_lost","<p>{%Connection_failed%}</p>");Template.register("loading",'<p id="loading-indicator">{%Loading%}&hellip;</p>');Template.register("offline_message_sent","<p>{%Offline_message_sent%}</p>");
/*OK*/
